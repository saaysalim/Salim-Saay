;/*FB_PKG_DELIM*/

__d("EBDBConsistencyApi",["$InternalEnum","EBDB","FBLogger","I64","QPLUserFlow","ReQL","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],j=null;function a(){return j}async function k(a,b){try{var e=await d("EBDB").getEBDB(),g=BigInt((h||(h=d("I64"))).to_string(b));await e.runInTransaction(["device_state"],"readwrite",function(b){return b.stores.device_state.bulkPut([{deviceId:g,env:a}])},"EBDB - AddDevice",f.id+":53");j=g}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error on EBDB - AddDevice")}}function l(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state)).then(function(a){return a==null?void 0:a.deviceId})}async function e(a,b,d){if(d!=null)return k(b,d);try{d=await l(a);if(d==null)return;return k(b,d)}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error on fetching secure_encrypted_backups_client_state")}}async function m(a,b){c("QPLUserFlow").addPoint(b,"track_overprompting_start");try{var e=await d("EBDB").getEBDB(),g=!1;await e.runInTransaction(["device_state"],"readwrite",async function(b){b=await b.stores.device_state.get(a);(b==null?void 0:b.deviceId)!=null&&(g=!0)},"EBDB - AddDevice",f.id+":104");c("QPLUserFlow").addAnnotations(b,{bool:{overprompting:g}});c("QPLUserFlow").addPoint(b,"track_overprompting_end")}catch(a){c("QPLUserFlow").addPoint(b,"track_overprompting_fail"),c("FBLogger")("wmi_eb").catching(a).mustfix("Error on track overpropting")}}var n=b("$InternalEnum")({Disabled:0,EbsmInconsistent:1,EbdbInconsistent:2,Enabled:3,Inconsistent:4});async function o(a){a=await l(a);a=a!=null?BigInt((h||(h=d("I64"))).to_string(a)):null;if(a==null&&j==null)return n.Disabled;else if(a==null&&j!=null)return n.EbsmInconsistent;else if(a!=null&&j==null)return n.EbdbInconsistent;else if(a===j)return n.Enabled;else return n.Inconsistent}async function p(a,b,d,e){var f=1/c("justknobx")._("3914");if(Math.random()>=f)return;f=c("qpl")._(521471316,"2831");try{c("QPLUserFlow").start(f);a=await o(a);e!=null&&c("QPLUserFlow").addAnnotations(f,e());c("QPLUserFlow").endSuccess(f,{annotations:{int:{consistency:a,env:b,operation:d}}})}catch(a){c("QPLUserFlow").endFailure(f,"error"),c("FBLogger")("wmi_eb").catching(a).mustfix("Error on trackConsistency in %s",b)}}async function q(){await d("EBDB").clearDeviceState(),j=null}var r;async function s(a,b){r!=null&&r();await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)).then(function(a){a!=null&&((a==null?void 0:a.backupId)==null||(a==null?void 0:a.isUserOptedOut)===!0)&&void q()}).catch(function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: EBLS error on fetching data from encrypted_backups")});r=a.tables.encrypted_backups.subscribe(function(a,b){b.operation!=="delete"&&((b.value.backupId==null||b.value.isUserOptedOut===!0)&&void q())});var e=await d("EBDB").getEBDB(),g=await e.runInTransaction(["device_state"],"readonly",function(a){return a.stores.device_state.get(b)},"EBDB - readDeviceState",f.id+":245").catch(function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDB error: fetching device_state")});j=t(g==null?void 0:g.deviceId);if(j==null){g=await l(a);if(g==null)return;var i=BigInt((h||(h=d("I64"))).to_string(g));j=i;await e.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.bulkPut([{deviceId:i,env:b}])},"EBDB - writeDeviceState",f.id+":267").catch(function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDB error: write device_state")})}}function t(a){if(a==null)return;if(typeof a==="bigint")return a;if(typeof a==="number")return BigInt(a);if(typeof a==="string")try{return BigInt(a)}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: Parsing string as BigInt");void q();return}if(Array.isArray(a))try{return BigInt((h||(h=d("I64"))).to_string(a))}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: Parsing I64 as BigInt");void q();return}c("FBLogger")("wmi_eb").mustfix("EBDBApi: Parsing unknown as BigInt %s",String(a));void q()}g.EB_STORES=i;g.getDeviceId=a;g.addNewDevice=e;g.trackOverprompting=m;g.EBConsistencyResult=n;g.checkRegistrationConsistency=o;g.trackConsistency=p;g.clearDeviceState=q;g.startListeningDeviceRegistrations=s}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("LSAppendDataTraceAddonStoredProcedure",["LSAppendDataTraceAddon","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAppendDataTraceAddon"),e.dataTraceId,e.checkPointId,e.syncChannel,e.errorMessage,e.tags);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchBackupIds",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] Beginning execution."),d[11]=c.i64.cast([0,0]),d[7]=d[11],d[8]=new c.Map(),d[8].set("backup_tenancy",a[0]),d[8].set("trace_id",void 0),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",c.i64.cast([0,50008]),d[9],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,d[7]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupIdsStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFetchBackupIdsStoredProcedure";a.__tables__=["encrypted_backups"];e.exports=a}),null);
__d("LSFetchBackupIdsStoredProcedure",["LSFetchBackupIds","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchBackupIds"),e.backupTenancy,e.traceId,e.isUiBlocking);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,NEW_MEMBER_EXPORT:59,THREAD_POINT_QUERY:76,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,EB_POINT_QUERY_BUMP_MESSAGES:60,EB_POINT_QUERY_IN_ACT_FOR_INCOMING_RETRY_RECEIPT:61,EB_POINT_QUERY_IN_ACT_FOR_REPORTING:62,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_STATUS_UPDATE:63,EB_POINT_QUERY_IN_ACT_FOR_REPL_TEST:64,EB_POINT_QUERY_IN_ACT_FOR_FACEBOOK_APP_NSE_NOTIFICATION_RENDERING:65,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_EXPORT_HANDLING:66,EB_POINT_QUERY_IN_ACT_FOR_TAM_ACT_PROXY:67,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_MESSAGE:68,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_AI_BOT_MESSAGE:69,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_PERSISTENCE:70,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_INDEXING:71,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_NEW_MEMBER_HYDRATION:72,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_ECHO_TO_PROTO_CONVERSION:73,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_HISTORICAL_FUTURE_PROOF:74,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_REALTIME_BLOCKED:75,EB_POINT_QUERY_TO_FETCH_SENDER_DEVICE_KEYS:77,RESONANCE_UTILS:80,MPS_RESTORE_REVERB_RESTORE:81,REPORTING:82,CLIENT_MESSAGE_TRUNCATION:83,CALLING_XMA:84,EB_ACT_ATTACHMENT_RESTORE:85,EB_MEB_ATTACHMENT_ACCESS_CONTROL_RESTORE:86,FORCE_CLIENT_MESSAGE_TRUNCATION:87,ACT_EDIT_MESSAGE_VALIDATION:88,ACT_REVOKE_MESSAGE_VALIDATION:89});f["default"]=a}),66);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28});f["default"]=a}),66);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,FB_STORY_MENTION:22,EXPIRED_STORY:23,FB_PRODUCER_STORY_REPLY:24,FB_POST_MENTION:25,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28,IG_COLLAB_INVITE:29});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17,EPHEMERAL_RAVEN_MESSAGE:18,THIRD_PARTY_STICKER:19,SOUND_BITE:9});f["default"]=a}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(5);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("MAWAdminMsgType",[],(function(a,b,c,d,e,f){"use strict";a="currentUserAddedDevice";b="participantAddedDevice";c="currentUserRemovedDevice";d="participantRemovedDevice";e="currentUserUpdatedDevice";var g="participantUpdatedDevice",h="participantAddedYou",i="participantAddedYouAndOneUser",j="participantAddedYouAndMoreThanOneUsers",k="unknowUserAddedYou",l="unknowUserAddedYouAndOneUser",m="unknowUserAddedYouAndMoreThanOneUser",n="unknownUserAddedOneUser",o="unknownUserAddedTwoUser",p="unknownUserAddedMoreThanTwoUser",q="participantAddedOneUser",aa="participantAddedTwoUser",ba="participantAddedMoreThanTwoUser",ca="currentUserRemovedOneParticipant",da="currentUserRemovedTwoParticipant",ea="currentUserRemovedMoreThanTwoParticipant",fa="currentUserAddedOneParticipant",ga="currentUserAddedTwoParticipant",r="currentUserAddedMoreThanTwoParticipant",ha="participantRemovedYou",ia="participantRemovedYouAndOneUser",ja="participantRemovedYouAndMoreThanOneUsers",ka="unknowUserRemovedYou",la="unknowUserRemovedYouAndOneUser",ma="unknowUserRemovedYouAndMoreThanOneUser",na="unknownUserRemovedOneUser",oa="unknownUserRemovedTwoUser",pa="unknownUserRemovedMoreThanTwoUser",qa="participantRemovedOneUser",ra="participantRemovedTwoUser",sa="participantRemovedMoreThanTwoUser",ta="participantLeftGroup",ua="currentUserLeftGroup",va="participantCustomizeParticipantNickname",wa="participantClearParticipantNickname",xa="participantCustomizeCurrentUserNickname",ya="currentUserSetOwnNickname",za="currentUserClearOwnNickname",Aa="currentUserClearParticipantNickname",Ba="participantSetOwnNickname",Ca="participantClearOwnNickname",Da="participantClearCurrentUserNickname",Ea="currentUserCustomizeNickname",Fa="currentUserNamedGroup",Ga="unkonwnUserNamedGroup",Ha="participantNamedGroup",Ia="currentUserCustomizeHotlike",Ja="participantCustomizeHotlike",Ka="currentUserCustomizeTheme",La="currentUserCustomizeAITheme",Ma="currentUserCustomizePhoto",Na="participantCustomizeTheme",Oa="participantCustomizeAITheme",Pa="participantCustomizePhoto",Qa="currentUserSetAddModeAdminOnly",Ra="currentUserSetAddModeAllMembers",Sa="participantSetAddModeAdminOnly",Ta="participantSetAddModeAllMembers",Ua="serverSetAddModeAdminOnly",Va="serverSetAddModeAllMembers",s="currentUserPinnedMessage",t="currentUserUnpinnedMessage",u="participantPinnedMessage",v="participantUnpinnedMessage",w="currentUserLimitSharingDisabled",x="currentUserLimitSharingEnabled",y="participantLimitSharingDisabled",z="participantLimitSharingEnabled",A="cutoverThreadAdminMessage",B="cutoverIGDThreadAdminMessage",C="cutoverRollbackAdminMessage",D="dualThreadCutoverAdminMessage",Wa="dualThreadCutoverAdminMessageSelfThread",Xa="dualThreadCutoverAdminMessageWithOtherUserName",Ya="dualThreadCutoverAdminMessageOtherUserNameUnknown",E="e2eeThreadDescription",F="e2eeThreadUKOSAAdminMessage",Za="debugMsg",$a="reachabilityError",ab="twoUsersConnected",bb="twoUsersConnectedOneMSplit",G="CurrentUserCreatedPoll",H="ParticipantCreatedPoll",I="CurrentUserAddedPollOption",J="ParticipantAddedPollOption",K="CurrentUserAddedMultiplePollOptions",L="ParticipantAddedMultiplePollOptions",M="CurrentUserAddedPollVote",N="ParticipantAddedPollVote",O="CurrentUserAddedMultiplePollVotes",P="ParticipantAddedMultiplePollVotes",Q="CurrentUserRemovedPollVote",R="ParticipantRemovedPollVote",S="CurrentUserRemovedMultiplePollVotes",T="ParticipantRemovedMultiplePollVotes",U="CurrentUserMixedPollUpdate",V="ParticipantMixedPollUpdate",W="CurrentUserChangedPollVote",X="ParticipantChangedPollVote",Y="CurrentUserChangedMultiplePollVotes",Z="ParticipantChangedMultiplePollVotes",$="PollUnsentUpdate";r={CURRENT_USER_ADDED_DEVICE:a,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:r,CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:K,CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:O,CURRENT_USER_ADDED_ONE_PARTICIPANT:fa,CURRENT_USER_ADDED_POLL_OPTION:I,CURRENT_USER_ADDED_POLL_VOTE:M,CURRENT_USER_ADDED_TWO_PARTICIPANTS:ga,CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:Y,CURRENT_USER_CHANGED_POLL_VOTE:W,CURRENT_USER_CLEAR_OWN_NICKNAME:za,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:Aa,CURRENT_USER_CREATED_POLL:G,CURRENT_USER_CUSTOMIZE_AI_THEME:La,CURRENT_USER_CUSTOMIZE_HOTLIKE:Ia,CURRENT_USER_CUSTOMIZE_NICKNAME:Ea,CURRENT_USER_CUSTOMIZE_PHOTO:Ma,CURRENT_USER_CUSTOMIZE_THEME:Ka,CURRENT_USER_LEFT_GROUP:ua,CURRENT_USER_LIMIT_SHARING_DISABLED:w,CURRENT_USER_LIMIT_SHARING_ENABLED:x,CURRENT_USER_MIXED_POLL_UPDATE:U,CURRENT_USER_NAMED_GROUP:Fa,CURRENT_USER_PINNED_MESSAGE:s,CURRENT_USER_REMOVED_DEVICE:c,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:ea,CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:S,CURRENT_USER_REMOVED_ONE_PARTICIPANT:ca,CURRENT_USER_REMOVED_POLL_VOTE:Q,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:da,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:Qa,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:Ra,CURRENT_USER_SET_OWN_NICKNAME:ya,CURRENT_USER_UNPINNED_MESSAGE:t,CURRENT_USER_UPDATED_DEVICE:e,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:B,CUTOVER_ROLLBACK_ADMIN_MESSAGE:C,CUTOVER_THREAD_ADMIN_MESSAGE:A,DEBUG_MSG:Za,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:D,E2EE_THREAD_DESCRIPTION:E,E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:F,PARTICIPANT_ADDED_DEVICE:b,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:ba,PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:L,PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:P,PARTICIPANT_ADDED_ONE_USER:q,PARTICIPANT_ADDED_POLL_OPTION:J,PARTICIPANT_ADDED_POLL_VOTE:N,PARTICIPANT_ADDED_TWO_USER:aa,PARTICIPANT_ADDED_YOU:h,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:j,PARTICIPANT_ADDED_YOU_AND_ONE_USER:i,PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:Z,PARTICIPANT_CHANGED_POLL_VOTE:X,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:Da,PARTICIPANT_CLEAR_OWN_NICKNAME:Ca,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:wa,PARTICIPANT_CREATED_POLL:H,PARTICIPANT_CUSTOMIZE_AI_THEME:Oa,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:xa,PARTICIPANT_CUSTOMIZE_HOTLIKE:Ja,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:va,PARTICIPANT_CUSTOMIZE_PHOTO:Pa,PARTICIPANT_CUSTOMIZE_THEME:Na,PARTICIPANT_LEFT_GROUP:ta,PARTICIPANT_LIMIT_SHARING_DISABLED:y,PARTICIPANT_LIMIT_SHARING_ENABLED:z,PARTICIPANT_MIXED_POLL_UPDATE:V,PARTICIPANT_NAMED_GROUP:Ha,PARTICIPANT_PINNED_MESSAGE:u,PARTICIPANT_REMOVED_DEVICE:d,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:sa,PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:T,PARTICIPANT_REMOVED_ONE_USER:qa,PARTICIPANT_REMOVED_POLL_VOTE:R,PARTICIPANT_REMOVED_TWO_USER:ra,PARTICIPANT_REMOVED_YOU:ha,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:ja,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:ia,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:Sa,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:Ta,PARTICIPANT_SET_OWN_NICKNAME:Ba,PARTICIPANT_UNPINNED_MESSAGE:v,PARTICIPANT_UPDATED_DEVICE:g,POLL_UNSENT_UPDATE:$,REACHABILITY_ERROR:$a,SERVER_SET_ADD_MODE_ADMIN_ONLY:Ua,SERVER_SET_ADD_MODE_ALL_MEMBERS:Va,TWO_USERS_CONNECTED:ab,TWO_USERS_CONNECTED_ONE_MSPLIT:bb,UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:p,UNKNOWN_USER_ADDED_ONE_USER:n,UNKNOWN_USER_ADDED_TWO_USER:o,UNKNOWN_USER_ADDED_YOU:k,UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:m,UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:l,UNKNOWN_USER_NAMED_GROUP:Ga,UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER:pa,UNKNOWN_USER_REMOVED_ONE_USER:na,UNKNOWN_USER_REMOVED_TWO_USER:oa,UNKNOWN_USER_REMOVED_YOU:ka,UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:ma,UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER:la};f.CURRENT_USER_ADDED_DEVICE=a;f.CURRENT_USER_PINNED_MESSAGE=s;f.CURRENT_USER_UNPINNED_MESSAGE=t;f.PARTICIPANT_PINNED_MESSAGE=u;f.PARTICIPANT_UNPINNED_MESSAGE=v;f.CURRENT_USER_LIMIT_SHARING_DISABLED=w;f.CURRENT_USER_LIMIT_SHARING_ENABLED=x;f.PARTICIPANT_LIMIT_SHARING_DISABLED=y;f.PARTICIPANT_LIMIT_SHARING_ENABLED=z;f.CUTOVER_THREAD_ADMIN_MESSAGE=A;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=B;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=C;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=D;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=Wa;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=Xa;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=Ya;f.E2EE_THREAD_DESCRIPTION=E;f.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE=F;f.CURRENT_USER_CREATED_POLL=G;f.PARTICIPANT_CREATED_POLL=H;f.CURRENT_USER_ADDED_POLL_OPTION=I;f.PARTICIPANT_ADDED_POLL_OPTION=J;f.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS=K;f.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS=L;f.CURRENT_USER_ADDED_POLL_VOTE=M;f.PARTICIPANT_ADDED_POLL_VOTE=N;f.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES=O;f.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES=P;f.CURRENT_USER_REMOVED_POLL_VOTE=Q;f.PARTICIPANT_REMOVED_POLL_VOTE=R;f.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES=S;f.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES=T;f.CURRENT_USER_MIXED_POLL_UPDATE=U;f.PARTICIPANT_MIXED_POLL_UPDATE=V;f.CURRENT_USER_CHANGED_POLL_VOTE=W;f.PARTICIPANT_CHANGED_POLL_VOTE=X;f.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES=Y;f.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES=Z;f.POLL_UNSENT_UPDATE=$;f.ADMIN_MSG_TYPE=r}),66);
__d("MAWLocalizationType",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";e="unknownUserCreatedGroup";f="currentUserGotPromoted";var h="currentUserGotDemoted",i="participantGotPromoted",j="participantGotDemoted",k="participantPromotedYou",l="participantDemotedYou",m="currentUserPromotedParticipant",n="currentUserDemotedParticipant",o="participantDemotedParticipant",p="participantPromotedParticipant",q="participantSelfDemoted",r="currentUserSelfDemoted",s="currentUserSendText",t="currentUserSendImage",u="currentUserSendVideo",v="currentUserSendAudio",w="currentUserSendGif",x="currentUserSendSticker",y="participantSendText",z="participantSendTextInGroup",A="participantSendImage",B="participantSendVideo",C="participantSendAudio",D="participantSendGif",E="participantSendSticker",F="unavailableSnippet",G="unknownUserEphemeralSettingTurnedOnSeconds",H="unknownUserEphemeralSettingTurnedOnMinutes",I="unknownUserEphemeralSettingTurnedOnHours",J="unknownUserEphemeralSettingTurnedOnDays",K="youEphemeralSettingTurnedOnSeconds",L="youEphemeralSettingTurnedOnMinutes",M="youEphemeralSettingTurnedOnHours",N="youEphemeralSettingTurnedOnDays",O="participantEphemeralSettingTurnedOnSeconds",P="participantEphemeralSettingTurnedOnMinutes",Q="participantEphemeralSettingTurnedOnHours",R="participantEphemeralSettingTurnedOnDays",S="unknownUserEphemeralSettingChangeSeconds",T="unknownUserEphemeralSettingChangeMinutes",U="unknownUserEphemeralSettingChangeHours",V="unknownUserEphemeralSettingChangeDays",aa="youEphemeralSettingChangeSeconds",ba="youEphemeralSettingChangeMinutes",ca="youEphemeralSettingChangeHours",da="youEphemeralSettingChangeDays",ea="participantEphemeralSettingChangeSeconds",fa="participantEphemeralSettingChangeMinutes",ga="participantEphemeralSettingChangeHours",ha="participantEphemeralSettingChangeDays",ia="unknownUserEphemeralSettingTurnedOff",ja="youEphemeralSettingTurnedOff",ka="participantEphemeralSettingTurnedOff",la="ephemeralSettingsAutoReset",ma="currentUserUnsentMessage",na="participantUnsentMessage",oa="participantReactMessage",pa="participantReactMessageInGroup",W="unknownUserEphemeralTakeScreenshot",qa="unknownUserEphemeralRecordScreen",ra="youEphemeralTakeScreenshot",sa="youEphemeralRecordScreen",ta="participantEphemeralTakeScreenshot",ua="participantEphemeralRecordScreen",va="icdcAlertAdminMessage",wa="yourDeviceICDCAlertAdminMessage",X="currentUserSendAttachment",xa="participantSendAttachment",ya="currentUserSentPost",za="currentUserSentReel",Aa="currentUserSentStory",Ba="currentUserSentEvent",Ca="currentUserMentionedStoryIG",Da="currentUserReceivedStoryMentionIG",Ea="participantSentPost",Fa="participantSentReel",Ga="participantSentStory",Ha="participantSentEvent",Ia="currentUserSentStoryHighlight",Ja="participantSentStoryHighlight",Ka="currentUserMissedAudioCall",La="participantMissedAudioCall",Ma="currentUserMissedVideoCall",Na="participantMissedVideoCall",Oa="currentUserAudioCalled",Pa="participantAudioCalled",Qa="currentUserVideoCalled",Ra="participantVideoCalled",Sa="currentUserStartedGroupAudioCall",Ta="participantStartedGroupAudioCall",Ua="currentUserStartedGroupVideoCall",Va="participantStartedGroupVideoCall",Wa="currentUserBumpedOwnMessage",Xa="currentUserBumpedMessage",Ya="participantBumpedOwnMessage",Za="participantBumpedParticipantMessage",$a="participantBumpedCurrentUserMessage",ab="userSendUnavailableMessage",bb="userSendEncryptedMessage",cb="currentUserSendUnrenderableMessage",db="participantSendUnrenderableMessage",eb="currentUserSendLocationFallback",fb="participantSendLocation",gb="currentUserSendLiveLocationFallback",hb="participantSendLiveLocation",ib="currentUserSendLocation",jb="participantSendLocation",kb="currentUserSendPollCreationFallback",lb="participantSendPollCreation",mb="currentUserSendContactShareFallback",nb="participantSendContactShareFallback",ob="currentUserSendContactShare",pb="participantSendContactShare",qb="currentUserSendAIContactShare",rb="participantSendAIContactShare",sb="currentUserSendStoryMentionFallback",tb="currentUserSendStoryMention",ub="participantSendStoryMention",vb="participantSendStoryMentionFallback",wb="currentUserSendPostMentionFallback",xb="participantSendPostMentionFallback",yb="currentUserSendMemoriesShare",zb="participantSendMemoriesShare",Ab="currentUserSendPostMention",Bb="participantSendPostMention",Cb="currentUserSendNoteMentionFallback",Db="participantSendNoteMentionFallback",Eb="messengerMemoryEncryptedMessageFallback",Fb="rtcXMAMessageFallback",Gb="metaAISendMessageFallback",Hb="currentUserSendBumpMessageFallback",Ib="participantSendBumpMessageFallback",Jb="participantSendBumpMessageOriginalUnavailable",Kb="currentUserSendStickerReceiverFetchMessageFallback",Lb="participantSendStickerReceiverFetchMessageFallback",Mb="viewOncePhotoMessageFallback",Nb="viewOnceVideoMessageFallback",Ob="unavailableStory",Pb="currentUserLimitSharingDisabled",Qb="currentUserLimitSharingEnabled",Rb="participantLimitSharingDisabled",Sb="participantLimitSharingEnabled",Y="dualThreadCutoverAdminMessageOtherUserNameUnknown",Z="dualThreadCutoverAdminMessageSelfThread",$="dualThreadCutoverAdminMessageWithOtherUserName";d=babelHelpers["extends"]({},d("MAWAdminMsgType").ADMIN_MSG_TYPE,{CURRENT_USER_AUDIO_CALLED:Oa,CURRENT_USER_BUMPED_MESSAGE:Xa,CURRENT_USER_BUMPED_OWN_MESSAGE:Wa,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_DEMOTED_PARTICIPANT:n,CURRENT_USER_GOT_DEMOTED:h,CURRENT_USER_GOT_PROMOTED:f,CURRENT_USER_LIMIT_SHARING_DISABLED:Pb,CURRENT_USER_LIMIT_SHARING_ENABLED:Qb,CURRENT_USER_MENTIONED_STORY_IG:Ca,CURRENT_USER_MISSED_AUDIO_CALL:Ka,CURRENT_USER_MISSED_VIDEO_CALL:Ma,CURRENT_USER_PROMOTED_PARTICIPANT:m,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Da,CURRENT_USER_SELF_DEMOTED:r,CURRENT_USER_SEND_AI_CONTACT_SHARE:qb,CURRENT_USER_SEND_ATTACHMENT:X,CURRENT_USER_SEND_AUDIO:v,CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:Hb,CURRENT_USER_SEND_CONTACT_SHARE:ob,CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:mb,CURRENT_USER_SEND_GIF:w,CURRENT_USER_SEND_IMAGE:t,CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:gb,CURRENT_USER_SEND_LOCATION:ib,CURRENT_USER_SEND_LOCATION_FALLBACK:eb,CURRENT_USER_SEND_MEMORIES_SHARE:yb,CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:Cb,CURRENT_USER_SEND_POLL_CREATION_FALLBACK:kb,CURRENT_USER_SEND_POST_MENTION:Ab,CURRENT_USER_SEND_POST_MENTION_FALLBACK:wb,CURRENT_USER_SEND_STICKER:x,CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Kb,CURRENT_USER_SEND_STORY_MENTION:tb,CURRENT_USER_SEND_STORY_MENTION_FALLBACK:sb,CURRENT_USER_SEND_TEXT:s,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:cb,CURRENT_USER_SEND_VIDEO:u,CURRENT_USER_SENT_EVENT:Ba,CURRENT_USER_SENT_POST:ya,CURRENT_USER_SENT_REEL:za,CURRENT_USER_SENT_STORY:Aa,CURRENT_USER_SENT_STORY_HIGHLIGHT:Ia,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:Sa,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:Ua,CURRENT_USER_UNSENT_MESSAGE:ma,CURRENT_USER_VIDEO_CALLED:Qa,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:Y,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:Z,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:$,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:la,ICDC_ALERT_ADMIN_MESSAGE:va,MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:Eb,META_AI_SEND_MESSAGE_FALLBACK:Gb,PARTICIPANT_AUDIO_CALLED:Pa,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:$a,PARTICIPANT_BUMPED_OWN_MESSAGE:Ya,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Za,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_DEMOTED_PARTICIPANT:o,PARTICIPANT_DEMOTED_YOU:l,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:ua,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:ha,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:ga,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:fa,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ea,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:ka,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:R,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Q,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:P,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:O,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:ta,PARTICIPANT_GOT_DEMOTED:j,PARTICIPANT_GOT_PROMOTED:i,PARTICIPANT_LIMIT_SHARING_DISABLED:Rb,PARTICIPANT_LIMIT_SHARING_ENABLED:Sb,PARTICIPANT_MISSED_AUDIO_CALL:La,PARTICIPANT_MISSED_VIDEO_CALL:Na,PARTICIPANT_PROMOTED_PARTICIPANT:p,PARTICIPANT_PROMOTED_YOU:k,PARTICIPANT_REACT_MESSAGE:oa,PARTICIPANT_REACT_MESSAGE_IN_GROUP:pa,PARTICIPANT_SELF_DEMOTED:q,PARTICIPANT_SEND_AI_CONTACT_SHARE:rb,PARTICIPANT_SEND_ATTACHMENT:xa,PARTICIPANT_SEND_AUDIO:C,PARTICIPANT_SEND_BUMP_MESSAGE:Ib,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK:Jb,PARTICIPANT_SEND_CONTACT_SHARE:pb,PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:nb,PARTICIPANT_SEND_GIF:D,PARTICIPANT_SEND_IMAGE:A,PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:hb,PARTICIPANT_SEND_LOCATION:jb,PARTICIPANT_SEND_LOCATION_FALLBACK:fb,PARTICIPANT_SEND_MEMORIES_SHARE:zb,PARTICIPANT_SEND_NOTE_MENTION_FALLBACK:Db,PARTICIPANT_SEND_POLL_CREATION_FALLBACK:lb,PARTICIPANT_SEND_POST_MENTION:Bb,PARTICIPANT_SEND_POST_MENTION_FALLBACK:xb,PARTICIPANT_SEND_STICKER:E,PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Lb,PARTICIPANT_SEND_STORY_MENTION:ub,PARTICIPANT_SEND_STORY_MENTION_FALLBACK:vb,PARTICIPANT_SEND_TEXT:y,PARTICIPANT_SEND_TEXT_IN_GROUP:z,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:db,PARTICIPANT_SEND_VIDEO:B,PARTICIPANT_SENT_EVENT:Ha,PARTICIPANT_SENT_POST:Ea,PARTICIPANT_SENT_REEL:Fa,PARTICIPANT_SENT_STORY:Ga,PARTICIPANT_SENT_STORY_HIGHLIGHT:Ja,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:Ta,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:Va,PARTICIPANT_UNSENT_MESSAGE:na,PARTICIPANT_VIDEO_CALLED:Ra,RTC_XMA_FALLBACK:Fb,UNAVAILABLE_SNIPPET:F,UNAVAILABLE_STORY:Ob,UNKNOWN_USER_CREATED_GROUP:e,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:qa,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:V,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:U,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:T,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:S,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:ia,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:J,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:I,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:H,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:G,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:W,USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:bb,USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:ab,VIEW_ONCE_PHOTO_MESSAGE:Mb,VIEW_ONCE_VIDEO_MESSAGE:Nb,YOU_EPHEMERAL_RECORD_SCREEN:sa,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:da,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:ca,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:ba,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:aa,YOU_EPHEMERAL_SETTING_TURNED_OFF:ja,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:N,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:M,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:L,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:K,YOU_EPHEMERAL_TAKE_SCREENSHOT:ra,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:wa});g.CURRENT_USER_CREATED_GROUP=b;g.CURRENT_USER_SEND_TEXT=s;g.CURRENT_USER_SEND_IMAGE=t;g.CURRENT_USER_SEND_VIDEO=u;g.CURRENT_USER_SEND_AUDIO=v;g.CURRENT_USER_SEND_GIF=w;g.CURRENT_USER_SEND_STICKER=x;g.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=G;g.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=W;g.CURRENT_USER_SEND_ATTACHMENT=X;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=Y;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=Z;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=$;g.LOCALIZATION_TYPE=d}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:a=b[0];c=b[1];b[2];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=b[0];a=b[1];c=b[2];b[3];return{contactIds:[e],contents:[a,c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWAdminMsgTypesGrouped",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";b=[(a=d("MAWLocalizationType")).LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE];c=[a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN];e=[a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE,a.LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE];f=[a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS];d=[a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER];var h=[a.LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS,a.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS,a.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS],i=[a.LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],j=[a.LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,a.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME],k=[a.LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME,a.LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME],l=[a.LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE,a.LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE],m=[a.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED,a.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED,a.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,a.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED],n=[a.LOCALIZATION_TYPE.TWO_USERS_CONNECTED,a.LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT],o=[a.LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK],p=[a.LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK,a.LOCALIZATION_TYPE.RTC_XMA_FALLBACK],q=[a.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,a.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE],r=[a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE],s=[a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET],t=[a.LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE],u=[a.LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL],v=[a.LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED,a.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED,a.LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED,a.LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED],w=[a.LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP,a.LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_POST,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT,a.LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG,a.LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT,a.LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE],x=[a.LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP,a.LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_POST,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,a.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT];a=[a.LOCALIZATION_TYPE.EMPTY_SNIPPET];g.cutoverAdminMsgs=b;g.dualThreadCutoverAdminMsgs=c;g.deviceChanges=e;g.currentUserAddRemoveParticipant=f;g.otherUserAddRemoveParticipant=d;g.groupPermissionsChanged=h;g.participantLeftGroup=i;g.chatCustomizedByCurrentUser=j;g.chatCustomizedByOtherUser=k;g.pinnedMessageUpdate=l;g.limitSharingUpdate=m;g.twoUsersConnected=n;g.fallbackMsgFromCurrentUser=o;g.fallbackMsgFromOtherUser=p;g.currentUserBumpsMessage=q;g.otherUserBumpsMessage=r;g.ephemeralSettingChanges=s;g.icdcAlerts=t;g.callActionToNotifyAbout=u;g.callActionNotToNotifyAbout=v;g.otherNonAdminMsgToBeBumped=w;g.otherNonAdminMsgToBeMarkedAsUnread=x;g.otherNonAdminMsgToNotTriggerUpdate=a}),98);
__d("MAWAnimatedImageThumbnailStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){return(a=g.get(a))!=null?a:null}function b(a,b){g.set(a,b)}f.getThumbnailSpec=a;f.setThumbnailSpec=b}),66);
__d("MAWMediaPreProcessQpl",["MAWSendQplToServer","Random","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof self.BigInt==="function",i=c("justknobx")._("3427")*1e3;function a(a,b){var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);a=d("MAWSendQplToServer").startQplUserFlow(c("qpl")._(1056840460,"718"),{bool:{has_big_int_support:h},string:{preprocess_type:a}},e,i);b&&a.addAnnotations({"int":{input_file_size:b.size},string:{mimetype:b.type}});return a}g.startMediaPreProcessQpl=a}),98);
__d("WABlobToArrayBuffer",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("err")("blobToArrayBuffer got error because result is not ArrayBuffer: "+typeof a))};e.onerror=function(){var a;d((a=e.error)!=null?a:c("err")("blobToArrayBuffer got unknown error"))};e.readAsArrayBuffer(a)})}g.blobToArrayBuffer=a}),98);
__d("WABlobToImage",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c;return new(g||(g=b("Promise")))(function(b,d){c=new Image();var e=URL.createObjectURL(a),f=function(){return URL.revokeObjectURL(e)};c.onload=function(){b({image:c,releaseImageMemory:f})};c.onerror=function(){f(),d("loadBlobToImage error")};c.src=e})}f.blobToImage=a}),66);
__d("WACalculateBoundOutputSize",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b!=null?g(a.width,a.height,b.width,b.height):{outputWidth:a.width,outputHeight:a.height}}function g(a,b,c,d){var e=a,f=b;a>b?a>c&&(f*=c/e,e=c):f>d&&(e*=d/f,f=d);return{outputWidth:Math.round(Math.max(e,1)),outputHeight:Math.round(Math.max(f,1))}}f.calculateBoundOutputSize=a}),66);
__d("WADecodeImage",["WABlobToImage","WACalculateBoundOutputSize","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WATagsLogger").TAGS(["decodeImage"]);c=typeof self.createImageBitmap==="function"&&typeof self.OffscreenCanvas==="function";e=c?a:b;async function a(a,b){j.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start decoding image without DOM: ",""])),a.name);a=await self.createImageBitmap(a);var c=a.width,e=a.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:c,height:e},b);var f=b.outputWidth;b=b.outputHeight;var g=new self.OffscreenCanvas(f,b);g=k({canvas:g,inputWidth:c,inputHeight:e,outputWidth:f,outputHeight:b,image:a});return g}async function b(a,b){j.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["start decoding image with DOM: ",""])),a.name);a=await d("WABlobToImage").blobToImage(a);var c=a.image;a=a.releaseImageMemory;var e=c.width,f=c.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:e,height:f},b);var g=b.outputWidth;b=b.outputHeight;var h=document.createElement("canvas");h=k({canvas:h,inputWidth:e,inputHeight:f,outputWidth:g,outputHeight:b,image:c});a();return h}function k(a){var b=a.canvas,c=a.image,d=a.inputWidth,e=a.inputHeight,f=a.outputWidth;a=a.outputHeight;b.width=f;b.height=a;var g=b.getContext("2d");g.fillStyle="rgb(255,255,255)";g.fillRect(0,0,b.width,b.height);g.drawImage(c,0,0,d,e,0,0,f,a);b=g.getImageData(0,0,f,a);return b}g.canDecodeWithoutDOM=c;g.decodeImage=e;g.decodeImageWithoutDOM=a;g.decodeImageWithDOM=b}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=null,g=new(h||(h=b("Promise")))(function(a,b){f=setTimeout(function(){b(new(d("WACustomError").TimeoutError)(e)),clearTimeout(f)},c)});return h.race([a,g])["finally"](function(){clearTimeout(f)})};g.promiseTimeout=a}),98);
__d("WAMediaWasmWorkerClient",["WAByteArray","WACustomError","WAMediaWasmWorkerResource","WAPromiseTimeout","WAResultOrError","WATagsLogger","WorkerBundleResource","WorkerClient","WorkerMessagePort"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=d("WATagsLogger").TAGS(["WAMediaWasmWorkerClient"]);c=d("WorkerBundleResource").createDedicatedWebWorker(c("WAMediaWasmWorkerResource"));var B=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(c,"WAMediaWasmWorker");d("WorkerClient").init(B);A.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initiated."])));B.addMessageListener("log",function(a){var b=a.logType;a=a.message;switch(b){case"dev":A.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["from worker: ",""])),a);break;case"error":A.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["worker error: ",""])),a);break;default:b}});function a(a){var b=a.input;a=a.eventFlow;return F({operation:"webpCheck",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function b(a){var b=a.input;a=a.eventFlow;A.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["mp4RepairMuxInWorker processing video"])));return F({operation:"mp4RepairMux",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function e(a){var b=a.input;a=a.eventFlow;A.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["transcodeToMp4InWorker processing video"])));return F({operation:"transcodeToMp4",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function f(a){var b=a.imageData,c=a.quality,e=a.useHdScanConfig;a=a.eventFlow;return F({operation:"progressiveJpegEncode",input:d("WAByteArray").uint8ArrayToBuffer(b.data),height:b.height,width:b.width,quality:c,useHdScanConfig:e},a)}async function C(a){var b=a.file,c=a.quality,d=a.useHdScanConfig,e=a.eventFlow;a=a.maxOutputResolution;var f=await b.arrayBuffer();return F({operation:"progressiveJpegEncodeWithFile",input:f,fileName:b.name,fileType:b.type,quality:c,useHdScanConfig:d,maxOutputWidth:a==null?void 0:a.width,maxOutputHeight:a==null?void 0:a.height},e)}function D(a){A.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["start prewarming media wasm worker, operation: ",""])),a),B.postMessage({type:"prewarm",operation:a})}var E=function(){var a=0;return function(){return++a}}();async function F(a,b){var c=E();A.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),c);var e=await G(b);if(!e.success)return e;e=e.value;var f=e.onMessageOnce("mediaOperationResponse",function(a){return a.requestId===c}),g=a.input?[a.input]:void 0;e.postMessage(babelHelpers.extends({},a,{requestId:c,type:"mediaOperationRequest"}),g);b==null||b.addPoint("sent_request_to_media_worker_start");e=await f;a=e.output;if(a.success){A.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),c);b==null||b.addPoint("sent_request_to_media_worker_end",{bool:{isOpfsSyncSupported:a.value.isOpfsSyncSupported}});return d("WAResultOrError").makeResult(a.value.bytes)}A.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),c,a.error.errorMessage);b==null||b.addPoint("sent_request_to_media_worker_fail");return d("WAResultOrError").makeError(a.error.errorType)}function G(a){a==null||a.addPoint("get_connected_worker_port_start");var b=3e4;return d("WAPromiseTimeout").promiseTimeout(B.fullyConnected,b).then(function(b){a==null||a.addPoint("get_connected_worker_port_end");return d("WAResultOrError").makeResult(b)}).catch(function(b){a==null||a.addPoint("get_connected_worker_port_fail",{string:{workerPortFailure:b instanceof d("WACustomError").TimeoutError?"timeout":"runtime-error"}});if(b instanceof d("WACustomError").TimeoutError)return d("WAResultOrError").makeError("worker-connection-timeout");A.ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["worker-connection-runtime-error: ",""])),b);return d("WAResultOrError").makeError("worker-connection-runtime-error")})}async function H(a){var b=a.file,c=a.maxDimension,e=a.thumbnailBlobByteSizeLimitBytes;a=a.thumbnailQualityPercentageWhenAboveByteSizeLimit;var f=E();A.LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["sending input to worker, requestId: ",""])),f);var g=await G();if(!g.success)return g;g=g.value;var h=g.onMessageOnce("mediaGenerateImageThumbnailResponse",function(a){return a.requestId===f}),i=await b.arrayBuffer(),j=i?[i]:void 0;g.postMessage({input:i,fileName:b.name,fileType:b.type,maxDimension:c,requestId:f,thumbnailBlobByteSizeLimitBytes:e,thumbnailQualityPercentageWhenAboveByteSizeLimit:a,type:"mediaGenerateImageThumbnailRequest"},j);g=await h;A.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),f,g.output.success);if(g.output.success)return d("WAResultOrError").makeResult(g.output.value);A.ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),f,g.output.error.errorMessage);return Promise.reject(g.output.error.errorMessage)}async function I(a,b){A.LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["start media storage shadow test"])));var c=E(),e=await G();if(!e.success)return d("WAResultOrError").makeError({errorName:"port-init",errorMessage:e.error});e=e.value;var f=e.onMessageOnce("mediaStorageShadowTestResponse",function(a){return a.requestId===c});e.postMessage({input:a,requestId:c,storageType:b,type:"mediaStorageShadowTestRequest"});e=await f;a=e.output;if(a.success){A.LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["received storage results from worker, requestId: ",""])),c);return d("WAResultOrError").makeResult(a.value)}A.ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["media storage test failed for storageType: ",", error: ",""])),b,a.error);return d("WAResultOrError").makeError({errorName:a.error.errorName,errorMessage:a.error.errorMessage})}async function J(a){var b=a.rawMimeType,c=a.input;a=a.eventFlow;var e=E();A.LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["start kaleidoscope classifiy in worker, requestId: ",""])),e);var f=await G(a);if(!f.success)return f;f=f.value;var g=f.onMessageOnce("kaleidoscopeClassifyResponse",function(a){return a.requestId===e});f.postMessage({rawMimeType:b,input:c,requestId:e,type:"kaleidoscopeClassifyRequest"});a==null||a.addPoint("sent_request_to_media_worker_start");f=await g;b=f.output;if(b.success){A.LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),e);a==null||a.addPoint("sent_request_to_media_worker_end");return b}A.ERROR(z||(z=babelHelpers.taggedTemplateLiteralLoose(["kaleidoscope classifiy error: ",", requestId: ",","])),b.error,e);a==null||a.addPoint("sent_request_to_media_worker_fail");return d("WAResultOrError").makeError(b.error)}g.webpCheckInWorker=a;g.mp4RepairMuxInWorker=b;g.transcodeToMp4InWorker=e;g.progressiveJpegEncodeInWorker=f;g.progressiveJpegEncodeInWorkerWithFile=C;g.prewarmMediaWasmWorker=D;g.getConnectedWorkerPortWithTimeout=G;g.generateImageThumbnailInWorker=H;g.runMediaStorageShadowTestWasmWorker=I;g.kaleidoscopeClassifyInWorker=J}),98);
__d("MAWImagePreProcess",["MAWGetImageSpec","MAWImageUtils","MAWMediaPreProcessQpl","MWFBLogger","WABlobToArrayBuffer","WACustomError","WADecodeImage","WAMediaWasmWorkerClient","WAPromiseTimeout","WAResultOrError","cometIsMimeTypeForMedia","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=12e4,p=d("MWFBLogger").MWMediaLogger().tags(["ImagePreProcess"]),q=85,r=["image/heic"];function b(a,b,e,f){f===!0?f={height:c("justknobx")._("187"),width:c("justknobx")._("187")}:f={height:c("justknobx")._("2144"),width:c("justknobx")._("2144")};var g;b?g=a.type==="image/webp"?Promise.resolve(a):t(a,"image/webp",b,e,f):g=a.type==="image/gif"?Promise.resolve(a):t(a,"image/jpeg",!1,e,f);e=a.type==="image/gif";return e?g.then(function(a){return Promise.all([d("MAWGetImageSpec").getImageSpec(a),a])}).then(async function(c){var e=c[0];c=c[1];return{file:c,imageSpec:e,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:null,type:s(a,b)}}):g.then(function(b){return Promise.all([w(a,c("justknobx")._("2033")),d("MAWGetImageSpec").getImageSpec(b),b])}).then(async function(c){var e=c[0],f=c[1];c=c[2];return Promise.resolve({file:c,imageSpec:f,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:e,type:s(a,b)})})}async function e(b,e){var f=a.URL.createObjectURL(b),g=e===!0?c("justknobx")._("2545"):c("justknobx")._("2033");g=await d("MAWImageUtils").urlToThumbnailSpec(f,g);var h={height:g.height,width:g.width};return{file:b,imageSpec:h,thumbnailSpec:g,type:s(b,e),url:f}}function s(a,b){return b===!0?"sticker":a.type==="image/gif"?"animated_image":"image"}async function t(a,b,c,e,f){p.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start image transcode ",""])),a.name);var g=d("MAWMediaPreProcessQpl").startMediaPreProcessQpl("image",a);g.addAnnotations({int:{total_number_of_files:e!=null?e:1},string:{targetMimetype:b}});var j=function(){return u(a,b,q,c,f).then(function(a){return a.success?a.value:Promise.reject("runtime-error")}).catch(function(a){p.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through browser api: ",""])),String(a));g.addPoint("native_encode_failure",{string:{native_encode_error:a.toString()}});return null})};e=b==="image/jpeg"?await d("WAPromiseTimeout").promiseTimeout(v(a,q,g,f).then(function(a){return a.success?a.value:Promise.reject(a.error)}),o).catch(function(a){a instanceof d("WACustomError").TimeoutError?g.addPoint("mozjpeg_encode_timeout"):g.addPoint("mozjpeg_encode_failure",{string:{mozjpeg_encode_error:a.toString()}});return j()}):await j();if(e==null){g.endFail("unable_to_transcode_image");throw p.mustfixThrow("unable to transcode image")}g.endSuccess({int:{compressed_file_size:e.size}});return e}function f(b,c){b=a.URL.createObjectURL(b);return d("MAWImageUtils").urlToThumbnail(b,c)}function u(b,c,e,f,g){p.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["start image transcoding through browser api"])));var h=a.URL.createObjectURL(b),i=b.name;return d("MAWImageUtils").urlToFile(h,c,e,f,g).then(function(a){a=a.blob;p.DEBUG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["finished image transcoding through browser api: "," bytes"])),a.size);return d("WAResultOrError").makeResult(new File([a],i,{type:c}))})}async function v(a,b,c,e){p.DEBUG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["start process image through wasm, file name: ",""])),a.name);d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode");c.addPoint("prewarm_worker_started");var f;d("WADecodeImage").canDecodeWithoutDOM&&(f=await d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorkerWithFile({eventFlow:c,file:a,maxOutputResolution:e,quality:b,useHdScanConfig:!0}));if(f==null||!f.success&&f.error==="decode-image-error"){e=await d("WADecodeImage").decodeImageWithDOM(a,e).catch(function(a){c.addPoint("image_decode_failure");throw a});c.addPoint("image_decode_success");f=await d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorker({eventFlow:c,imageData:e,quality:b,useHdScanConfig:!0})}if(!f.success)return f;c.addPoint("pjpeg_encode_success");p.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg transcoding through mozjpeg: "," bytes"])),f.value.byteLength);return d("WAResultOrError").makeResult(new File([f.value],a.name,{type:"image/jpeg"}))}function w(b,e){var f=async function(){var c=a.URL.createObjectURL(b),f=await d("MAWImageUtils").urlToThumbnail(c,e);a.URL.revokeObjectURL(c);return f};if(!d("WADecodeImage").canDecodeWithoutDOM)return f();var g=c("justknobx")._("2338")*1024,h=c("justknobx")._("2340");return d("WAPromiseTimeout").promiseTimeout(d("WAMediaWasmWorkerClient").generateImageThumbnailInWorker({file:b,maxDimension:e,thumbnailBlobByteSizeLimitBytes:g,thumbnailQualityPercentageWhenAboveByteSizeLimit:h}).then(function(a){if(!a.success)throw p.mustfixThrow("urlToFileInWorker error: "+a.error);return{height:a.value.height,jpegThumbnail:a.value.blob,width:a.value.width}}).catch(function(a){p.catching(a).MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Error while processing url to thumbnail in worker"])));throw a}),o).catch(function(a){return f()})}function x(a){if(a==="image/gif"||a==="image/webp")return!0;return!d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)?!1:!r.includes(a)}g.imagePreprocess=b;g.optimisticImagePreprocess=e;g.getJpegThumbnailInfo=f;g.generateImageThumbnailInWorkerWithFallback=w;g.isSupportedImageFileType=x}),98);
__d("WAWebDataUrlToBlob",["err"],(function(a,b,c,d,e,f,g){var h=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;function a(a){var b=a.match(h);if(!b)throw c("err")("invalid data URI");var d=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII"),e=!!b[4];a=a.slice(b[0].length);e?b=atob(a):b=decodeURIComponent(a);e=new ArrayBuffer(b.length);a=new Uint8Array(e);for(e=0;e<b.length;e+=1)a[e]=b.charCodeAt(e);return new Blob([a],{type:d})}g.dataURLtoBlob=a}),98);
__d("MAWImageUtils",["FBLogger","MAWAnimatedImageThumbnailStore","MAWDbMedia","MAWFrontendMediaUtils","MAWImagePreProcess","MWPBumpEntityKey","Promise","WABlobToArrayBuffer","WACalculateBoundOutputSize","WAWebDataUrlToBlob","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg",j=100,k=c("justknobx")._("2338")*1024,l=c("justknobx")._("2340"),m=c("justknobx")._("2545");function n(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(c("FBLogger")("messenger_web").mustfixThrow("Error loading image from provided URL"))};e.onerror=function(){f(c("FBLogger")("messenger_web").mustfixThrow("Wrong blob type"))};e.src=a}).then(function(){return e})}function o(a){return window.fetch(a,{cache:"no-store",method:"GET",mode:"cors"}).then(function(a){if(!a.ok)throw c("FBLogger")("messenger_web").mustfixThrow("Failed to fetch image: %s %s",a.status,a.statusText);return a.blob()}).then(function(a){return new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onloadend=function(){var a=new Image();a.onload=function(){b(a)};a.onerror=function(){d(function(){throw c("FBLogger")("messenger_web").mustfixThrow("Error loading image from blob data")})};typeof e.result==="string"?a.src=e.result:d(c("err")("FileReader result is not a string"))};e.onerror=function(){d(c("err")("Error reading blob as data URL"))};e.readAsDataURL(a)})})["catch"](function(b){throw c("FBLogger")("messenger_web").mustfixThrow("Failed to load image from URL: %s, %s",a,String(b))})}function p(a,c,e,f){e===void 0&&(e=!1);if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var d=f==null?void 0:f/100;a.toBlob(b,c,d)}).then(function(d){var f=k,g=l/100;return e&&d.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,c,g)}):d});else{var g;d("MWPBumpEntityKey").bumpEntityKey("maw","data_url_to_blob");var i=(g=d("WAWebDataUrlToBlob").dataURLtoBlob)!=null?g:window.dataURLtoBlob;return(h||(h=b("Promise"))).resolve(i(a.toDataURL(c))).then(function(d){var f=k,g=l/100;return e&&d.size>=f?(h||(h=b("Promise"))).resolve(i(a.toDataURL(c,g))):d})}}function q(a,e,f,g,i,j){j===void 0&&(j=!1);j=j?o(a):n(a);return j.then(function(a){var b=a.naturalWidth,c=a.naturalHeight,h=d("WACalculateBoundOutputSize").calculateBoundOutputSize({height:c,width:b},i),j=h.outputHeight,k=h.outputWidth;h=document.createElement("canvas");h.width=k;h.height=j;var l=h.getContext("2d");g!==!0&&s(h);l.drawImage(a,0,0,b,c,0,0,k,j);return p(h,e,!1,f).then(function(a){return{blob:a,height:j,width:k}})})["catch"](function(a){return(h||(h=b("Promise"))).reject(a!=null?a:c("err")("Error loading image from URL"))})}function a(a,b){return n(a).then(function(a){var c=document.createElement("canvas"),e=a.naturalWidth,f=a.naturalHeight,g=c.getContext("2d");f=t(f,e,b);c.width=f.width;c.height=f.height;var h=c.width,j=c.height;r(c);g.drawImage(a,0,0,h,j);return p(c,i,!0).then(function(a){return d("WABlobToArrayBuffer").blobToArrayBuffer(a).then(function(a){return{height:j,jpegThumbnail:a,width:h}})})})}function e(a,b){return n(a).then(function(a){a=t(a.naturalHeight,a.naturalWidth,b);return{height:a.height,width:a.width}})}function r(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function s(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function t(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.round(Math.max(a,1)),width:Math.round(Math.max(b,1))}}function f(a){return n(a).then(function(a){return{height:a.naturalHeight,width:a.naturalWidth}})}function u(a,e,f,g){g===void 0&&(g=!1);var i=d("MAWAnimatedImageThumbnailStore").getThumbnailSpec(a);if(i)return(h||(h=b("Promise"))).resolve(i);i=q(a,"image/gif",void 0,void 0,void 0,g);return i==null?null:i.then(function(b){var c=new File([b.blob],"gif",{type:"image/gif"});return d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(c,Math.max(f!=null?f:b.width,e!=null?e:b.height)).then(function(b){d("MAWAnimatedImageThumbnailStore").setThumbnailSpec(a,b);return b})})["catch"](function(b){throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed while generating thumbnail for GIF. URL: ",a,b)})}function v(a){var c=a==null?void 0:a.file,e=a==null?void 0:a.width,f=a==null?void 0:a.height;if(c==null||e==null||f==null)return(h||(h=b("Promise"))).resolve(a);var g=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(c.type,!0);g=g.mediaType;return g!==d("MAWDbMedia").MEDIA_TYPE.GIF?(h||(h=b("Promise"))).resolve(a):d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(c,Math.max(e,f)).then(function(a){var b=new File([a.jpegThumbnail],"secure_threads_xma_preview_thumbnail",{type:"image/jpeg"});return{file:b,height:a.height,width:a.width}})}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=j;g.STICKER_THUMBNAIL_MAX_SIZE=m;g.canvasToBlob=p;g.urlToFile=q;g.urlToThumbnail=a;g.urlToThumbnailSpec=e;g.boundHeightWidth=t;g.urlToImageSpec=f;g.generateGIFThumbnail=u;g.generatePreviewBlobForShare=v}),98);
__d("MAWGetImageSpec",["MAWImageUtils"],(function(a,b,c,d,e,f,g){"use strict";function b(b,c){var e=a.URL.createObjectURL(b);return d("MAWImageUtils").urlToFile(e,c!=null?c:b.type).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})}async function c(b){b=a.URL.createObjectURL(b);var c=await d("MAWImageUtils").urlToImageSpec(b);a.URL.revokeObjectURL(b);return c}g.getImageSpec_DEPRECATED=b;g.getImageSpec=c}),98);
__d("MAWMpsGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("10465")}function a(){return c("gkx")("10536")||j()}function b(){return c("gkx")("6272")||j()}function d(){return c("justknobx")._("3406")}function e(){return c("gkx")("5823")||j()}function i(){return c("gkx")("16913")||j()}function f(){return j()||c("gkx")("16365")}function j(){return h()||c("gkx")("17181")}function k(){return h()||c("gkx")("17846")}function l(){return c("gkx")("17946")}function m(){return i()&&(j()||c("gkx")("18142"))}g.isFullMpsEnabled=h;g.isMpsWaAdminMsgsEnabled=a;g.isMpsAppDataAndForwardingEnabled=b;g.isMpsAdminMsgsGroupNotification=d;g.isMpsThreadsConsistencyEnabled=e;g.isMpsMessagePublishSeviceEnabled=i;g.isSearchOnMpsEnabled=f;g.isMpsMessageRendering=j;g.isMpsSnippetsCacheServiceEnabled=k;g.isEBMessageProbeEnabled=l;g.isXmaWithoutAssociatedMsg=m}),98);
__d("MsgrWebGating",["MAWMpsGating","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("15418")||d("MAWMpsGating").isMpsMessageRendering()}g.isQuotedMessagesInLsEnabled=a}),98);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return""+a.slice(0,3)}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.author,e=a.msgId;c=d("WAJids").authorToUserId(c,b);b=(b=a.quote)==null||(b=b.content.msgContent)==null?void 0:b.content;a=(a=a.quote)==null?void 0:a.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:a!=null?a*1e3:void 0,replyMessageText:b,replySourceId:e,replyToUserId:c}}g["default"]=a}),98);
__d("MAWBridgeMsg",["FBLogger","LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","MsgrWebGating","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","WATimeUtils","getReplyContentForNoteReply","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){if(!d("MsgrWebGating").isQuotedMessagesInLsEnabled())return;if(a.isForwarded===!0&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER)return{replyType:"FORWARD"};if(d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType))return{replyToMsgId:a.msgId,replyToUserId:d("WAJids").authorToUserId(a.author,b),replyType:"HIGHLIGHTS_TAB_POST_REPLY",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null};if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var c=a.threadJid;c=d("WAJids").interpretAsUserJid(c);var e;c!=null&&(e=d("WAJids").userIdFromJid(c));return d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)?{mentionedUserId:e!=null?e:b,replyType:"FB_POST_MENTION",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null}:{mentionedUserId:e!=null?e:b,replyType:"FB_STORY_MENTION",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null}}if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType))return;c=(c=a.quote)==null?void 0:c.content;if(c==null)return;var f=c.author,g=c.expirationTs,h=c.mediaId,i=c.msgContent,j=c.msgId,k=c.plaintextHash,l=c.sourceId,m=c.ts,n=c.type;c=c.xmaMessageType;f=d("WAJids").authorToUserId(f,b);if(n===d("WAMsgType").NOTE_REPLY)return{noteContent:i==null?void 0:i.content,replyMediaExpirationTimestampMs:g!=null?d("WATimeUtils").castToMillisTime(g*1e3):void 0,replyToMsgId:a.msgId,replyToUserId:f,replyType:"LIGHTWEIGHT_STATUS"};if(n===d("MAWMsgType").MSG_TYPE.XMA&&d("MAWXMAUtils").isXMAStoryReply(c)){if(l==null)return;b=d("MAWXMAUtils").isXMAStoryProducerReply(c);return b?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:h!=null?h:void 0,storyMediaPlaintextHash:k,storyMsgType:h!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,storyOwnerId:f,storyUrl:l,timestampMs:m!=null?d("WATimeUtils").castUnixTimeToMillisTime(m):null}:{replyType:"STORY",storyMediaPlaintextHash:k,storyOwnerId:f,storyUrl:l,timestampMs:m!=null?d("WATimeUtils").castUnixTimeToMillisTime(m):null}}if(j!=null)return{isBumpMsg:a.type===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE,replyToMsgId:j,replyType:"MESSAGE"}}function k(a,b,e){var f,g;f=((f=a.quote)==null?void 0:f.content.type)===d("WAMsgType").NOTE_REPLY;if(f)return c("getReplyContentForNoteReply")(a,e);f=(f=a.quote)==null?void 0:f.content;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d("WAJids").authorToUserId(h,e);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d("WAJids").interpretAsUserJid(l));m!=null&&(k=d("WAJids").userIdFromJid(m))}i!=null&&a.plaintextHash==null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content");return{isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:i,replyPlaintextHash:(l=a.plaintextHash)!=null?l:void 0,replySenderIsMe:h===d("WAJids").AUTHOR_ME||k===e,replySourceId:j,replySourceTimestampMs:a.sortOrderMs,replyStatusType:i!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:k}}if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null)return;l=f||{};h=l.author;j=l.mediaId;a=l.msgId;i=l.plaintextHash;k=l.sourceId;var n=l.specialTextSize,o=l.ts,p=l.type;l=l.xmaMessageType;o=o!=null?o*1e3:void 0;g=f.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(l)?(g=f.msgContent)==null?void 0:g.content:void 0;var q=d("WAJids").authorToUserId(h,e),r=f.type===d("MAWMsgType").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;h=h===d("WAJids").AUTHOR_ME||q===e;e=b||{};b=e.replyMediaId;var s=e.replyMediaPreviewHeight,t=e.replyMediaPreviewWidth,u=e.replyMediaUrlFallback,v=e.replyPlaintextHash;e=e.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(l)){return{isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(l),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(l),isStoryReply:!0,replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:j,replyPlaintextHash:(f=v!=null?d("WAHashUtils").stringToPlaintextHash(v):i)!=null?f:void 0,replySenderIsMe:h,replySourceId:k,replySourceTimestampMs:o,replyStatusType:j!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:q}}i=d("MAWImageUtils").boundHeightWidth(s,t,96*.8);f=i.height;k=i.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(l),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(l),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:p===d("MAWMsgType").MSG_TYPE.STICKER?f:s,replyMediaPreviewWidth:p===d("MAWMsgType").MSG_TYPE.STICKER?k:t,replyMediaUrlFallback:u,replyMentionedJids:r,replyMessageText:g,replyPlaintextHash:v!=null?d("WAHashUtils").stringToPlaintextHash(v):void 0,replySenderIsMe:h,replySourceId:a,replySourceTimestampMs:o,replyStatusType:n===1||n===2||n===3?d("MAWMsgType").MSG_TYPE.STICKER:p,replyToUserId:q,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL);case 2:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)}}function l(a){if(c("justknobx")._("3424")&&a==="media_restore")return"EncryptedBackupsMedia";switch(a){case"eb_restore":return"EncryptedBackups";case"media_restore":return"EncryptedBackupsMedia";case"whatsapp":return"WhatsApp";default:return void 0}}function b(a,b,e){var f,g,i=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());f=((f=a.isForwarded)!=null?f:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;g=(g=a.forwardingScore)!=null?g:0;var m=d("MAWDbMsg").getCanonicalTsFromMsg(a),n=k(a,b,i),o=j(a,i),p=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),q=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),r=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),s=d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),t=d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),u=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),v=d("MAWXMAUtils").isXMAPostPrivateReply(a.xmaMessageType),w=d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),x=a.messageExpirationTs!=null&&a.messageExpirationTs<=d("WATimeUtils").unixTime(),y=d("MAWDbMsg").getSortOrderWithFallback(a),z=a.externalId,A=l(a.source);(b==null?void 0:b.replyPlaintextHash)!==(n==null?void 0:n.replyPlaintextHash)&&c("FBLogger")("messenger_web").warn("replyPlaintextHash mismatch. From replyMeta is null: %s, from replyContent is null: %s. Message type: %s",(b==null?void 0:b.replyPlaintextHash)==null,(n==null?void 0:n.replyPlaintextHash)==null,a.type);b=(b==null?void 0:b.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(b==null?void 0:b.replyPlaintextHash):(b=n==null?void 0:n.replyPlaintextHash)!=null?b:void 0;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:var B=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:a.msgContent.commands,content:B,editCount:a.editCount,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,specialTextSize:a.specialTextSize,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:z,forwardingScore:g,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type,unsupportedType:a.msgContent.subtype});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{_META_loaded_as_quoted_msg:e,ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return{_META_loaded_as_quoted_msg:e,ack:a.ack,adminContent:(B=a.msgContent)==null||(B=B.adminMsgContent)==null?void 0:B.map(function(a){return a==="Facebook User"?"0":a}),adminType:(B=a.msgContent)==null?void 0:B.adminType,adminVersion:(B=a.msgContent)==null?void 0:B.version,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,originalTs:a.originalTs,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var C;B=(B=a.msgContent)==null?void 0:B.content;C=B!=null?d("MAWVault").isVaulted(B)?(C=a.msgContent)==null?void 0:C.content:d("MAWVault").vault(B):void 0;r&&C==null&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"])));B=C;return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:(r=a.msgContent)==null?void 0:r.commands,content:B,ephemeralDurationInSec:(C=a.ephemeralSetting)==null?void 0:C.ephemeralExpirationInSec,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isCollapsed:a.isCollapsed,isExpiredMsg:x,isExpiredXmaMsg:a.isExpiredXmaMsg,isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:t,isForwarded:f,isIGStoryMention:s,isMsgHighlightsTabFriendUpdatesReply:w,isPostPrivateReply:v,isStoryHighlightShare:u,isStoryReaction:q,isStoryShare:p,mentionedJids:(n=a.msgContent)==null?void 0:n.mentionedJids,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type,xmaMessageType:a.xmaMessageType});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.convertDbMsgSourceToLSTransportKey=l;g.createBridgeMsg=b}),98);
__d("MAWCacheServiceDB",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","WAHex","Worm","WormDump","WormEAR","WormIDbDriver","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";e={autoIncrement:!0,indexes:{key:{fields:["key"],unique:!0}},primaryKey:"id",secure:!0};var h={messageComposerDrafts:e,snippets:e},i=null,j=function(a,b,e){var f="maw_cache_service";b=new(d("WormEAR").WormEAR)(e,f,b);a=new(d("WormIDbDriver").WormIDbDriver)(a,f,e,b,d("MAWWormOdsLogger").wormOdsWorkerLogger,{onTransactionError:l});return new(d("Worm").WormDatabase)(a,c("qpl")._(1056840657,"2716"))};function k(){if(i!==null)return i;i=new Promise(async function(a,b){try{var e=j(d("MAWIndexedDbMetadata").MAWcacheServiceDbName(d("MAWCurrentUser").getID()),d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2),h);await e.init();a(e)}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to create cache service DB"),i=null,b(a)}});return i}function l(a){if(a instanceof d("WormEAR").DecryptionError){var b=a;c("FBLogger")("MAWCacheService").mustfix("EAR decryption error in store: %s. Attempting to delete the store:",b.store);c("promiseDone")(k().then(function(a){return a.runInTransaction([b.store],"readwrite",function(a){return a.stores[b.store].clear()},"delete-corrupted-entity")}).then(function(){c("FBLogger")("MAWCacheService").info("Successfully deleted corrupted store %s",b.store)}).catch(function(a){c("FBLogger")("MAWCacheService").catching(a).mustfix("Failed to delete corrupted store %s, err: %s",b.store,a.message)}))}}function a(a){return a.map(function(a){a[0];a=a[1];return a})}async function b(){var a=await k();return a.dump({snippets:{customFields:{id:d("WormDump").wormNonSensitiveField,key:d("WormDump").wormNonSensitiveField,timestamp:d("WormDump").wormNonSensitiveField,value:function(a){var b;return{snippet:(b=d("WormDump")).wormRedact(a.snippet),snippetMsgAckLevel:b.wormNonSensitiveField(a.snippetMsgAckLevel),snippetMsgId:b.wormNonSensitiveField(a.snippetMsgId),snippetNewestIncomingMsgs:b.wormNonSensitiveField(a.snippetNewestIncomingMsgs),snippetReactionId:b.wormRedact(a.snippetReactionId)}}}}})}g.getOrSetupMAWCacheDB=k;g.convertCacheValueToDBRawValue=a;g.getDbDump=b}),98);
__d("MAWCacheServiceQPL",["ExecutionEnvironment","MAWCurrentUser","MAWQplProxy","QPLUserFlow","performanceAbsoluteNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(),k=new Set(),l=3e3,m=c("qpl")._(1056836703,"2955");function a(a,b){var e=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;if(e){if(k.has(a))return;o(a);d("MAWQplProxy").startQplUserFlow(m,{},{callBridgeWithTimestamp:!0,providedInstanceKey:a})}else{if(j.has(a))return;n(a);c("QPLUserFlow").start(m,{annotations:{string:{service:b}},instanceKey:a})}}function n(a){j.add(a)}function o(a){k.add(a)}function b(a,b,e){var f=q(e),g=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;if(g){if(!k.has(a))return;d("MAWQplProxy").sendQplPointThroughBridge(m,"worker@"+f+b,{instanceKey:a},!0)}else{if(!j.has(a))return;var n=(i||(i=c("performanceAbsoluteNow")))();e==="realtime-update"?window.setTimeout(function(){c("QPLUserFlow").addPoint(m,"ui@"+b,{instanceKey:a,timestamp:n})},l):c("QPLUserFlow").addPoint(m,"ui@"+b,{instanceKey:a})}}function e(a,b){var e=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;if(e){if(!k.has(a))return;d("MAWQplProxy").sendQPLAnnotationsThroughBridge(m,b,a)}else{if(!j.has(a))return;c("QPLUserFlow").addAnnotations(m,b,{instanceKey:a})}}function f(a){var b=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;if(b){if(!k.has(a))return;k["delete"](a);d("MAWQplProxy").sendQPLSuccessThroughBridge(m,{},a,!0)}else{if(!j.has(a))return;var e=(i||(i=c("performanceAbsoluteNow")))();window.setTimeout(function(){j["delete"](a),c("QPLUserFlow").endSuccess(m,{instanceKey:a,timestamp:e})},l)}}function p(a,b,e){e=q(e);var f=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;if(f){if(!k.has(a))return;d("MAWQplProxy").sendQPLFailThroughBridge(m,"worker@"+e+b,{},a,!0)}else{if(!j.has(a))return;var g=(i||(i=c("performanceAbsoluteNow")))();window.setTimeout(function(){j["delete"](a),c("QPLUserFlow").endFailure(m,"ui@"+b,{instanceKey:a,timestamp:g})},l);j["delete"](a)}}function q(a){return a?a.replace(/-/g,"_")+"_":""}function r(a){return d("MAWCurrentUser").isEmployee()||d("MAWCurrentUser").isTestUser()?a:void 0}e={addAnnotationsQPL:e,addPointQPL:b,endFailureQPL:p,endSuccessQPL:f,redactKeysForNonEmployee:r,registerInstanceKeyInUI:n,registerInstanceKeyInWorker:o,startQPL:a};g["default"]=e}),98);
__d("MAWCacheServiceUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="maw_cache_service_broadcast",i=typeof window!=="undefined"?window:self;d=function(){if(!i.BroadcastChannel){c("FBLogger")("messenger_e2ee_web").warn("BroadcastChannel is not supported in this browser");return null}return new i.BroadcastChannel(h)};e={concurrency:1,maxConcurrency:1,maxThrottleMs:500};function a(a){return"maw-cache-service-"+a}function b(a,b){var c=new Set(),d=[];a.forEach(function(a){var e=b(a);if(c.has(e)){d.push(a);return}c.add(e)});return d}g.MAW_CACHE_SERVICE_BROADCAST_CHANNEL=h;g.globalScope=i;g.getMAWCacheServiceBroadcastChannel=d;g.SCHEDULER_CONFIG=e;g.getSchedulerName=a;g.findDuplicates=b}),98);
__d("MAWJobPersistenceAccessorsApi",["MAWJobActionsV2","MAWJobsIndexedDb","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,c;return{deletePersistedJob:(a=d("MAWJobsIndexedDb")).makeJobsTransactor("jobs",(b=d("MAWTransactionMode")).READWRITE,"deletePersistedJob")((c=d("MAWJobActionsV2")).deletePersistedJob),loadAllJobs:a.makeJobsTransactor("jobs",b.READONLY,"loadAllJobs")(c.readAllPersistedJobs),maybeCreateJob:a.makeJobsTransactor("jobs",b.READWRITE,"maybeCreateJob")(c.maybeCreateJob),readPersistedJob:a.makeJobsTransactor("jobs",b.READONLY,"readPersistedJob")(c.readPersistedJob),updatePersistedJob:a.makeJobsTransactor("jobs",b.READWRITE,"updatePersistedJob")(c.updatePersistedJob)}}g.getJobPersistenceAccessors=a}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("WAJobPriorityBucket",["WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a){this.tasks=[];this.pendingTasks=[];this.lastJobStartedTimestampMs=null;this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}}var b=a.prototype;b.updateConfig=function(a){this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}};b.getStats=function(){return[].concat(this.tasks,this.pendingTasks).reduce(function(a,b){var c;c=(c=a[b.jobName])!=null?c:0;a[b.jobName]=c+1;return a},{})};b.next=function(){var a=this;if(this.tasks.length===0)return null;var b=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),c=this.tasks.filter(function(c){var e;return((e=b.get(c.jobName))!=null?e:0)<((e=a.jobMaxConcurrency[c.jobName])!=null?e:d("WAJobOrchestratorTypes").DEFAULT_CONCURRENCY)});return c.length>0?[c[0]]:null};b.add=function(a,b,c,d){c={jobId:c,jobInfo:b,jobName:a,run:d};this.tasks.push(c);return c};b.markJobTaskPending=function(a){this.pendingTasks.includes(function(b){return b.jobId===a.jobId})&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskPending found jobId: "," in pending tasks"])),a.jobId).sendLogs("JobOrchestrator::markJobTaskPending"),this.lastJobStartedTimestampMs=Date.now(),this.pendingTasks.push(a),this.tasks=this.tasks.filter(function(b){return b.jobId!==a.jobId})};b.markJobTaskDone=function(a){this.pendingTasks=this.pendingTasks.filter(function(b){return b.jobId!==a}),this.tasks.includes(function(b){return b.jobId===a})&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskDone found jobId: "," in scheduled tasks"])),a).sendLogs("JobOrchestrator::markJobTaskDone")};b.count=function(){return this.tasks.length};b.pendingCount=function(){return this.pendingTasks.length};b.clearWaitingTasks=function(){this.tasks=[]};b.clear=function(){this.tasks=[],this.pendingTasks=[]};b.getLastJobStartedTimestamp=function(){return this.lastJobStartedTimestampMs};return a}();b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.next=function(){var a=this,b,c;if(this.tasks.length===0)return null;var d=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),e=this.tasks.filter(function(b){var c;return((c=d.get(b.jobName))!=null?c:0)<((c=a.jobMaxConcurrency[b.jobName])!=null?c:1)});if(e.length===0)return null;b=(b=this.jobMaxConcurrency[e[0].jobName])!=null?b:1;c=(c=d.get(e[0].jobName))!=null?c:0;if(b>1&&c<b){var f=e.filter(function(a){return a.jobName===e[0].jobName});b=Math.min(f.length,b-c);return f.slice(0,b)}return[e[0]]};return b}(a);g.BaseJobBucket=a;g.LowJobBucket=b}),98);
__d("WAMetrics",["Promise","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WATimeUtils").performanceAbsoluteNow();return new(h||(h=b("Promise")))(function(b){setTimeout(function(){b(d("WATimeUtils").performanceAbsoluteNow()-a)},0)})}g.getEventLoopDelay=a}),98);
__d("WAConcurrentBucketJobQueue",["WABase64","WACryptoDependencies","WACustomError","WAJobOrchestratorTypes","WAJobPriorityBucket","WALogger","WAMetrics","WANullthrows","WAPromiseTimeout","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=30,k=new Map([[d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,5],[d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,1]]);function l(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WABase64").encodeB64(a)}a=function(){function a(){this.$1=!1,this.$2=0,this.$3=0,this.$4=0,this.$5=new Map(),this.$6=new Map(),this.$7=new Map(),this.$9=0}var b=a.prototype;b.init=function(a,b){var e,f,g;if(this.$1)throw c("err")("WAConcurrentBucketJobQueue has already initialized");this.$4=(e=a==null?void 0:a.bestEffortWaitTimeoutSec)!=null?e:j;this.$2=a.maxConcurrency;this.$3=a.maxConcurrency;this.$8=b;this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota);this.$6=new Map(this.$7);this.$5=new Map();this.$9=Date.now();b=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});e=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});f=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(f=a.maxConcurrencyPerJob)!=null?f:{}});g=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(g=a.maxConcurrencyPerJob)!=null?g:{}});a=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(a=a.maxConcurrencyPerJob)!=null?a:{}});this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.OFFLINE,g);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HISTORY_SYNC,a);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,e);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,f);this.$1=!0};b.updateConfig=function(a){this.$3+=a.maxConcurrency-this.$2,this.$2=a.maxConcurrency,this.$5.forEach(function(b){return b.updateConfig({jobMaxConcurrencyMap:(b=a.maxConcurrencyPerJob)!=null?b:{}})}),this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: updated WAConcurrentBucketJobQueue config"])))};b.isInitialized=function(){return this.$1};b.clearQueue=function(){if(!this.$1)throw c("err")("WAConcurrentBucketJobQueue not initialized");this.$5.forEach(function(a){return a.clear()})};b.clearQueueByPriority=function(a){if(!this.$1)throw c("err")("WAConcurrentBucketJobQueue not initialized");(a=this.$5.get(a))==null||a.clearWaitingTasks()};b.getIntStats=function(){var a=this,b=function(b){var c;b=a.$5.get(b);return((c=b==null?void 0:b.count())!=null?c:0)+((c=b==null?void 0:b.pendingCount())!=null?c:0)};return{highPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};b.getStringStats=function(){var a=this,b=function(b){var c=(b=(b=a.$5.get(b))==null?void 0:b.getStats())!=null?b:{};b=Object.keys(c).reduce(function(a,b){var d=a[0];a=a[1];var e=c[b];return e>d?[e,b]:[d,a]},[0,null]);b=b[1];return b};return{highPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};b.enqueue=function(a,b,e,f){var g,h=this;if(!this.$1)return Promise.reject(c("err")("WAConcurrentBucketJobQueue not initialized"));var i,j,k=new Promise(function(a,b){i=a,j=b}),m=babelHelpers.extends({priority:d("WAJobOrchestratorTypes").DEFAULT_JOB_PRIORITY},e),n=this.getJobBucketByType(m.priority);if(!n)return Promise.reject(c("err")("WAConcurrentBucketJobQueue no bucket for job with name "+a+" was found."));void d("WAMetrics").getEventLoopDelay().then(function(a){f!=null&&f.isActive()&&(f==null||f.addPoint("measure_event_loop_delay",{int:{eventLoopDelay:a}}))});f==null||f.addPoint("scheduling_job",{string:babelHelpers.extends({},this.getStringStats(),{priority:m.priority}),int:babelHelpers.extends({},this.getIntStats(),{maxTimeoutMs:(g=e==null?void 0:e.maxTimeoutMs)!=null?g:0})});var o=m.priority+"-"+a+"-"+((g=e==null?void 0:e.jobId)!=null?g:l(8));g=n.add(a,m,o,async function(){try{h.$8.logJobStarted(o);var a=await h.$12(b(),e==null?void 0:e.maxTimeoutMs);h.$8.logJobCompleted(o);i(a)}catch(a){a instanceof d("WACustomError").TimeoutError?h.$8.logJobTimeout(o):h.$8.logJobError(o),j(a)}});this.$8.logJobCreated({jobId:o,jobName:a,jobPriority:m.priority,pendingJobsCount:n.count()});e&&e.priority===d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION&&void this.$13(g);this.$14();return k};b.getAvailableThreadsCount=function(){return this.$3};b.getJobQuotaConfig=function(){return this.$7};b.getRemainingJobCountMap=function(){return this.$6};b.getJobBucketByType=function(a){return this.$5.get(a)};b.getSnapshot=function(a){a=this.getJobBucketByType(a);return!a?null:a.getStats()};b.$11=function(a){var b;!a?b=new Map(k):b=new Map(a);b.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,0);return b};b.$15=function(a){return(a=this.$6.get(a))!=null?a:0};b.$16=function(){this.$6=new Map(this.$7)};b.$17=function(a){var b=this;a===void 0&&(a=!0);var c=0,e=null,f=0;this.$5.forEach(function(a,d){c+=a==null?void 0:a.count();f+=b.$15(d);if(e!=null)return;a.count()>0&&b.$15(d)>0&&(e=a)});var g=e==null||f===0;g&&this.$16();if(this.$18(c,g))return this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);return e==null&&a?this.$17(!1):e};b.$18=function(a,b){var c=this;function e(a,b){var c=Date.now();return a>c?!1:c-a<b*1e3}function f(a,b){a=Math.ceil(a-Date.now())+b*1e3;return a>0?a:0}var g=this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);a=a-((a=g==null?void 0:g.count())!=null?a:0);var h=g==null?void 0:g.getLastJobStartedTimestamp();if((g==null?void 0:g.count())===0)return!1;if(h==null&&e(this.$9,this.$4)){if(this.$10==null){g=f(this.$9,this.$4);this.$10=setTimeout(function(){c.$14(),c.$10=null},g)}return!1}return a>0&&h!=null&&e(h,this.$4)?!1:b};b.$19=function(a){a=this.$20(a);return c("WANullthrows")(this.$5.get(a))};b.$20=function(a){var b=a.split("-")[0];b=d("WAJobOrchestratorTypes").JOB_PRIORITY.cast(b);if(!b)throw c("err")("ConcurrentBucketQueue cannot extract known job priority type from id: "+a);return b};b.$21=function(a){a=this.$20(a);this.$15(a)>0?this.$6.set(a,this.$15(a)-1):this.$6.set(a,0)};b.$14=function(){var a=this;while(this.$3>0){var b=this.$17();b=b==null?void 0:b.next();if(b==null)break;b.forEach(function(b){a.$21(b.jobId),void a.$13(b)})}};b.$12=function(a,b){return b!==void 0?d("WAPromiseTimeout").promiseTimeout(a,b):a};b.$13=async function(a){var b=this,c=this.$19(a.jobId);this.$3--;c.markJobTaskPending(a);var e=a.run,f=a.jobId,g=a.jobName;try{await this.$12(e(),((e=a.jobInfo)==null?void 0:e.maxTimeoutMs)===void 0?d("WAJobOrchestratorTypes").DEFAULT_JOB_TIMEOUT_MS:void 0)}catch(a){if(a instanceof d("WACustomError").TimeoutError)this.$8.logJobTimeout(f),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: "," exceeding the timeout, release the thread."])),g);else throw a}finally{this.$3++,c.markJobTaskDone(f),this.$3>0&&setTimeout(function(){return b.$14()},0)}};return a}();g.WAConcurrentBucketJobQueue=a}),98);
__d("WAConcurrentPreemptiveJobQueue",["WACustomError","WAJobOrchestratorTypes","WALogger","WAPromiseTimeout","WARandomHex","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(){this.$1=!1,this.$2=0,this.$3=0,this.$4={},this.$5=[],this.$6=[]}var b=a.prototype;b.init=function(a,b){if(this.$1)throw c("err")("ConcurrentPreemptiveJobQueue has already initialized");this.$2=a.maxConcurrency;this.$3=a.maxConcurrency;this.$4=(a=a.maxConcurrencyPerJob)!=null?a:{};this.$7=b;this.$1=!0};b.updateConfig=function(a){this.$3+=a.maxConcurrency-this.$2;this.$2=a.maxConcurrency;this.$4=(a=a.maxConcurrencyPerJob)!=null?a:{};d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: updated ConcurrentPreemptiveJobQueue config"])))};b.isInitialized=function(){return this.$1};b.clearQueueByPriority=function(a){if(!this.$1)throw c("err")("ConcurrentPreemptiveJobQueue not initialized");this.$5=this.$5.filter(function(b){return((b=b.jobInfo)==null?void 0:b.priority)!==a})};b.clearQueue=function(){if(!this.$1)throw c("err")("ConcurrentPreemptiveJobQueue not initialized");this.$5=[];this.$6=[]};b.enqueue=function(a,b,e){var f,g=this;if(!this.$1)return Promise.reject(c("err")("ConcurrentPreemptiveJobQueue not initialized"));var h,i,j=new Promise(function(a,b){h=a,i=b}),k=babelHelpers.extends({priority:d("WAJobOrchestratorTypes").DEFAULT_JOB_PRIORITY},e),l=(f=e==null?void 0:e.jobId)!=null?f:d("WARandomHex").randomHex(8).substr(0,64);f=this.$8(a,k,l,async function(){try{g.$7.logJobStarted(l);var a=await g.$9(b(),e==null?void 0:e.maxTimeoutMs);g.$7.logJobCompleted(l);h(a)}catch(a){a instanceof d("WACustomError").TimeoutError?g.$7.logJobTimeout(l):g.$7.logJobError(l),i(a)}});e&&e.priority===d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION&&this.$10(f);this.$11();return j};b.getAvailableThreadsCount=function(){return this.$3};b.getJobMaxConcurrency=function(){return this.$4};b.getSnapshot=function(a){};b.$11=function(){while(this.$3>0){var a=this.$12();if(a==null)break;this.$10(a)}};b.$9=function(a,b){return b!==void 0?d("WAPromiseTimeout").promiseTimeout(a,b):a};b.$10=async function(a){var b=this;this.$3--;this.$13(a);var c=a.run,e=a.jobId,f=a.jobName;try{await this.$9(c(),((c=a.jobInfo)==null?void 0:c.maxTimeoutMs)===void 0?d("WAJobOrchestratorTypes").DEFAULT_JOB_TIMEOUT_MS:void 0)}catch(a){if(a instanceof d("WACustomError").TimeoutError)this.$7.logJobTimeout(e),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: "," exceeding the timeout, release the thread."])),f);else throw a}finally{this.$3++,this.$14(e),setTimeout(function(){return b.$11()},0)}};b.$8=function(a,b,c,d){d={jobId:c,jobInfo:b,jobName:a,run:d};this.$7.logJobCreated({jobId:c,jobName:a,jobPriority:b.priority,pendingJobsCount:this.$5.length});this.$5.push(d);return d};b.$13=function(a){this.$6.includes(function(b){return b.jobId===a.jobId})&&d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskPending found jobId: "," in pending tasks"])),a.jobId).sendLogs("JobOrchestrator::markJobTaskPending"),this.$6.push(a),this.$5=this.$5.filter(function(b){return b.jobId!==a.jobId})};b.$14=function(a){this.$6=this.$6.filter(function(b){return b.jobId!==a}),this.$5.includes(function(b){return b.jobId===a})&&d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskDone found jobId: "," in scheduled tasks"])),a).sendLogs("JobOrchestrator::markJobTaskDone")};b.$12=function(){var a=this;if(this.$5.length===0)return null;var b=this.$6.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),c=this.$5.filter(function(c){var d;return((d=b.get(c.jobName))!=null?d:0)<((d=a.$4[c.jobName])!=null?d:1)});return c[0]};return a}();g.WAConcurrentPreemptiveJobQueue=a}),98);
__d("WADefaultJobNoQueue",["WAJobOrchestratorTypes","WARandomHex","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=!1}var b=a.prototype;b.init=function(a,b){if(this.$2)throw c("err")("DefaultNoQueue has already initialized");this.$1=b;this.$2=!0};b.updateConfig=function(a){};b.isInitialized=function(){return this.$2};b.clearQueue=function(){};b.clearQueueByPriority=function(a){};b.getSnapshot=function(){throw c("err")("getSnapshot is not implemented for DefaultNoQueue")};b.enqueue=async function(a,b,c){var e;e=(e=c==null?void 0:c.jobId)!=null?e:d("WARandomHex").randomHex(8).substr(0,64);this.$1.logJobCreated({jobId:e,jobName:a,jobPriority:(a=c==null?void 0:c.priority)!=null?a:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,pendingJobsCount:0});try{this.$1.logJobStarted(e);c=await b();this.$1.logJobCompleted(e);return c}catch(a){this.$1.logJobError(e);throw a}};return a}();g.WADefaultJobNoQueue=a}),98);
__d("WAOrchestratorJobStatsLogger",["WAGlobals","WAPREList","WAPREMetrics"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.jobName=a,this.pendingJobsCount=c,this.jobPriority=b}var b=a.prototype;b.logJobAdded=function(){this.webcJobAddedT=Date.now(),this.eventFlow=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOBS_ORCHESTRATOR,{string:{name:this.jobName,jobPriority:this.jobPriority,orchestratorVersion:d("WAGlobals").getConfig().orchestratorVersion()},"int":{pendingJobsCount:this.pendingJobsCount,addedAt:this.webcJobAddedT}})};b.logJobStarted=function(){this.webcJobStartedT=Date.now(),this.eventFlow.addPoint("start_job",{"int":{startedAt:this.webcJobStartedT}})};b.logJobCompleted=function(a){this.webcJobCompletedT=Date.now();this.jobResultType=a;var b={"int":{pendingJobsCount:this.pendingJobsCount,completedAt:this.webcJobCompletedT}};a==="completed"?this.eventFlow.endSuccess(b):this.eventFlow.endFail(a,b)};return a}();a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.logJobCreated=function(a){var b=a.jobName,c=a.jobId,d=a.jobPriority;a=a.pendingJobsCount;b=new h(b,d,a);b.logJobAdded();this.$1.set(c,b)};b.logJobStarted=function(a){a=this.$1.get(a);a==null||a.logJobStarted()};b.logJobCompleted=function(a){this.$2(a,"completed")};b.logJobError=function(a){this.$2(a,"error")};b.logJobTimeout=function(a){this.$2(a,"timeout")};b.logJobAborted=function(a){this.$2(a,"aborted")};b.$2=function(a,b){var c=this.$1.get(a);c==null||c.logJobCompleted(b);this.$1["delete"](a)};return a}();g.JobInfoEvent=h;g.JobStatsLogger=a}),98);
__d("WAOrchestrator",["WAConcurrentBucketJobQueue","WAConcurrentPreemptiveJobQueue","WADefaultJobNoQueue","WAGlobals","WAJobOrchestratorTypes","WAOrchestratorJobStatsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a={maxConcurrency:1},b="default",c={},e=a,f=new(d("WAOrchestratorJobStatsLogger").JobStatsLogger)();return function(g,j){var k;g===void 0&&(g=!1);g=g?b:d("WAGlobals").getConfig().orchestratorVersion();k=(k=i())!=null?k:a;var l;j==null||j.addPoint("get_orchestrator",{string:{orchestrator:g},"int":{maxConcurrency:k.maxConcurrency,highPriorityQuota:(j=(j=k.jobPrioritiesQuota)==null?void 0:j.get(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH))!=null?j:0,lowPriorityQuota:(j=(j=k.jobPrioritiesQuota)==null?void 0:j.get(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW))!=null?j:0}});if(c[g]){h(e,k)&&(e=k,c[g].updateConfig(k));return c[g]}switch(g){case"preemptive":l=new(d("WAConcurrentPreemptiveJobQueue").WAConcurrentPreemptiveJobQueue)();break;case"bucket":l=new(d("WAConcurrentBucketJobQueue").WAConcurrentBucketJobQueue)();break;default:l=new(d("WADefaultJobNoQueue").WADefaultJobNoQueue)();break}l.init(k,f);c[g]=l;e=k;return l}}function h(a,b){var c;if(a.maxConcurrency!==b.maxConcurrency)return!0;if(((c=a.jobPrioritiesQuota)==null?void 0:c.size)!==((c=b.jobPrioritiesQuota)==null?void 0:c.size))return!0;return Object.keys((c=a.maxConcurrencyPerJob)!=null?c:{}).length!==Object.keys((c=b.maxConcurrencyPerJob)!=null?c:{}).length?!0:JSON.stringify(a)!==JSON.stringify(b)}function i(){var a={jobPrioritiesQuota:new Map([[d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,5],[d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,1]]),maxConcurrency:5,maxConcurrencyPerJob:{}};return a}g.getInstanceDelegate=a}),98);
__d("WaJobInMemoryAccessors",["Promise","WARandomHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=-1,c=new Map();return{deletePersistedJob:function(a){return(h||(h=b("Promise"))).resolve(c["delete"](a))},loadAllJobs:function(){return(h||(h=b("Promise"))).resolve(Array.from(c.values()))},maybeCreateJob:function(e){var f,g=JSON.stringify([e.type,(f=e.uniqKey)!=null?f:d("WARandomHex").randomHex(32)]),i={backedOffCount:0,current:e.args,original:e.args,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:e.type,uniqKey:g,version:e.version,waitUntil:null,scheduleConfig:e.scheduleConfig};f=function(){var d=a--,e=babelHelpers["extends"]({},i,{jobId:d});c.set(d,e);return(h||(h=b("Promise"))).resolve({id:d,newlyCreated:!0})};if(e.uniqKey!=null){e=Array.from(c.values()).filter(function(a){return a.uniqKey===g});if(e.length===0)return f();var j=null;e.forEach(function(a){a.step!=="$finished"?j=a:c["delete"](a.jobId)});return j!=null?(h||(h=b("Promise"))).resolve({id:j.jobId,newlyCreated:!1}):f()}return f()},readPersistedJob:function(a){a=c.get(a);return(h||(h=b("Promise"))).resolve(a&&babelHelpers["extends"]({},a))},updatePersistedJob:function(a){return(h||(h=b("Promise"))).resolve(c.set(a.jobId,babelHelpers["extends"]({},a)))}}}g.getJobInMemoryAccessors=a}),98);
__d("WAPersistedJobManagerV2",["WAGlobals","WAJids","WAJobOrchestratorTypes","WAJobRequirement","WALogger","WAOrchestrator","WAPREList","WAPREMetrics","WAPersistedJobManager","WAPromiseBackoffs","WAResolvable","WATimeUtils","WaJobInMemoryAccessors","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=1;function N(a){var b=a.code,c=a.annotations;c=c===void 0?{}:c;a=a.eventFlow;var d=a===void 0?O(c):a;return b(d).then(function(a){d.endSuccess();return a}).catch(function(a){d.endFail("error",{string:{error:""+a}});throw a})}function O(a){a===void 0&&(a={});return d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOB_MANAGER,babelHelpers.extends({},a,{string:babelHelpers.extends({},(a=(a=a)==null?void 0:a.string)!=null?a:{},{userHash:d("WAGlobals").getDependencies().isEmployee()&&d("WAGlobals").getDependencies().isUseridAnnotationEnabled()?d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()).slice(-5):null})}))}a=function(){function a(a){var b=this;this.$1=[];var c=a.isRestartAfterCrash,e=a.accessors,f=a.unfinishedJobEntries,g=a.ignoreForceNonPersistedJobList;this.getOrchestratorDelegate=d("WAOrchestrator").getInstanceDelegate();this.activeJobs=new Map();this.implementationLoaders=new Map();this.implementations=new Map();this.stepBlockers=new WeakMap();this.accessors=e;this.isRestartAfterCrash=c||!1;this.listeners=a.listeners;this.deprecatedJobs=a.deprecatedJobs;this.inMemoryAccessors=d("WaJobInMemoryAccessors").getJobInMemoryAccessors();this.offlineQueueMode=!0;this.$1=g;a.offlineQueueCompletePromise!=null?a.offlineQueueCompletePromise.finally(function(){b.offlineQueueMode=!1}):this.offlineQueueMode=!1;this.initialJobsPromise=f.then(function(a){var c=[],e=[];a.forEach(function(a){a.stepHardStartCountAfterTimeout>=5?c.push(a):e.push(a)});return Promise.all(c.map(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",": stuck on the step ",", aborting the job"])),Q(a),a.step).devConsole(P(a)).sendLogs("job-stuck-"+a.type);return b.accessors.deletePersistedJob(a.jobId)})).then(function(){e.forEach(function(a){var c=b.$2(a.jobId);if(c.alreadyActive===!0){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[JOB MANAGER] Restarting job with the same id"])));return}c.deferred.resolve(N({code:function(c){return b.$3(a,b.accessors,{eventFlow:c})},annotations:{string:{name:a.type},bool:{offlineQueueMode:b.offlineQueueMode}}}))})})})}var b=a.prototype;b.$4=async function(a,b,e){var f;e===void 0&&(e={});var g=this.$2(a);(f=e.eventFlow)==null||f.addPoint("start_load_and_run",{bool:{skipped:g.alreadyActive}});if(g.alreadyActive===!0)return g.deferred;f=await b.readPersistedJob(a);if(f==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Persisted job missing for given ID"]))).sendLogs("missing-job-entry");throw c("err")("Persisted job missing for given ID "+a)}g.deferred.resolve(this.$3(f,b,e));return g.deferred.promise};b.$3=function(a,b,c){var e;c===void 0&&(c={});(e=c.eventFlow)==null||e.addPoint("enqueueing_job",{string:{name:a.type}});return this.getOrchestratorDelegate(((e=a.scheduleConfig)==null?void 0:e.priority)===d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP,c.eventFlow).enqueue(a.type,this.$5(a,b,c),a.scheduleConfig,c.eventFlow)};b.$6=function(a,b,c){var d=this;c===void 0&&(c={});return b.maybeCreateJob(a).then(function(a){var e;a=a.id;(e=c.eventFlow)==null||e.addPoint("job_persisted",{int:{jobId:a},bool:{nonPersisted:b===d.inMemoryAccessors}});return a})};b.$2=function(a){var b=this.activeJobs.get(a);if(b!=null)return{alreadyActive:!0,deferred:b};b=new(d("WAResolvable").Resolvable)();this.activeJobs.set(a,b.promise);return{alreadyActive:!1,deferred:b}};b.$5=function(a,b,c){var d=this;return function(){return d.$7(a,b,c)}};b.$8=function(a){var b=this.implementations,c=this.implementationLoaders,d=b.get(a);if(d)return d;d=c.get(a);if(!d)return null;c=d();b.set(a,c);return c};b.$9=function(a,b){if(b==null||b.length===0)return Promise.resolve();var c=this.stepBlockers,e=c.get(b);e==null&&(e=d("WAJobRequirement").joinRequirements(b.map(function(a){return a()}),S),c.set(b,e));return e(a)};b.$10=function(a,b,c,e,f){var g,h=this;f===void 0&&(f={});var i=a.step;(g=f.eventFlow)==null||g.addPoint("start_step");var j=b.findIndex(function(a){return a.stepName===i});g=b[j].info(a.current,a.original,T(a,this.isRestartAfterCrash));var m=g.requirements,n=g.code;g=this.$9(a,m);e&&(g=g.then(e));return g.then(function(){var b;d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["",": running step"])),R(a));(b=f.eventFlow)==null||b.addPoint("run_step");return n(a.current,a.original,T(a,h.isRestartAfterCrash,f.eventFlow))}).then(function(e){var g;(g=f.eventFlow)==null||g.addPoint("step_is_complete");if(e instanceof d("WAPersistedJobManager").InterruptJob){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["",": InterruptJob"])),R(a));return e.result}g=j+1;if(g>=b.length)return e;g=b[g];a.step=g.stepName;a.current=e;a.stepHardStartCountAfterTimeout=0;a.stepFirstStartTime=d("WATimeUtils").unixTime();a.stepUnexpectedErrorCount=0;a.waitUntil=null;a.backedOffCount=0;return c.updatePersistedJob(a).then(function(){return h.$10(a,b,c,void 0,f)})})};b.$7=async function(a,b,c){var e,f=this;c===void 0&&(c={});var g=this.activeJobs,h=this.deprecatedJobs,i=this.listeners,j=i.onJobFinished;i=i.onJobStarted;(e=c.eventFlow)==null||e.addPoint("run_job");e=await this.$8(a.type);h=h[a.type];if(!e){if(!h){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",". Maybe it should have been put to the deprecated list?"])),a.type).sendLogs("missing-job-implementation");await b.deletePersistedJob(a.jobId);return null}else if(h==="NOOP"){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No implementation for deprecated ",", job deleted"])),a.type);await b.deletePersistedJob(a.jobId);return null}e=await h()}var k=e;h&&d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Running deprecated job ",""])),a.type);var l=(h=a.stepFirstStartTime)!=null?h:d("WATimeUtils").unixTime();a.stepFirstStartTime=l;a.stepUnexpectedErrorCount=a.stepUnexpectedErrorCount||0;a.backedOffCount=a.backedOffCount||0;if(a.step===d("WAPersistedJobManager").FINISHED_JOB){h=a.waitUntil;var C=d("WATimeUtils").secondsUntil(l);h!=null&&d("WATimeUtils").isInFuture(h)&&C>0&&(d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["",": skew detected, adjusting accordingly"])),P(a)),h=d("WATimeUtils").castToUnixTime(h-C),d("WATimeUtils").isInFuture(h)&&(a.stepFirstStartTime=d("WATimeUtils").castToUnixTime(l-C),a.waitUntil=h,await b.updatePersistedJob(a)));(h==null||!d("WATimeUtils").isInFuture(h))&&(d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["",": removing completed, expired job from db"])),P(a)),await b.deletePersistedJob(a.jobId));g.delete(a.jobId);return a.current}C=a.step!==d("WAPersistedJobManager").UNSTARTED_JOB?e.find(function(b){return b.stepName===a.step}):e[0];if(!C){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",".",""])),a.type,a.step).sendLogs("missing-job-step");await b.deletePersistedJob(a.jobId);return null}a.step=C.stepName;var D=function(){var e=a.waitUntil,g=Promise.resolve();if(e!=null){var h=d("WATimeUtils").futureUnixTime(d("WATimeUtils").DAY_SECONDS);e>h?(d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["",": trim wait from "," to ",""])),R(a),e,h),a.waitUntil=h,g=b.updatePersistedJob(a).then(function(){return d("WATimeUtils").delayUntil(h)})):(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["",": delaying until ",""])),R(a),e),g=d("WATimeUtils").delayUntil(e))}return g.then(function(){var e=function(){a.waitUntil=null;d("WATimeUtils").happenedWithin(l,d("WATimeUtils").DAY_SECONDS)||a.stepHardStartCountAfterTimeout++;return b.updatePersistedJob(a)};return f.$10(a,k,b,e,c).catch(function(e){if(e instanceof d("WAPersistedJobManager").RetryOnBackoff){var f;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["",": RetryOnBackoff"])),R(a));(f=c.eventFlow)==null||f.addPoint("retry_on_backoff");f=d("WAPromiseBackoffs").getDelay(++a.backedOffCount,e.backoffOptions);a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(f/1e3));a.stepHardStartCountAfterTimeout>0&&--a.stepHardStartCountAfterTimeout;return b.updatePersistedJob(a).then(D)}else{if(!(e instanceof d("WAPersistedJobManager").NonRetryableError)&&a.stepUnexpectedErrorCount<M){(f=c.eventFlow)==null||f.addPoint("retry_on_unexpected_error");d("WALogger").WARN(v||(v=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception. Tried "," times"])),R(a),a.stepUnexpectedErrorCount);d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception: ",""])),R(a),e);a.stepUnexpectedErrorCount++;return b.updatePersistedJob(a).then(D)}throw e}})})},E=D();h=E.then(async function(c){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["",": finished job"])),R(a));var e=null;try{e=j(a.jobId,a.type,a.original,c)}catch(b){d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["onJobFinished for "," threw exception ",""])),a.type,b).sendLogs("onJobFinished-threw")}e!=null&&e>0?(a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(e/1e3)),a.step=d("WAPersistedJobManager").FINISHED_JOB,a.current=c,a.stepFirstStartTime=d("WATimeUtils").unixTime(),await b.updatePersistedJob(a)):(await b.deletePersistedJob(a.jobId),g.delete(a.jobId))},async function(c){d("WALogger").ERROR(z||(z=babelHelpers.taggedTemplateLiteralLoose([""," failed with error ",""])),a.type,c).sendLogs("job-threw-exception-"+a.type);c=k.find(function(b){return b.stepName===a.step});if(!c)d("WALogger").ERROR(A||(A=babelHelpers.taggedTemplateLiteralLoose(["",": "," step not found"])),a.type,a.step);else{c=c.info(a.current,a.original,T(a,f.isRestartAfterCrash));c.stopRetryIf!=null&&await c.stopRetryIf.onStopRetry(a.current,a.original,T(a,f.isRestartAfterCrash))}await b.deletePersistedJob(a.jobId);g.delete(a.jobId)});try{i(a.jobId,a.type,a.original)}catch(b){d("WALogger").ERROR(B||(B=babelHelpers.taggedTemplateLiteralLoose(["onJobStarted for "," threw exception ",""])),a.type,b).sendLogs("onJobStarted-threw")}return h.then(function(){return E})};b.addPersistedJobImplementation=function(a,b){var c=this.implementationLoaders,e=this.deprecatedJobs;if(c.has(a)){d("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(["addPersistedJobImplementation called twice for ",""])),a).sendLogs("repeat-job-loader");return}e&&e[a]&&d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose([""," has been loaded and is marked as deprecated"])),a);c.set(a,b)};b.fireAndForget=function(a){var b=this;if(this.$1.indexOf(a.type)===-1){d("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"])),a.type);this.fireAndForgetNonPersisted(a);return}d("WALogger").LOG(F||(F=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"])),a.type);N({code:async function(c){var d={eventFlow:c};await b.initialJobsPromise;c.addPoint("initial_jobs_promise_fulfilled");return b.$6(a,b.accessors,d).then(function(a){return b.$4(a,b.accessors,d)})},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};b.waitUntilPersisted=async function(a){var b=this;if(this.$1.indexOf(a.type)===-1){d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"])),a.type);this.fireAndForgetNonPersisted(a);return Promise.resolve()}d("WALogger").LOG(H||(H=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"])),a.type);var c=O({string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}});await this.initialJobsPromise;c.addPoint("initial_jobs_promise_fulfilled");return this.$6(a,this.accessors,{eventFlow:c}).then(function(a){N({code:function(c){c={eventFlow:c};return b.$4(a,b.accessors,c)},eventFlow:c})}).catch(function(a){c.endFail("error",{string:{error:""+a}});throw a})};b.waitUntilCompleted=function(a){var b=this;if(this.$1.indexOf(a.type)===-1){d("WALogger").LOG(I||(I=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"])),a.type);return this.waitUntilCompletedNonPersisted(a)}d("WALogger").LOG(J||(J=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"])),a.type);return N({code:async function(c){var d={eventFlow:c};await b.initialJobsPromise;c.addPoint("initial_jobs_promise_fulfilled");return b.$6(a,b.accessors,d).then(function(a){return b.$4(a,b.accessors,d)})},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};b.fireAndForgetNonPersisted=function(a){var b=this;N({code:async function(c){var d={eventFlow:c};await b.initialJobsPromise;c.addPoint("initial_jobs_promise_fulfilled");return b.$6(a,b.inMemoryAccessors,d).then(function(a){return b.$4(a,b.inMemoryAccessors,d)})},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};b.waitUntilCompletedNonPersisted=function(a){var b=this;return N({code:async function(c){var d={eventFlow:c};await b.initialJobsPromise;c.addPoint("initial_jobs_promise_fulfilled");return b.$6(a,b.inMemoryAccessors,d).then(function(a){return b.$4(a,b.inMemoryAccessors,d)})},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};return a}();function P(a){return"Job["+a.jobId+"] ("+a.type+")"}function Q(a){return"[Job "+a.type+"] "}function R(a){return"Job["+a.jobId+"] ("+a.type+"."+a.step+")"}function S(a,b,c){a==="unsatisfiable"?d("WALogger").LOG(K||(K=babelHelpers.taggedTemplateLiteralLoose([""," halting because of ",""])),R(c),b):a==="unsatisfied"?d("WALogger").LOG(L||(L=babelHelpers.taggedTemplateLiteralLoose([""," waiting on ",""])),R(c),b):a}function T(a,b,c){b===void 0&&(b=!1);return{jobStartTime:a.startTime,afterCrash:b,interruptJob:U,eventFlow:c}}function U(a){return new(d("WAPersistedJobManager").InterruptJob)(a)}g.PersistedJobManager=a}),98);
__d("WACommsConnectionState",["WAGenericStateManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.call(this,!1)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.isConnected=function(){return this.get()};c.waitForConnection=function(){return this.waitForValue(!0)};return b}(d("WAGenericStateManager").WAGenericStateManager);b=new a();g.WACommsConnectionState=b}),98);
__d("MAWJobManager",["MAWBridge","MAWDefinePersistedJob","MAWJobPersistenceAccessorsApi","WAPersistedJobManagerV2","WAWaitForComms","WAWaitForUserUnblocked","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAPersistedJobManagerV2").PersistedJobManager)({accessors:d("MAWJobPersistenceAccessorsApi").getJobPersistenceAccessors(),deprecatedJobs:{removeCurrentDevice:"NOOP"},ignoreForceNonPersistedJobList:["sendMsg","sendBumpMsg","sendReactionMsg","sendMediaMsg","sendWrittenMsg","downloadAndHandleMedia"],isRestartAfterCrash:!1,listeners:{onJobFinished:function(a,b,c,e){d("MAWBridge").getBridge().fireAndForget("event","onJobFinished",{id:a,originalArgs:c,result:e,type:b},!0);return null},onJobStarted:c("emptyFunction")},offlineQueueCompletePromise:d("WAWaitForUserUnblocked").waitForUserUnblocked(),unfinishedJobEntries:d("WAWaitForComms").waitForComms().then(function(){return d("MAWJobPersistenceAccessorsApi").getJobPersistenceAccessors().loadAllJobs()})});function a(){return d("MAWDefinePersistedJob").persistedJobsApi}function b(){return h}g.getPersistedJobsApi=a;g.getJobManager=b}),98);
__d("WAJobBuilder",["Promise","WAPersistedJobManager","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a){this.steps=a}var b=a.prototype;b.step=function(a,b){return this.$1(a,typeof b==="function"?{code:b}:b)};b.$1=function(b,c){var e=c.stopRetryIf,f=c.requirements;c=c.code;f=k(f,c,e);if(e){var g=e.timePassedSeconds;c=e.appCrashed;var h=e.onStopRetry;h=k(null,l(h),e);g!=null&&(f=j(function(a,b,c){a=c.jobStartTime;return d("WATimeUtils").happenedWithin(a,g)},f,h));c&&(f=j(function(a,b,c){a=c.afterCrash;return!a},f,h))}return new a([].concat(this.steps,[{stepName:b,info:f}]))};b.finalStep=function(a,b){var c=this.step(a,b);return{end:function(){return c.steps}}};return a}();function a(){return new i([])}function j(a,b,c){return function(d,e,f){return a(d,e,f)?b(d,e,f):c(d,e,f)}}function k(a,b,c){var d={requirements:a,code:b,stopRetryIf:c};return function(){return d}}function l(a){return function(c,e,f){return(h||(h=b("Promise"))).resolve(a(c,e,f)).then(function(a){return a instanceof d("WAPersistedJobManager").InterruptJob?a:new(d("WAPersistedJobManager").InterruptJob)(a)})}}g.JobBuilder=i;g.definePersistedJob=a}),98);
__d("MAWDefinePersistedJob",["MAWJobManager","Promise","WAJobBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;e={definePersistedJob:function(){return d("WAJobBuilder").definePersistedJob()}};function a(a){var c=d("MAWJobManager").getJobManager();Object.keys(a).forEach(function(d){var e=a[d];c.addPersistedJobImplementation(d,function(){return(h||(h=b("Promise"))).resolve(e)})})}function c(a){var b=d("MAWJobManager").getJobManager();Object.keys(a).forEach(function(c){var d=a[c];b.addPersistedJobImplementation(c,d)})}g.persistedJobsApi=e;g.setMsgrJobImplementations=a;g.setMsgrDeferredJobImplementations=c}),98);
__d("MAWEBLSInWorkerSwitch",["MAWEBEnabledStateManager"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("MAWEBEnabledStateManager").MAWEBEnabledStateManager)();b=a;g["default"]=b}),98);
__d("MAWEBCombinedSwitch",["MAWEBEnabledStateManager","MAWEBLSInWorkerSwitch","MAWEBSwitch","MAWODSProxy","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){var d;d=a.call(this)||this;d.$MAWCombinedStateManager$p_1=b;d.$MAWCombinedStateManager$p_2=c;d.$MAWCombinedStateManager$p_3=null;d.$MAWCombinedStateManager$p_4=!1;d.$MAWCombinedStateManager$p_1.onSet(function(){d.$MAWCombinedStateManager$p_5()});d.$MAWCombinedStateManager$p_2.onSet(function(){d.$MAWCombinedStateManager$p_5()});d.$MAWCombinedStateManager$p_5();return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.isEnabled=function(){var b=a.prototype.isEnabled.call(this);this.$MAWCombinedStateManager$p_6();return b};c.$MAWCombinedStateManager$p_6=function(){var a=this.$MAWCombinedStateManager$p_1.isEnabled(),b=this.$MAWCombinedStateManager$p_2.isEnabled(),c=a!==b;a=a?"enabled":"disabled";b=b?"enabled":"disabled";var e=c?"mismatch":"match";if(c&&!this.$MAWCombinedStateManager$p_4)this.$MAWCombinedStateManager$p_3=Date.now(),this.$MAWCombinedStateManager$p_4=!0;else if(this.$MAWCombinedStateManager$p_4&&this.$MAWCombinedStateManager$p_3!=null){var f=this.$MAWCombinedStateManager$p_3;f=Date.now()-f;this.$MAWCombinedStateManager$p_4=c;this.$MAWCombinedStateManager$p_3=c?Date.now():null;f=this.$MAWCombinedStateManager$p_7(f);d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_switch.sync.duration_bucket."+f});f=c?"failed":"success";d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_switch.sync.result."+f})}d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_switch."+e+"."+a+"."+b})};c.$MAWCombinedStateManager$p_7=function(a){if(a<100)return"under_100ms";else if(a<500)return"100_to_500ms";else if(a<1e3)return"500ms_to_1s";else if(a<5e3)return"1s_to_5s";else if(a<1e4)return"5s_to_10s";else return"over_10s"};c.$MAWCombinedStateManager$p_5=function(){this.set(this.$MAWCombinedStateManager$p_1.isEnabled()&&this.$MAWCombinedStateManager$p_2.isEnabled()),this.$MAWCombinedStateManager$p_6()};return b}(d("MAWEBEnabledStateManager").MAWEBEnabledStateManager);b=new a(c("MAWEBSwitch"),c("MAWEBLSInWorkerSwitch"));g.MAWCombinedStateManager=a;g.MAWEBCombinedSwitch=b}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MAWIsFbProfileDirectoryItemXmaEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("15740")}g.isFbProfileDirectoryItemXmaEnabled=a}),98);
__d("MAWIsLiveLocationXmaEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3758")===!0}g.isLiveLocationXmaEnabled=a}),98);
__d("MAWJidUtils",["FBLogger","I64","LSIntEnum","MAWDbMsg","MAWJids","WAGlobals","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(d("WAJids").isAuthorSystem(a)||b==null||e==null){c("FBLogger")("messenger_web").warn("Failed to create protocolMsgId with externalId %s for a msg to edit",e);return}return{author:a,chat:b,externalId:e}}function a(a){var b;return j(a.author,a.threadJid,(b=a.externalId)!=null?b:a.editExternalId)}function b(a){return d("WAJids").isAuthorMe(a)?d("WAGlobals").getMyUserJid():a}function e(a,b){a=(h||(h=d("I64"))).to_string(a);b=(i||(i=d("LSIntEnum"))).unwrapIntEnum(b);switch(b){case 15:return d("MAWJids").jidUtils.toUserJid(a);case 16:return d("WAJids").toGroupJid(a);default:return null}}function f(a){return m(a.threadJid,a.externalId)}function k(a){return l(a.threadJid,a.externalId)}function l(a,b){a=d("MAWDbMsg").toMsgId(m(a,b));if(a==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("formatProtocolMsgIdFromExternalId: Failed to create protocolMsgId with externalId %s for a msg",b);return a}function m(a,b){return a+"."+b}g.maybeToProtocolMsgId=j;g.toProtocolMsgId=a;g.getAuthorJid=b;g.LSJidtoChatJid=e;g.toProtocolMsgIdStringForMAWStorage=f;g.formatProtocolMsgIdFromMsg=k;g.formatProtocolMsgIdFromExternalId=l}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(a,b,c,d,e,f,g){"use strict";var h=["s2sInstanceKey","s2sUserFlowQPLEvent"],i=["scheduleConfig"];function a(a){return a}function b(a){return a}f={acceptGroupInvite:function(a,b,c,d,e,f){f=k(f);return{args:{chatJid:a,inviteCode:d,invitedParticipantUserId:c,inviteExpirationTs:e,inviterUserId:b},scheduleConfig:f!=null?f:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c,d){d=k(d);return{args:{group:a,s2sInstanceKey:c,users:b},scheduleConfig:d!=null?d:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(a,b){b=k(b);return{args:{msgIds:a},scheduleConfig:b!=null?b:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,d,e,f,g,h){f=k(h);return{args:{downloadType:e,hash:b,metricInstanceKeys:g,msgType:d,protocolMsgId:a,qplEntryPoint:c},scheduleConfig:f!=null?f:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,i){i=k(i);c=c!=null?c:{};var j=c.s2sInstanceKey;c.s2sUserFlowQPLEvent;c=babelHelpers.objectWithoutPropertiesLoose(c,h);return{args:{args:c,chatJid:a,ephemeralSetting:e,externalId:f!=null?f:d("MAWExternalId").generateExternalId(),isFirstMsg:g,protocolMsgId:b,s2sInstanceKey:j},scheduleConfig:i!=null?i:void 0,type:"forwardMsg"}},getSpams:function(a){a=k(a);return{args:void 0,scheduleConfig:a!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=k(a);return{args:{},scheduleConfig:a!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=k(a);return{args:void 0,scheduleConfig:a!=null?a:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(a,b){var c=a.chatJid,d=a.context,e=a.frxParams,f=a.frxTags,g=a.msgs,h=a.reportedMessageId,i=a.spamFlow;a=a.userJid;b=k(b);return{args:{chatJid:c,context:d,frxParams:e,frxTags:f,msgs:g,reportedMessageId:h,spamFlow:i,userJid:a},scheduleConfig:b!=null?b:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(a,b){var c=a.actorID;a=a.taskID;b=k(b);return{args:{actorID:c,taskID:a},scheduleConfig:b!=null?b:void 0,type:"igdSendMsg"}},leaveGroups:function(a,b){b=k(b);return{args:{groups:a},scheduleConfig:b!=null?b:void 0,type:"leaveGroups"}},markThreadAsRead:function(a,b,c,d,e,f){f=k(f);return{args:{chatJid:a,isBlocked:c,isReadReceiptsDisabled:e,isRestricted:d,relationship:b},scheduleConfig:f!=null?f:void 0,type:"markThreadAsRead"}},promoteGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,d,e,f,g,h,i,j){i=k(i);return{args:{chatJid:c,context:f,frxParams:g,frxTags:e,isIgd:d,openMsgs:j,reportedMessageId:h,spamFlow:b,userJid:a},scheduleConfig:i!=null?i:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(a,b){b=k(b);return{args:{appDataExternalId:a},scheduleConfig:b!=null?b:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p){n=k(n);return{args:{deanonApiPayload:o,hasMoreAfter:e,hasMoreBefore:d,instanceKey:j,isMediaGalleryRestore:p,isPointQuery:f,messages:c,minMsgId:g,optimisticMsgs:l,startSortKey:i,taskSource:m,threadId:b,traceId:h,transportKey:a},scheduleConfig:n!=null?n:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q){m=k(m);return{args:{chatJid:q,deanonApiPayload:o,echoMessages:a,hasMoreAfter:f,hasMoreBefore:e,instanceKey:l,isMediaGalleryRestore:p,isPointQuery:g,messages:d,minMsgId:h,referenceTimestamp:j,requestId:i,taskSource:n,threadId:c,transportKey:b},scheduleConfig:m!=null?m:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(a,b){b=k(b);return{args:a,scheduleConfig:b!=null?b:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=k(c);return{args:{args:a,externalId:b!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:c!=null?c:void 0,type:"sendAppData"}},sendBumpMsg:function(a,b,c,e){e=k(e);return{args:{args:b,chatJid:a,externalId:c!=null?c:d("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendBumpMsg"}},sendGroupInviteMsg:function(a,b,c){c=k(c);return{args:{args:a,externalId:b!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:c!=null?c:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x){s=k(s);return{args:{args:{duration:j,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:i,jpegThumbnailWidth:h,mediaGroupMetadata:x,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:c,source:t,width:f},attachmentType:w,chatJid:a,externalId:r!=null?r:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:s!=null?s:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(a,b,c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y){s=k(s);return{args:{args:{duration:j,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:i,jpegThumbnailWidth:h,mediaGroupMetadata:y,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:w,source:t,width:f},attachmentType:x,chatJid:a,externalId:r!=null?r:d("MAWExternalId").generateExternalId(),mimeType:b,plaintext:c},scheduleConfig:s!=null?s:void 0,type:"sendMediaMsgV2"}},sendWrittenAppData:function(a,b){b=k(b);return{args:{appDataExternalId:a},scheduleConfig:b!=null?b:void 0,type:"sendWrittenAppData"}},setGroupMemberAddMode:function(a,b,c){c=k(c);return{args:{groupJid:a,memberAddMode:b},scheduleConfig:c!=null?c:void 0,type:"setGroupMemberAddMode"}},setGroupSubject:function(a,b,c){c=k(c);return{args:{group:a,subject:b},scheduleConfig:c!=null?c:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(a,b){b=k(b);return{args:{qplInstanceKey:a},scheduleConfig:b!=null?b:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(a,b,c,d){d=k(d);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:d!=null?d:void 0,type:"updateBackupEntFbidForMedia"}}};function c(a,b){return j(a,b)}function j(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,i);c={args:{},scheduleConfig:c,type:a};b.externalIdJob&&(c.args.externalId=d("MAWExternalId").generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function k(a){if(a==null)return;return{jobId:a.jobId,maxTimeoutMs:a.maxTimeoutMs,priority:a.priority}}function e(a){return{otid:a.toplevelProtobuf.messageId,supplementalProtobufs:new Map(a.supplementalProtobufs.entries().map(function(a){var b=a[0];a=a[1];return[b,{decryptedProtobuf:a.payload,protobufTimestampMS:a.timestampMs}]})),tags:a.tags,toplevelProtobuf:{decryptedProtobuf:a.toplevelProtobuf.payload,protobufTimestampMS:a.toplevelProtobuf.timestampMs}}}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=f;g.createStartJobInfo=c;g.createStartJobInfoGeneric=j;g.serializeJobScheduledConfig=k;g.mpsMessageToEncryptedBackupsMessage=e}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]))):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MAWMsg",["$InternalEnum","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,e,f,g){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return k(f);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(i||(i=d("LSIntEnum"))).ofNumber(536870912):(i||(i=d("LSIntEnum"))).ofNumber(1024);else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(33554432);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH)return(i||(i=d("LSIntEnum"))).ofNumber(134217728);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function k(a){switch(a){case"liveLocationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(i||(i=d("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(i||(i=d("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(i||(i=d("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(i||(i=d("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(i||(i=d("LSIntEnum"))).ofNumber(8589934592);case"rtcMessage":return(i||(i=d("LSIntEnum"))).ofNumber(17179869184);default:return(i||(i=d("LSIntEnum"))).ofNumber(131072)}}function e(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function f(a,b){var e=a.replyAttachmentType;if(e==null)return!1;b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);return b&&a.replyAttachmentId==null?!1:(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))}function l(a){return(j||(j=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function m(a){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes)}function n(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function o(a){return(j||(j=d("I64"))).lt(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))}function p(a){a=a.displayedContentTypes;return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(1024),a)||d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a)}function q(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4294967296))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2147483648))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1073741824))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8589934592))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var r=(b=b("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),s=b({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),t=b({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});b=b({IMAGE:0,VIDEO:1});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.bumpExistingMessage=h.MSG_TYPE.BUMP_EXISTING_MESSAGE;g.getDisplayedContentTypes=a;g.isMediaMsg=e;g.isMediaReplyAttachmentType=f;g.isReceiverFetchMsg=l;g.isReceiverFetchXMAMsg=m;g.isAdminMsg=n;g.isOptimistic=o;g.isXMAMsg=p;g.isPlaceholder=q;g.MAWRavenActionNotifType=r;g.MAWRavenMsgEphemeralMediaState=s;g.MAWRavenMsgEphemeralType=t;g.MAWRavenMsgMediaType=b}),98);
__d("MWXMAV2IsDataclassLiveLocationXMA",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return!1;a=JSON.parse(a);if(a==null)return!1;a=a.content;if(a==null||(a==null?void 0:a.__typename)!=="XMSGXmaSingleContent")return!1;a=a.custom_template_data;if(a==null||(a==null?void 0:a.__typename)!=="XMSGXmaLocationTemplateData")return!1;a=a.location_metadata;return a==null||(a==null?void 0:a.__typename)!=="XMSGXmaLiveLocationMetadata"?!1:!0}f.isDataclassLiveLocationXMA=a}),66);
__d("MAWParseXMAFBConfig",["FBLogger","MAWIsFbProfileDirectoryItemXmaEnabled","MAWIsLiveLocationXmaEnabled","MWXMAV2IsDataclassLiveLocationXMA","WAArmadilloXMA.pb","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([(b=d("WAArmadilloXMA.pb")).EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH]);function a(a){var b=a.fbTargetType,e=a.silentExposure;a=a.xmaDataclass;if(b!=null&&h.has(b))return!0;e=e!=null?e:!1;switch(b){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return e?c("gkx")("9338"):c("gkx")("9339");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return a!=null&&d("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(a)?d("MAWIsLiveLocationXmaEnabled").isLiveLocationXmaEnabled():!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return d("MAWIsFbProfileDirectoryItemXmaEnabled").isFbProfileDirectoryItemXmaEnabled();default:c("FBLogger")("maw_db").mustfix("MAWParseXMAFBConfig encountered an unknown unsupported XMA type: %s",String(b));return!1}}g.FB_FULLY_SUPPORTED_TARGET_TYPES=h;g.isFBSupportedTargetType=a}),98);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWUICacheServicesBase",["FBLogger","MAWCacheServiceDB","MAWCacheServiceQPL","MAWMpsGating"],(function(a,b,c,d,e,f,g){"use strict";var h=["id"];function i(a){return d("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()?a+"_mps_reactive":a}a=function(){function a(a){this.$1=new Map(),this.QPLMetadata=new Map(),this.$2=a}var b=a.prototype;b.resetInMemoryCache=function(a,b){var d=this.$1.get(a);if(d==null)return;c("FBLogger")("MAWUICacheServices").info("Reset in memory cache. Namespace: %s",a);b.forEach(function(a){d.delete(a)})};b.updateInMemoryCacheAndTriggerCallback=function(a,b,d,e,f){this.$3(a,b);a=this.$2[a];if(a==null)return;e!=null&&(c("MAWCacheServiceQPL").addPointQPL(e,"triggering_callback",d),(d==="cache-invalidation"||d==="realtime-update"||d==="from-scratch"&&this.QPLMetadata.get(e)==="all-from-scratch"||d==="in-memory"&&f===!0)&&(c("MAWCacheServiceQPL").endSuccessQPL(e),this.QPLMetadata.delete(e)));a.onCacheChange(b,d)};b.checkInMemoryCacheAndTriggerCallback=function(a,b,d){var e=this,f=[],g=[];b.forEach(function(b){var c=e.$4(a,b);c==null?f.push(b):g.push([b,c])});b=f.length===0;b&&d!=null&&c("MAWCacheServiceQPL").addPointQPL(d,"all_in_memory");g.length>0&&this.updateInMemoryCacheAndTriggerCallback(a,g,"in-memory",d,b);return f};b.checkPersistedCacheAndTriggerCallback=async function(a,b,e){var f=await d("MAWCacheServiceDB").getOrSetupMAWCacheDB();f=await f.runInTransaction([a],"readonly",function(c){return Promise.all(b.map(function(b){return c.stores[a].getByIndex("key",[i(b)])}))},"read_from_persisted_"+a);var g=[],j=[];f.forEach(function(a,c){if(a==null)g.push(b[c]);else{a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,h);j.push([b[c],a])}});g.length===0&&e!=null&&c("MAWCacheServiceQPL").addPointQPL(e,"all_in_persisted");j.length>0&&this.updateInMemoryCacheAndTriggerCallback(a,j,"persisted",e);return g};b.$3=function(a,b){var c,d=(c=this.$1.get(a))!=null?c:new Map();b.forEach(function(a){var b=a[0];a=a[1];d.set(b,a)});this.$1.set(a,d)};b.$4=function(a,b){a=this.$1.get(a);if(a==null)return null;else{return(a=a.get(b))!=null?a:null}};return a}();g.adjustCacheKey=i;g.MAWUICacheServicesBase=a}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);
__d("MAWXMALoggingUtils",["WAArmadilloXMA.pb","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";var h=c("objectEntries")(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function a(a){return a!=null?h.get(a):void 0}g.getXmaTargetTypeStringFromEnum=a}),98);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14,THIRD_PARTY_STICKER:15});f["default"]=a}),66);
__d("MpsOverBridge",["MAWBridgeSendAndReceive","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){this.loadMessage=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsLoadMessage",a)},this.loadMessages=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsLoadMessages",a)},this.batchLoadMessages=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsBatchLoadMessages",a)},this.batchLoadMessage=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsBatchLoadMessage",a)},this.debugDbDump=function(){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsDebugDbDump")},this.copMps={loadBatchMsgsIntoMaw:function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","copLoadBatchMsgsIntoMaw",a)},loadMoreMsgsIntoMaw:function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","copLoadMoreMsgsIntoMaw",a)},loadMsgIntoMaw:function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","copLoadMsgIntoMaw",a)},loadMsgsByMessageIdsIntoMaw:function(a){return(h||(h=b("Promise"))).reject("Not implemented")}}},j;function a(){j==null&&(j=new i());return j}g.mps=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("messenger_web").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("FBLogger")("maw_db").mustfix("Couldn't remove vals from localStorage",a)}}b=function(a){function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("WAGetPlatformFromStanzaId",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{var b=(1<<5)-1;b=BigInt(b<<17);var c=BigInt(0),e=BigInt(1<<17);b=BigInt(a)&b;if(b===c)return"web";return b===e?"mobile":"unknown"}catch(b){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id "," for platform: ",""])),a,b);return"error"}}g.getPlatformFromStanzaId=a}),98);
__d("WAIsOgg",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.length<4)return!1;return a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83?!1:!0}f.isOgg=a}),66);
__d("WAMediaQplHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a<0||a>1e3*1024*1024)return"invalid_size";else if(a===0)return"size equal to 0KB";else if(a<=1*1024)return"size lower than 1 KB";else if(a<=50*1024)return"size between 1 KB and 50 KB";else if(a<=100*1024)return"size between 50 KB and 100 KB";else if(a<=500*1024)return"size between 100 KB and 500 KB";else if(a<=1*1024*1024)return"size between 500 KB and 1 MB";else if(a<=2*1024*1024)return"size between 1 MB and 2 MB";else if(a<=5*1024*1024)return"size between 2 MB and 5 MB";else if(a<=10*1024*1024)return"size between 5 MB and 10 MB";else if(a<=20*1024*1024)return"size between 10 MB and 20 MB";else if(a<=25*1024*1024)return"size between 20 MB and 25 MB";else if(a<=30*1024*1024)return"size between 25 MB and 30 MB";else if(a<=50*1024*1024)return"size between 30 MB and 50 MB";else if(a<=75*1024*1024)return"size between 50 MB and 75 MB";else if(a<=100*1024*1024)return"size between 75 MB and 100 MB";else return"size above 100 MB"}f.convertIntegerSizeToStringBucket=a}),66);
__d("isMWBumpMessage",["EntMessageReplyType","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP))}g["default"]=a}),98);
__d("isNullish",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a===void 0||a===null}f["default"]=a}),66);
__d("shallowArrayEqual",["isNullish"],(function(a,b,c,d,e,f,g){function a(a,b){if(a===b)return!0;if(c("isNullish")(a)||c("isNullish")(b)||a.length!==b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d]!==b[d])return!1;return!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWBundleResource",["MAWMainWebWorkerV2Resource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MAWMainWebWorkerV2Resource")}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){"use strict";a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2,k=4;b=b*30*6;var l=3,m="AES-GCM",n="HKDF",o="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES=k;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=l;f.AES_GCM=m;f.HKDF=n;f.SHA256=o}),66);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";var g="v1",h="v1",i="v1",j="v1",k="v1",l="v1",m="v10",n="messenger_web_"+g,o="messenger_web_v3",p="messenger_web_encryption_"+h,q="messenger_web_signal_"+i,r="messenger_web_signal_v3",s="messenger_web_log_"+j,t="messenger_web_ebdb_"+l,u="messenger_web_eb_minos_db_dev_"+m,v="messenger_web_fts_"+k;function a(a){return n+"_"+a}function b(a){return v+"_"+a}function c(a){return o+"_"+a}function d(a){return p+"_"+a}function e(a){return q+"_"+a}function w(a){return r+"_"+a}function x(a){return"reverb_v1_"+a}function y(a){return"persisted_queue_"+a+"_v1"}function z(a){return s+"_"+a}function A(a){return t+"_"+a}function B(a){return u+"_"+a}function C(a){return"cache_service_"+a+"_v3"}function D(a){return"debug_info_v1_"+a}f.dbName=a;f.ftsDbName=b;f.restoreDbName2=c;f.encryptionDbName=d;f.jobsDbName=e;f.signalWorm=w;f.webReverDbbName=x;f.persistedQueueDbName=y;f.logDbName=z;f.ebdbName=A;f.ebMinosDbDevName=B;f.MAWcacheServiceDbName=C;f.MAWDebugInfoDBName=D}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["FBLogger","MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return 2}function b(a){switch(a){case 2:return[c("MessengerWebInitData").accountKeyV2];case 1:return[c("MessengerWebInitData").accountKey].concat((a=c("MessengerWebInitData").additionalAccountKeysV1)!=null?a:[]);default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeysString=b}),98);
__d("WABase64",["WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function a(a){return q(a,i,j,!0)}function b(a,b){b===void 0&&(b=!1);return q(a,l,m,b)}function q(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return r(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(r(a.subarray(f,f+n),b,c,d));return e.join("")}}function r(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function s(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""])),i,f,j);return null}}j=g.length/4;for(b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function e(a){a=s(a,i,j,k);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function f(a,b){b===void 0&&(b=!1);a=s(a,l,m,b?k:-1);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function t(a){a=a instanceof ArrayBuffer?new Uint8Array(a):s(a,i,j,k);return a&&Array.from(a)}function u(a){return Math.floor(a.length*3/4)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=a;g.encodeB64UrlSafe=b;g.decodeB64=e;g.decodeB64UrlSafe=f;g.decodeB64ToJsArray=t;g.sizeWhenB64Decoded=u}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","WABase64","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)}).catch(function(b){throw c("FBLogger")("messenger_web").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}async function b(a,b){var c;b=new Uint8Array(d("WABase64").decodeB64(b));var e=b.subarray(0,(c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),f=b.subarray(c.ADDITIONAL_DATA_LENGTH_IN_BYTES,c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);e=await d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:e,iv:f,name:c.AES_GCM,tagLength:c.AES_GCM_TAG_LENGTH},a,b);return e}function i(a){a=d("MAWWebInitDataHelpers").getAccountKeysString(a);return a.map(function(a){var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer})}function j(a){return Promise.all(i(a).map(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}))}function e(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}async function f(a){a=d("WABase64").decodeB64(a);try{a=await d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]);return a}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}}function k(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function l(a,b){var c;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(c=d("MAWCryptoConsts")).SHA256},info:c.HKDF_INFO,name:c.HKDF,salt:b},a,{length:c.AES_GCM_KEY_LENGTH,name:c.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function m(a){var b=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=new DataView(b).getUint8(0);if(b===0){var c,e=a.slice((c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES,c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2);return{aadLengthInBytes:c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2+c.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:new DataView(e).getUint8(0),originRandomisedVersion:new DataView(a).getUint32(c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2,!0)}}return{aadLengthInBytes:d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:b}}function n(a){return m(a)}var o=c("memoizeOneWithArgs")(function(a){return j(a)});async function p(a){a=d("WABase64").decodeB64(a);a=await d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a);return d("WABase64").encodeB64(a)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=b;g.getAccountKeysBuffers=i;g.genAccountKeys=j;g.genBrowserEncryptionKeyString=e;g.importBrowserEncryptionKey=f;g.genDatabaseEncryptionSeed=k;g.genDatabaseEncryptionKey=l;g.getKeyVersionFromCipherData=m;g.getKeyVersionFromCipherDataString=n;g.getAccountKeys=o;g.generateHashString=p}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){"use strict";e.exports=b("tweetnacl-1.0.3")()}),null);
__d("MAWKeychainNaClCrypto",["MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(b){var c;c=a.call(this,b)||this;c.name="EARError";c.message=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(c.length+e.length+b.length);a.set(c);a.set(e,c.length);a.set(b,c.length+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c!=null?c:d("MAWKeychainCrypto").ADDITIONAL_DATA))}function k(a,b,c,e,f){b.slice(0,f);var g=b.slice(f,f+d("tweetnacl").secretbox.nonceLength);b=b.slice(f+d("tweetnacl").secretbox.nonceLength);f=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(g),new Uint8Array(a));if(f==null)throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+(c!=null?c:"non-provided")+". Format version "+(e!=null?e:"unknown")+".");return f}function l(a,b,c,e){return k(a,d("WABase64").decodeB64(b),c,void 0,e)}function a(a,b,c){return j(a,b,c)}function b(a,b,c,d){return l(a,b,c,d)}function c(a,b,c,d,e){return k(a,b,c,d,e)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b;g.decryptArrayBuffer=c}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWSendQplToServer",["BrowserLockManager","ExecutionEnvironment","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e){c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{},{isDev:0,isFromUIThread:(h||(h=c("ExecutionEnvironment"))).isInMainThread,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,processAcksInOneQueue:c("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:d,timeoutInMs:e});return i(a,d)}function i(a,b){return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){e&&c("QPLUserFlow").addAnnotations(a,e,{instanceKey:b}),c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},endCancel:function(e){var f;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},e,{bool:babelHelpers["extends"]({},e==null?void 0:e.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},e==null?void 0:e.string,{threadID:e==null||(f=e.string)==null?void 0:f.jid})}),{instanceKey:b});c("QPLUserFlow").endCancel(a,{annotations:e,instanceKey:b})},endFail:function(e,f){var g;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},f,{bool:babelHelpers["extends"]({},f==null?void 0:f.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},f==null?void 0:f.string,{threadID:f==null||(g=f.string)==null?void 0:g.jid})}),{instanceKey:b});c("QPLUserFlow").endFailure(a,e,{annotations:f,instanceKey:b})},endSuccess:function(e){c("QPLUserFlow").addAnnotations(a,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:b}),c("QPLUserFlow").endSuccess(a,{annotations:e,instanceKey:b})},markError:function(d,e,f){return c("QPLUserFlow").markError(a,d,{debugInfo:e,error:f,instanceKey:b})}}}g.startQplUserFlow=a;g.makeMAWQPLProxyForExistingQPLUserFlow=i}),98);
__d("WAErrorMessage",[],(function(a,b,c,d,e,f){"use strict";var g="NoErrorMessageProvided";function a(a){if(typeof a==="string")return a;if(a instanceof Error)return a.toString();if(typeof a==="object")if(typeof (a==null?void 0:a.description)==="string")return a.description;else if(typeof (a==null?void 0:a.message)==="string")return a.message;return g}f.NO_ERROR_MESSAGE_PROVIDED=g;f.maybeGetMessageFromError=a}),66);
__d("MAWQplProxy",["Deferred","ExecutionEnvironment","FBLogger","MAWBridge","MAWSendQplToServer","QPLEvent","WAErrorMessage","getErrorSafe","gkx","justknobx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(h=c("gkx")("23949"))!=null?h:!1,o=new Set([25313175,25310776,1056839232,1056836502,1056836703,1056847537,521478596,521479468,521476165,521480391,521472095]),p=0,q=(l||(l=c("performanceAbsoluteNow")))()-Date.now();function r(){return Date.now()}var s=new(c("Deferred"))();h=function(){s.resolve()};function t(a,b,e,f,g){f===void 0&&(f=!1),c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"point"},annotations:e==null?void 0:e.annotations,event:a,instanceKey:e==null?void 0:e.instanceKey,performanceAndDateSkew:q,timestamp:f?r():void 0},!0,void 0,g)})}function a(a,b,c,d,e){u(a,{bool:(a={},a[b]=c,a)},d,e)}function b(a,b,c,d,e){u(a,{string:(a={},a[b]=c,a)},d,e)}function e(a,b,c,d,e){u(a,{int:(a={},a[b]=c,a)},d,e)}function f(a,b,c,d){u(a,{double:b},c,d)}function u(a,b,e,f){c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:b,event:a,instanceKey:e},!0,void 0,f)})}function v(a,b,e,f,g,h){g===void 0&&(g=!1);var i=r();c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"failure"},annotations:e,event:a,instanceKey:f,timestamp:g?i:void 0},!0,void 0,h)})}function w(a,b,e,f,g){f===void 0&&(f=!1);var h=r();c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:b,event:a,instanceKey:e,timestamp:f?h:void 0},!0,void 0,g)})}function x(a,b,e,f,g,h){g===void 0&&(g=!1);var i=r();c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{cancelReason:b,type:"cancel"},annotations:e,event:a,instanceKey:f,timestamp:g?i:void 0},!0,void 0,h)})}function y(a,b,e,f){c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"error"},debugInfo:e==null?void 0:e.debugInfo,error:e==null?void 0:e.error,event:a,instanceKey:e==null?void 0:e.instanceKey},!0,void 0,f)})}async function z(a,b,e,f,g){t(a,b+"_start",{annotations:f,instanceKey:g});try{f=await e();t(a,b+"_end",{instanceKey:g});return f}catch(e){c("FBLogger")("messenger_web").catching(c("getErrorSafe")(e)).MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Caught exception for "," during measurePerf"])),b);t(a,b+"_fail",{annotations:{string:{caughtError:d("WAErrorMessage").maybeGetMessageFromError(e)}},instanceKey:g});throw e}}async function A(a,b,e){a.addPoint(b+"_start");try{e=await e;a.addPoint(b+"_end");return e}catch(e){c("FBLogger")("messenger_web").catching(c("getErrorSafe")(e)).MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Caught exception for "," during measurePerf"])),b);a.addPoint(b+"_fail",{string:{caughtError:d("WAErrorMessage").maybeGetMessageFromError(e)}});throw e}}var B=c("justknobx")._("2596");function C(a,b,e){e===void 0&&(e={});e=e;var f=e.callBridgeWithTimestamp,g=f===void 0?!1:f;f=e.providedInstanceKey;var h=e.providedTimeoutInMs;e=e.sendThroughBridge;e=e===void 0?!1:e;f==null&&p++;var i=f!=null?f:p,j=h!=null?h:B;f=!(m||(m=c("ExecutionEnvironment"))).isInWorker;h=e||E(a);if(f||!h)return d("MAWSendQplToServer").startQplUserFlow(a,b,i,j);var k=e?{toLastActiveClient:!0}:void 0;c("promiseDone")(s.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:babelHelpers.extends({},b||{},{bool:babelHelpers.extends({},(b==null?void 0:b.bool)||{})}),event:a,instanceKey:i,timeoutInMs:j,timestamp:g?r():void 0},!0,void 0,k)});return{addAnnotations:function(b){return u(a,b,i,k)},addPoint:function(b,c){return t(a,b,{annotations:c,instanceKey:i},void 0,k)},endCancel:function(b){return x(a,void 0,b,i,void 0,k)},endFail:function(b,c){return v(a,b,c,i,void 0,k)},endSuccess:function(b){return w(a,b,i,void 0,k)},markError:function(b,c,d){return y(a,b,{debugInfo:c,error:d,instanceKey:i},k)}}}function D(a,b){return!(m||(m=c("ExecutionEnvironment"))).isInWorker||!E(a)?d("MAWSendQplToServer").makeMAWQPLProxyForExistingQPLUserFlow(a,b):{addAnnotations:function(c){return u(a,c,b)},addPoint:function(c,d){return t(a,c,{annotations:d,instanceKey:b})},endCancel:function(c){return x(a,void 0,c,b)},endFail:function(c,d){return v(a,c,d,b)},endSuccess:function(c){return w(a,c,b)},markError:function(c,d,e){return y(a,c,{debugInfo:d,error:e,instanceKey:b})}}}function E(a){return n||o.has((k||(k=d("QPLEvent"))).getMarkerId(a))}function F(a,b){return new H(a,b)}var G=0,H=function(){function a(a,b){this.$4=!1;this.$1=a;this.$2=(a=b==null?void 0:b.instanceKey)!=null?a:G++;this.$3=b==null?void 0:b.timeoutInMs;this.$4=!0}var b=a.prototype;b.start=function(a){c("FBLogger")("messenger_web").warn("start() should not be called for cross-bridge QPL flow")};b.addPoint=function(a,b){t(this.$1,a,{annotations:b,instanceKey:this.$2})};b.addAnnotations=function(a){u(this.$1,a,this.$2)};b.endSuccess=function(a){w(this.$1,a,this.$2),this.$4=!1};b.endFail=function(a,b){v(this.$1,a,b,this.$2),this.$4=!1};b.endCancel=function(a,b){x(this.$1,a,b,this.$2),this.$4=!1};b.isActive=function(){return this.$4};b.getQPLAttrs=function(){return{event:this.$1,instanceKey:this.$2}};return a}();g.performanceAbsoluteNow=r;g.workerBridgeDeferred=s;g.resolveWorkerBridge=h;g.sendQplPointThroughBridge=t;g.sendQPLBoolAnnotationThroughBridge=a;g.sendQPLStringAnnotationThroughBridge=b;g.sendQPLIntAnnotationThroughBridge=e;g.sendQPLDoubleAnnotationsThroughBridge=f;g.sendQPLAnnotationsThroughBridge=u;g.sendQPLFailThroughBridge=v;g.sendQPLSuccessThroughBridge=w;g.sendQPLCancelThroughBridge=x;g.sendQPLErrorThroughBridge=y;g.measurePerfInQPL_USE_WITH_CARE=z;g.measurePerfInQPL=A;g.DEFAULT_WORKER_QPL_TIMEOUT_MS=B;g.startQplUserFlow=C;g.makeQplUserFlowFromExistedInstance=D;g.continueQplAsCrossBridgeQplFlow=F}),98);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r!";b="rw!";f.READONLY=a;f.READWRITE=b}),66);
__d("MAWLogIndexedDb",["FBLogger","MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("FBLogger")("messenger_web").mustfixThrow("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(c=a!=null?a:k())!=null?c:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null||j.endSuccess();return a})["catch"](function(a){j==null||j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);var b=c("FBLogger")("maw_db");if(a instanceof Error)throw b.catching(a).mustfixThrow("LOG - Error performing transaction in log transactor");throw b.mustfixThrow("LOG - Error performing transaction in log transactor")})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=c("justknobx")._("1403");e=c("justknobx")._("1404");var i=c("justknobx")._("1401");function j(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function k(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function l(a){switch(a){case"logRestricted":return"warn";case"count":return"log";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:k(a.tags,"[]"),level:l(a.logLevel)}}function b(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:k(b,"[]"),level:"error"}}var m=[],n=[],o=5,p=0,q=!1,r=function(){m.length=0},s=function(a){a=w(a);n.length<o?n.push(a):n[p%o]=a;p=(p+1)%o},t=function(a){var b=[],c=0;while(c<a){var d=((p-c-1)%o+o)%o;d=n[d];b.push(d);c++}return Promise.resolve(b)};f=function(a,b){m.push({context:a,logEntry:b}),s({context:a,logEntry:b}),m.length>h?c("promiseDone")(u()):v()};var u=async function(){q=!0;try{var a=[].concat(m);r();await x(a)}catch(a){}q=!1},v=c("throttle")(async function(){if(q)return;q=!0;try{var a=[].concat(m);r();await x(a)}catch(a){}q=!1},e),w=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=j(b);return a},babelHelpers.extends({},a,{category:b+"-"+c("pageID")}))},x=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(w(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()}),y=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-i));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});e=function(){return y().catch(function(a){return[]})};var z=function(a){a=a<=n.length?t(a):A(a);return a.catch(function(a){return[]})},A=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a.continue()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=k;g.formatLog=a;g.formatErrorForLogging=b;g.clearLogEntryCache=r;g.saveLogEntry=f;g.forceCachedLogEntryPersist=u;g.getEntriesFromDb=e;g.getLastNEntries=z}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("WAAssertUnreachable",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","err"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="call",m="@g.us",n=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,ba="@call",o="@msgr",ca="msgr",p="@interop",da="interop",q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,s=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,t=/^([1-9][0-9]{0,19})@msgr$/,u=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",v="@s.whatsapp.net",w="s.whatsapp.net",x="lid",y="@newsletter",z=/^([1-9][0-9]{0,19})@newsletter$/,A=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,B=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,C="@lid",ga="lid",D=/^([1-9][0-9]{0,14})@lid$/,E=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ha="@broadcast",F=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,G=/^([0-9a-fA-F]{18,32})@call$/,H="@hosted",I="hosted",J=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,K="@hosted.lid",ia="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,M="@bot",ja=/^[1-9][0-9]{0,19}(:0)?@bot$/,ka="16505361212"+v,la=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+v}function b(a){return""+a+C}function N(a){return""+a+o}function d(a){return a.endsWith(m)?a:""+a+m}function e(a){return a.endsWith(y)?a:""+a+y}function f(a){return a.endsWith(H)?a:""+a+H}function ma(a){return a.endsWith(K)?a:""+a+K}function na(){return m}function O(a){if(a.endsWith(v))return a.slice(0,-v.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(p))return a.slice(0,-p.length);else if(a.endsWith(C))return a.slice(0,-C.length);else if(a.endsWith(M))return a.slice(0,-M.length);else throw c("err")('userIdFromJid called with non-user jid "'+a+'"')}function oa(a,b){return Y(O(a)+":"+b+v)}function pa(a,b){return Z(O(a)+":"+b+o)}function qa(a,b){return Ab(P(a)+":"+b+C)}function ra(a,b){return X(O(a)+":"+b+W(a))}function sa(a){return""+a+ha}function ta(a){return a.split("@")[0]}function ua(a){return a.split("@")[0]}function va(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function wa(a){a=va(a);return a.deviceID}function xa(a,b){if(a===i||a===j)return b;else return ta(a)}function ya(a){return a===i||a===j?null:a}function za(a){if(a===i||a===j)return null;return!a.endsWith(v)?null:a}function Aa(a){if(!a.endsWith(v))throw c("err")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-v.length)}function Ba(a){if(a.endsWith(v))return Aa(a);else if(a.endsWith(C))return P(a);throw c("err")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function Ca(a){return a.endsWith(v)||a.endsWith(p)||a.endsWith(o)||a.endsWith(C)?a:null}function Da(a){return a.endsWith(v)?a:null}function Ea(a){return a===k?null:$(a)}function Fa(a){return a===k?null:$(a)}function Ga(a){return a===k?k:null}function P(a){if(!a.endsWith(C))throw c("err")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-C.length)}function Q(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===I&&(a=w);a===ia&&(a=x);return Bb(b+"@"+a)}function Ha(a){return Q(a)}function Ia(a){return Q(a)}function Ja(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else if(a.jidType==="bot")return a.botJid;else{a.jidType;return a.broadcastJid}}function Ka(a){return Y(O(a)+":"+h+v)}function La(a){return Z(O(a)+":"+h+o)}function Ma(a){return qa(a,h)}function Na(a){return wa(a)===h}function Oa(a){return Gb(a)}function Pa(a){return a}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Qa(a){a=R(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ra(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;case"bot":return a.botJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Sa(a){if(a===l)return{jidType:"call",callJid:l};if(a===k)return{jidType:"status",statusJid:k};else if(B.test(a))return{jidType:"phoneUser",userJid:Db(a)};else if(r.test(a))return{jidType:"interopUser",userJid:Eb(a)};else if(t.test(a))return{jidType:"msgrUser",userJid:Fb(a)};else if(u.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:N(b)}}else if(A.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(q.test(a))return{jidType:"interopDevice",deviceJid:zb(a)};else if(s.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(n.test(a))return{jidType:"group",groupJid:a.endsWith(m)?a:""+a+m};else if(F.test(a))return{jidType:"broadcast",broadcastJid:a};else if(G.test(a))return{jidType:"call",callJid:a};else if(D.test(a))return{jidType:"lidUser",userJid:a};else if(E.test(a))return{jidType:"lidDevice",deviceJid:a};else if(z.test(a))return{jidType:"newsletter",newsletterJid:a};else if(J.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else if(ja.test(a))return{jidType:"bot",botJid:a};else return{jidType:"unknown"}}function Ta(a){return a==="status@broadcast"?a:null}function Ua(a){if(B.test(a)||r.test(a)||t.test(a)||D.test(a))return a;else if(u.test(a)){a=a.substr(0,a.indexOf(":"));return N(a)}else return null}function Va(a){if(D.test(a))return a;else return null}function Wa(a){return F.test(a)?a:null}function Xa(a){if(A.test(a)||s.test(a)||q.test(a)||E.test(a)||J.test(a)||L.test(a))return a;if(B.test(a))return vb(a);return ja.test(a)?wb(a):null}function Ya(a){return q.test(a)?a:null}function S(a){return n.test(a)?a:null}function Za(a){return Ta(a)||S(a)||Wa(a)?a:null}function $a(a){return G.test(a)?a:null}function ab(a){return a==="s.whatsapp.net"||a==="g.us"||a==="call"?a:null}function bb(a){return Ua(a)||S(a)}function cb(a){return z.test(a)?a:null}function db(a){return J.test(a)?a:null}function eb(a){return L.test(a)?a:null}function fb(a){return Ca(a)==null?$(a):null}function gb(a){a=R(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function hb(a){if(a.endsWith(m))return a.slice(0,-m.length);else throw c("err")('groupId called with non-group jid "'+a+'"')}function ib(a){var b=Sa(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ra(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function jb(a){return!a.includes("@")?a:a.replace(la,ib)}function T(a){if(a.endsWith(m))return $(a);else return null}function U(a,b){if(a.endsWith(v))return b.phoneUser(a);else if(a.endsWith(o))return b.msgrUser(a);else if(a.endsWith(p))return b.interopUser(a);else if(a.endsWith(C))return b.lidUser(a);else if(T(a)!=null)return b.group($(a));throw c("err")("Can not switch on chat jid "+a)}function kb(a,b){if(a.endsWith(o))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("err")("Can not switch on chat jid "+a)}function V(a,b){if(a.endsWith(v))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("err")("Can not switch on chat jid "+a)}function lb(a,b){return U(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function mb(a,b){return a===k?b.status():V(a,{user:b.user,group:b.group})}function nb(a,b){return a===k?b.status():U(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function ob(a,b){return a===k?b.multicast(k):V(a,{user:b.user,group:b.multicast})}function pb(a){return a.endsWith(C)}function qb(a){return a==="@me"}function rb(a){return a==="@system"}function sb(){return o}function tb(){return v}function ub(){return ea}function W(a){if(a.endsWith(v))return v;else if(a.endsWith(o))return o;else if(a.endsWith(C))return C;else if(a.endsWith(M))return M;else throw c("err")('userDomainFromJid called with non-user jid "'+a+'"')}function vb(a){return X(O(a)+":"+h+W(a))}function wb(a){return X(""+O(a)+W(a))}function xb(a){a=a.platform;var b=a==="msgr"?o:v;function c(a){return""+a+b}function d(){return b}return{toUserJid:c,getUserDomain:d}}function yb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function zb(a){return a}function Ab(a){return a}function Bb(a){return a}function Cb(a){return a}function Db(a){return a}function Eb(a){return a}function Fb(a){return a}function $(a){return a}function Gb(a){return a}function Hb(a){return a}function Ib(a){return a}function Jb(a){return a}function Kb(a){return U(a,{group:function(a){return hb(a)},lidUser:function(a){return O(a)},interopUser:function(a){return O(a)},phoneUser:function(a){return O(a)},msgrUser:function(a){return O(a)}})}function Lb(){return ba}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.CALL_LINK_JID=l;g.MSGR_USER_DOMAIN=o;g.MSGR_USER_JID_SUFFIX=ca;g.INTEROP_DOMAIN=p;g.INTEROP_USER_JID_SUFFIX=da;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=v;g.WA_USER_JID_SUFFIX=w;g.WA_LID_SUFFIX=x;g.WA_NEWSLETTER_JID_DOMAIN=y;g.LID_DOMAIN=C;g.LID_SUFFIX=ga;g.HOSTED_DOMAIN=H;g.HOSTED_SUFFIX=I;g.HOSTED_LID_DOMAIN=K;g.HOSTED_LID_SUFFIX=ia;g.BOT_DOMAIN=M;g.SURVEY_USER_JID=ka;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=N;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=ma;g.getGroupDomain=na;g.userIdFromJid=O;g.toPhoneDeviceJid=oa;g.toMsgrDeviceJid=pa;g.toLidDeviceJid=qa;g.toDeviceJid=ra;g.toBroadcastJid=sa;g.extractUserId=ta;g.extractChatId__DANGEROUS=ua;g.extractDeviceIDParts=va;g.extractDeviceId=wa;g.authorToUserId=xa;g.authorAsUserJid=ya;g.authorAsPhoneUserJid=za;g.phoneNumberFromJid=Aa;g.lidOrPhoneFromUserJid=Ba;g.interpretAsUserJid=Ca;g.interpretAsPhoneUserJid=Da;g.asChatJid=Ea;g.asPhoneChatJid=Fa;g.asStatusJid=Ga;g.lidFromLidUserJid=P;g.extractUserJid=Q;g.extractPhoneUserJid=Ha;g.extractLidUserJid=Ia;g.extractJidFromJidWithType=Ja;g.defaultPhoneDeviceJidForUser=Ka;g.defaultMsgrDeviceJidForUser=La;g.defaultLidDeviceJidForLidUserJid=Ma;g.isPrimaryDevice=Na;g.interpretAsDeviceId=Oa;g.interpretAsNumber=Pa;g.parseJidParts=R;g.fullFormDeviceJidString=Qa;g.extractFromJid=Ra;g.interpretAndValidateJid=Sa;g.validateStatusJid=Ta;g.validateUserJid=Ua;g.validateLidUserJid=Va;g.validateBroadcastJid=Wa;g.validateDeviceJid=Xa;g.validateInteropDeviceJid=Ya;g.validateGroupJid=S;g.validateMulticastJid=Za;g.validateCallJid=$a;g.validateDomainJid=ab;g.validateChatJid=bb;g.validateNewsletterJid=cb;g.validateHostedDeviceJid=db;g.validateHostedLidDeviceJid=eb;g.asMulticastJid=fb;g.stripAgentIdFromPhoneDeviceJid=gb;g.groupIdFromJid=hb;g.sanitizeJidForLogging=ib;g.maybeSanitizeLogLineText=jb;g.interpretAsGroupJid=T;g.switchOnChatJidType=U;g.switchOnMsgrChatJidType=kb;g.switchOnPhoneChatJidType=V;g.switchOnUserChatJidType=lb;g.switchOnPhoneJidType=mb;g.switchOnJidType=nb;g.switchOnMulticastJidType=ob;g.isLidUser=pb;g.isAuthorMe=qb;g.isAuthorSystem=rb;g.getMsgrUserDomain=sb;g.getWhatsappUserDomain=tb;g.getServerDomain=ub;g.defaultDeviceJidForUser=vb;g.defaultDeviceJidForBot=wb;g.createJidUtils=xb;g.unsafeCoerceToChatJid=yb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=zb;g.unsafeCoerceToLidDeviceJid=Ab;g.unsafeCoerceToUserJid=Bb;g.unsafeCoerceToLidUserJid=Cb;g.unsafeCoerceToPhoneUserJid=Db;g.unsafeCoerceToInteropUserJid=Eb;g.unsafeCoerceToMsgrUserJid=Fb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=Gb;g.unsafeCoerceToNewsletterJid=Hb;g.unsafeCoerceToHostedDeviceJid=Ib;g.unsafeCoerceToHostedLidDeviceJid=Jb;g.threadIdForChatJid=Kb;g.getGroupCallDomain=Lb}),98);
__d("MAWLoggerUtils",["ErrorBrowserConsole","ErrorPubSub","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Random","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function j(a,b){var d=k.has(a==null?void 0:a.project);if(d){var e;l(a.type==="error"||a.type==="fatal"?"error":a.type==="warn"?"warn":"log",a.message,(e=a.tags)!=null?e:[],(e=(e=a.metadata)==null?void 0:e.includes("MESSENGER_E2EE_WEB:ENVIRONMENT:worker"))!=null?e:!1)}if(!b&&d&&(a.type==="debug"||a.type==="info"))return;c("ErrorBrowserConsole").errorListener(a)}var k=new Set(["messenger_web","wmi_eb","labyrinth_web","messenger_web_media","messenger_web_calling","mps","wmi","MAWCacheService","MAWUIPersistedDataServices","fts_worker"]);f={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}function b(a){a=a.split("");return a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0)}function e(){if(i)return;i=!0;var a=c("gkx")("2656");(h||(h=c("ErrorPubSub"))).removeListener(c("ErrorBrowserConsole").errorListener);h.addListener(function(b){return j(b,a)})}function l(a,b,e,f){if(d("ServerJsRuntimeEnvironment").isRunningServerJsRuntime())return;b=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(b));var g=Date.now();c("gkx")("3282")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:m(b,e)},!0);if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;b=b.replace(/\n/g," ");if(a==="debug"||typeof b!=="string")return;d("MAWSaveLogToDisk").saveLogEntry(f?"worker":"browser",{args:b,date:g,event:d("MAWSaveLogToDisk").joinTags(e,"[unknown]"),level:a})}function m(a,b){return b.length>0?d("MAWSaveLogToDisk").joinTags(b)+" "+a:a}g.Tag=f;g.getInstanceKey=a;g.getInstanceKeyFromId=b;g.initMessengerWebLogging=e;g.logToHistory=l}),98);
__d("MAWODSProxy",["CurrentMessengerUser","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.amount,c=a.entity;a=a.key;(h||(h=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),b)}g.odsBumpEntityKey=a}),98);
__d("MAWUnrecoverableDbErrors",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="indexed_db_access_error",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(g);var h=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ear_init_error",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(g),i=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ear_runtime_error",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(g),j=function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.name="ebsm_hydration_error";b.fullDeletion=c;b.qplInstanceKey=d;b.tableName=e;return b}babelHelpers.inheritsLoose(b,a);return b}(g),k=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="wa_exceeded_storage_quota_error",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(g);function a(a){return a==null?!1:a instanceof g||l(a.name)}function l(a){return a==="indexed_db_access_error"||a==="ear_init_error"||a==="ear_runtime_error"||a==="ebsm_hydration_error"||a==="wa_exceeded_storage_quota_error"}var m=null,n=new Set();function b(){return m}function c(a,b){m=a,b==null||b(),n.forEach(function(b){return b(a)})}function d(a){n.add(a);return function(){return n["delete"](a)}}f.UnrecoverableDbError=g;f.IndexedDbAccessError=e;f.EarInitError=h;f.EarRuntimeError=i;f.EbsmHydrationError=j;f.WAExceededStorageQuotaError=k;f.isUnrecoverableDbError=a;f.isUnrecoverableDbErrorByName=l;f.getError=b;f.setError=c;f.subscribe=d}),66);
__d("WAArrayBufferUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("err")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null;function k(a){i=a}function l(){return h}function m(a){h=a}function a(){h=null,i=null}function n(){return p()!=null&&l()!=null}function b(){return j}function o(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function p(){return i}function q(){if(!n())throw c("FBLogger")("messenger_web").mustfixThrow("Vault materials are null");return{encryptionKey:h,prefixAndSuffix:i}}function e(a,b){var d=n();c("FBLogger")("messenger_web").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),d);d||(s(a!=null?a:r()),j=b!=null?b:a!=null?"existing":"newly-generated");return q()}function r(){return{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:o()}}function s(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot set null values for encryption key and prefix");m(b);k(a)}function f(){return t(q())}function t(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function u(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("messenger_web").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=n;g.getVaultMaterialsSource=b;g.getVaultPrefixAndSuffix=p;g.getVaultMaterials=q;g.initializeVaultMaterials=e;g.generateNewVaultMaterials=r;g.materialsToString=f;g.fromMaterialsToString=t;g.fromStringToMaterials=u}),98);
__d("MAWVaultMaterialsStorageStatus",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){return g}function b(){g=!0}f.isCurrentContextHoldingLock=a;f.setIsCurrentContextHoldingLock=b}),66);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WA_CONNECTIVITY:"wa_connectivity",GET_DEVICES:"armadillo_get_devices",DECRYPTION:"armadillo_msg_decryption",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",STREAM_ERROR:"wajs_stream_error",ICDC:"wajs_icdc",LOAD_MORE_NO_ORIGINAL_MSG_IN_MAW:"load_more_no_original_msg_in_maw",POISON_QUEUE_ENTTITY:"armadillo_poison_queue_entity",PQ_MIGRATION:"wajs_pq_migration",WORM:"wajs_worm",CAT_ROTATION:"cat_rotation",EB_RESTORE:"eb_restore",EB_UPLOAD:"eb_upload",WA_REREGISTRATION:"wa_reregistration",EB_SWITCH_STATE:"eb_switch_state",EB_MESSAGE_PROBE:"eb_message_probe",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",GROUP_REVOKE_PARTICIPANT_INVITE:"armadillo_group_revoke_participant_invite",GROUP_SKS_INVALID:"armadillo_group_sks_invalid",GROUP_SET_MEMBER_ADD_MODE:"armadillo_group_set_member_add_mode",OPEN_GROUP_ADD_PARTICIPANT:"open_group_add_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group",MAW_MISMATCH_PARTICIPANT:"maw_mismatch_participant",MAW_ONE_TO_ONE_THREAD_PARTICIPANT_CLEANUP:"maw_one_to_one_thread_participant_cleanup",MAW_THREADID_DEPRECATION:"maw_threadid_deprecation",MAW_THREADID_DEPRECATION_DETAILS:"maw_threadid_deprecation_details",MAW_DELETE_DANGLING_PARTICIPANTS:"maw_delete_dangling_participants",S2S_QPL_MISSING_INSTANCE_KEY:"s2s_qpl_missing_instance_key",MAW_DEPRECATED_REDIRECT:"maw_deprecated_redirect",MAW_MUTATION_VALIDATOR:"maw_mutation_validator",MAW_THREAD_UPDATE_MIDDLEWARE:"maw_thread_update_middleware",MAW_THREADLIST_ITEM_UPDATE:"maw_threadlist_item_update",MAW_THREAD_BUMPED_V2:"maw_thread_bumped_v2",MAW_MY_USER_JID_GETTER:"maw_my_user_jid_getter",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WA_LONG_SESSION_DROP:"wa_long_session_drop",MAW_PROTOCOL_MSG_ID_INDEX:"maw_protocol_msg_id_index",MAW_DUPLICATE_MSGS:"maw_duplicate_msgs",MAW_LS_SYNC_IMPROVEMENTS:"maw_ls_sync_improvements",MAW_DELETE_DB_ON_LOGOUT:"maw_delete_db_on_logout",MAW_VAULTING:"maw_vaulting",MAW_SEND_REACTION:"maw_send_reaction",MAW_OLD_MESSAGE_SEND:"maw_old_message_send",MAW_MIGRATE_REACTION_TS_AS_INDEX:"maw_migrate_reaction_ts_as_index",MAW_TC_MS5_OPEN_SNIPPET:"maw_tc_ms5_open_snippet",MAW_S2S_INSTANCE_KEY_NULL:"maw_s2s_instance_key_null",MAW_XMA_PROTOCOL_PARSING:"maw_xma_protocol_parsing",IGDW_INSTAMADILLO_MESSAGE_ON_OLD_WORKER:"igdw_new_msg_old_worker",WORKER_SCHEDULER_STUCK:"worker_scheduler_stuck",MAW_DB_UNEXPECTED_VERSION:"maw_db_unexpected_version",MAW_DB_MIGRATION_CURRENT_VERSION:"maw_db_migration_current_version",MAW_MEDIA_DB_DUPLICATE_MEDIA:"maw_media_db_duplicate_media",MAW_MEDIA_DB_DUPLICATE_CHUNK:"maw_media_db_duplicate_chunk",MAW_MEDIA_MISMATCH_HASHED_PLAINTEXT_HASH:"maw_media_mismatch_hashed_plaintext_hash",MAW_EB_DECODE_MESSAGE_PROTOBUF_SUPPLEMENTAL:"maw_eb_decode_message_protobuf_supplemental",MAW_THREAD_GET_NEWEST_REACTION_BATCH_NUM:"maw_thread_get_newest_reaction_batch_num",MAW_THREAD_MAPPING:"maw_thread_mapping",WA_PROTOCOL_QUEUE_NOTIFICATION:"wa_protocol_queue_notification",MPS_THREAD_SNIPPET_CONSISTENCY:"mps_thread_snippet_consistency",MAW_XMA_WITH_ASSOCIATED_MSG:"maw_xma_with_associated_msg"});f.Entity=a}),66);
__d("MAWVault",["ExecutionEnvironment","FBLogger","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWODSProxy","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","WAOdsEnums","err","gkx","hasMultipleTabs","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function k(a){return new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a)}var l=c("gkx")("23909");function m(a){if(!l)return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function n(a,b){b===void 0&&(b=!1);if(!l)return a;if(m(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null){o("unvault","prefix_null");throw c("FBLogger")("messenger_web").mustfixThrow("Vault prefix and suffix should not be null when unvaulting")}var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2){o("unvault","value_null");throw c("FBLogger")("messenger_web").mustfixThrow("Could not retrieve inner value to unvault")}if(f==null){o("unvault","key_null");throw c("FBLogger")("messenger_web").mustfixThrow("Vault encryption key was null before unvault")}g=g[1];e=""+e+g+e;var i=q(f,g);return a.replace(e,function(){return i})}if(k(a)){o("unvault","incorrect_key");if(b)throw c("FBLogger")("messenger_web").mustfixThrow("Encountered vaulted value with incorrect key.");else{var j=c("err")("Encountered vaulted value with incorrect key");c("promiseDone")(d("hasMultipleTabs").hasMultipleTabs().then(function(a){c("FBLogger")("messenger_web").catching(j).mustfix("Encountered vaulted value with incorrect key. Vault material source: %s, environment: %s, hasMultipleTabs: %s, isSharedWorker: %s, isCurrentContextHoldingLock: %s",d("MAWVaultMaterials").getVaultMaterialsSource(),(h||(h=c("ExecutionEnvironment"))).isInMainThread?"main":"worker",a==null?"unknown_multi_tab":a?"multi_tab":"single_tab",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?"shared_worker":"dedicated_worker",d("MAWVaultMaterialsStorageStatus").isCurrentContextHoldingLock()?"holding_lock":"not_holding_lock")}))}}return a}function o(a,b){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_VAULTING,key:"failure."+a+"."+b})}function a(a){if(a==="")return a;if(!l)return a;if(!(h||(h=c("ExecutionEnvironment"))).isInBrowser)return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){o("vault","has_not_been_setup");c("FBLogger")("messenger_web").mustfix("Attempted to vault value while materials were not setup");return a}if(m(a)){o("vault","already_vaulted");c("FBLogger")("messenger_web").warn("Attempted to vault value that's already been vaulted");return a}k(a)&&(o("vault","already_vaulted_with_different_key"),c("FBLogger")("messenger_web").mustfix("Attempted to vault value that's already been vaulted with a different key"));var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null){o("vault","prefix_or_key_null");throw c("FBLogger")("messenger_web").mustfixThrow("Cannot vault before vault materials are set")}e=p(e,a);return""+b+e+b}function b(a){if(!l)return a;if(!m(a))throw c("FBLogger")("messenger_web").mustfixThrow("Value should be vaulted");return n(a)}function p(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));i==null||i.set(b,a);j==null||j.set(a,b);return a}function q(a,b){var c=j==null?void 0:j.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b,void 0,d("MAWKeychainCrypto").ADDITIONAL_DATA.byteLength));i==null||i.set(c,b);j==null||j.set(b,c);return c}g.isVaulted=m;g.unvault=n;g.vault=a;g.unvaultOrThrow=b}),98);
__d("isObject",[],(function(a,b,c,d,e,f){function a(a){var b=typeof a;return b==="function"||b==="object"&&!!a}f["default"]=a}),66);
__d("isPlainObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.prototype.toString.call(a)==="[object Object]"}f["default"]=a}),66);
__d("MAWVaultDb",["FBLogger","MAWQplProxy","MAWVault","gkx","isObject","isPlainObject","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=1/1e3,i=new WeakMap();function j(a,b){return b[a]!=null}var k=c("gkx")("23909");function a(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=i.get(a);if(f!=null)return f;f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119")):null;try{e=e[b];e=l(a,e,d("MAWVault").vault);f==null||f.endSuccess();i.set(a,e);return e}catch(a){f==null||f.endFail("vault_fail");throw c("FBLogger")("messenger_web").mustfixThrow(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(741087294,"2028")):null;try{a=l(a,e[b],d("MAWVault").unvault);f==null||f.endSuccess();return a}catch(a){f==null||f.endFail("unvault_fail");throw c("FBLogger")("messenger_web").mustfixThrow(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function l(a,b,d){if(a==null)return a;b=Object.entries(b).filter(function(b){b=b[0];return a[b]!=null});return b.length===0?a:b.reduce(function(a,b){var e=b[0];b=b[1];typeof b!=="boolean"&&c("isObject")(b)?a[e]=l(a[e],b,d):b===!0&&(a[e]=d(a[e]));return a},babelHelpers["extends"]({},a))}g.vaultDbRow=a;g.unvaultDbRow=b;g.setInPath=l}),98);
__d("MAWVaultDefinitions",[],(function(a,b,c,d,e,f){"use strict";a={editMsgHistory:{msgContent:{content:!0}},messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}},unrenderedMessages:{msgContent:!0}};b={edit_message_history:{messageContent:!0},messages:{replyMessageText:!0,text:!0},threads:{snippet:!0}};f.ARMADILLO_IDB_VAULT_DEFINITIONS=a;f.PERSISTED_DB_VAULT_DEFINITIONS=b}),66);
__d("mergeHelpers",["invariant","FbtResultBase"],(function(a,b,c,d,e,f,g,h){"use strict";var i=36,j=function(a){return typeof a!=="object"||a instanceof Date||a===null||a instanceof c("FbtResultBase")},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function(a){return a==null?{}:a},checkMergeArrayArgs:function(a,b){Array.isArray(a)&&Array.isArray(b)||h(0,3714,a,b)},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){!j(a)&&!Array.isArray(a)||h(0,3715,a)},checkMergeIntoObjectArg:function(a){(!j(a)||typeof a==="function")&&!Array.isArray(a)||h(0,3716,a)},checkMergeLevel:function(a){a<i||h(0,3717)},checkArrayStrategy:function(a){a==null||a in k.ArrayStrategies||h(0,3718)},ArrayStrategies:{Clobber:"Clobber",Concat:"Concat",IndexByIndex:"IndexByIndex"}};a=k;g["default"]=a}),98);
__d("mergeDeepInto",["invariant","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("mergeHelpers")).ArrayStrategies,i=c.checkArrayStrategy,j=c.checkMergeArrayArgs,k=c.checkMergeLevel,l=c.checkMergeObjectArgs,m=c.isTerminal,n=c.normalizeMergeArg,o=function(a,b,c,d){l(a,b);k(d);var e=b?Object.keys(b):[];for(var f=0;f<e.length;f++){var g=e[f];q(a,b,g,c,d)}},p=function(a,b,c,d){j(a,b);k(d);if(c===h.Concat)a.push.apply(a,b);else{var e=Math.max(a.length,b.length);for(var f=0;f<e;f++)q(a,b,f,c,d)}},q=function(a,b,c,d,e){var f=b[c];b=Object.prototype.hasOwnProperty.call(b,c);var i=b&&m(f),j=b&&Array.isArray(f),k=b&&!j&&!j,l=a[c],n=Object.prototype.hasOwnProperty.call(a,c),q=n&&m(l),r=n&&Array.isArray(l),s=n&&!r&&!r;q?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k?(a[c]={},o(a[c],f,d,e+1)):b||(a[c]=l):r?i?a[c]=f:j?(d&&h[d]||g(0,5117),d===h.Clobber&&(l.length=0),p(l,f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)):s?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&o(l,f,d,e+1):n||(i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)))};function a(a,b,c){b=n(b);i(c);o(a,b,c,0)}f["default"]=a}),66);
__d("WebAsyncStorage",["Deferred","Promise","err","mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h;a=typeof window!=="undefined"?window:self;var i=a.indexedDB,j=1,k="data",l=!1,m;d=Date.now();var n=new(c("Deferred"))(),o=3;function p(){var a=i.open("AsyncStorage",j);a.onerror=function(b){b=(b=a.error)!=null?b:new Error("Failed to open AsyncStorage IndexedDB instance.");if(b.name==="UnknownError"&&o>0){o--;return p()}n.reject(b)};a.onsuccess=function(a){l&&!1,m=a.target.result,n.resolve({db:m}),m.onerror=function(a){a=new Error("AsyncStorage error: "+a.target.error.message);n.reject(a)}};a.onupgradeneeded=function(a){a=a.currentTarget.result;if(a.objectStoreNames&&a.objectStoreNames.contains(k))return;a.createObjectStore(k,{keyPath:"key"})}}i&&p();function q(a,b){if(m)try{a()}catch(a){b&&b(a)}else n.getPromise().then(function(){l&&!1,q(a,b)},function(a){b&&b(a)})}e={setItem:function(a,b,c){this.multiSet([[a,b]],function(a){c(a&&a[0]||null)})},getItem:function(a,b){this.multiGet([a],function(a,c){c=c!==void 0&&c[0]!==void 0&&c[0][1]!==void 0?c[0][1]:null;b(a&&a[0]||null,c)})},removeItem:function(a,b){this.multiRemove([a],function(a){b(a&&a[0]||null)})},getOrSetItem:function(a,b,c){this.multiGetOrSet([[a,b]],function(a,b){b=b!==void 0&&b[0]!==void 0&&b[0][1]!==void 0?b[0][1]:null;c(a&&a[0]||null,b)})},upsertAndSaveAtomic:function(a,b,c){var d=null;this._multiOp([a],"readwrite",function(a){return c(a,d)},function(a){return a},function(a,c,e){if(c&&a===c.key){var f=b(c.value.value);if(f!=null){var g=c.value;g.value=f;d=f;c.update(g)}}else{f=b(null);f!=null&&(d=f,e.push([a,f]))}})},multiGet:function(a,b){var c=[];this._multiOp(a,"readonly",function(a){return b(a,c)},function(a){return a},function(a,b,d){b&&a===b.key?(l&&!1,c.push([a,b.value.value])):c.push([a,null])})},multiSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,c){if(b&&a[0]===b.key){var d=b.value;d.value=a[1];l&&!1;b.update(d)}else c.push(a)})},multiGetOrSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}var c=[];this._multiOp(a,"readwrite",function(a){return b(a,c)},function(a){return a[0]},function(a,b,d){b&&a[0]===b.key?(c.push([a,b.value.value]),l&&!1):d.push(a)})},multiMerge:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,d){if(b&&a[0]===b.key){var e=b.value,f=JSON.parse(e.value);c("mergeDeepInto")(f,JSON.parse(a[1]),c("mergeHelpers").ArrayStrategies.Clobber);l&&!1;e.value=JSON.stringify(f);b.update(e)}else l&&!1,d.push(a)})},multiRemove:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a},function(a,b,c){b&&a===b.key&&(l&&!1,b["delete"]())})},getAllKeys:function(a){q(function(){var b=m.transaction([k],"readonly");b=b.objectStore(k).openCursor();var c=[];b.onsuccess=function(b){b=b.target.result;if(!b){a(null,c);return}c.push(b.key);b["continue"]()}},function(b){return a(null,[])})},clear:function(a){q(function(){var b=m.transaction([k],"readwrite");b=b.objectStore(k).openCursor();b.onsuccess=function(b){b=b.target.result;if(!b){a(null);return}b["delete"]();b["continue"]()}},function(b){return a(null)})},_multiOp:function(a,b,c,d,e){q(function(){var f=!1,g=a.slice().sort(function(a,b){a=d(a);b=d(b);if(a===b){var e=new Error("AsyncStorage._multiOp cannot process duplicate keys.");c&&c([e]);f=!0;return 0}return a<b?-1:1});if(f)return;var h=m.transaction([k],b),i=h.objectStore(k).openCursor(),j=[],n=0;i.onsuccess=function(a){a=a.target.result;if(!a){while(n<g.length)e(g[n],a,j),n++;o();return}var b=a.key;l&&!1;while(d(g[n])<=b){l&&!1;e(g[n],a,j);n++;if(n===g.length){o();return}}b=d(g[n]);a["continue"](b)};function o(){var a=h.objectStore(k);j.forEach(function(b){l&&!1,a.add({key:b[0],value:b[1]})})}h.oncomplete=function(){c&&c(null)};h.onerror=function(a){a=new Error("IndexedDB error: "+a.target.error.message);c&&c([a])};l&&!1},function(a){c&&c([a])})},_persistentWritesDisabled:!1,disablePersistentWrites:function(){this._persistentWritesDisabled=!0},isOpenPromiseSettled:function(){return n.isSettled()},isOperational:function(){return i==null?(h||(h=b("Promise"))).resolve({success:!1,error:c("err")("IDB interface not available")}):n.getPromise().then(function(){return{success:!0}})["catch"](function(a){return{success:!1,error:a}})}};f=e;g["default"]=f}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWFBLogger","Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_exchange_vm";function j(){var a=d("MAWVaultMaterials").generateNewVaultMaterials(),e="newly-generated";return new(h||(h=b("Promise")))(function(b){c("WebAsyncStorage").getOrSetItem(i,a,function(c,f){if(c!=null){var g=d("MWFBLogger").MWLogger();if(c instanceof Error)throw g.catching(c).mustfixThrow("Failed to store Vaulting Materials. %s",c.toString());else g.mustfix("Failed to store Vaulting Materials.")}f!==null&&(a=f,e="storage");b(d("MAWVaultMaterials").initializeVaultMaterials(a,e))})})}function a(){return d("MAWVaultMaterials").hasVaultBeenSetup()?(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials()):j()}g.setupVaultMaterials=a}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54,MESSENGER_SEARCH_NULLSTATE_FOLLOWER:55,MESSENGER_SEARCH_NULL_STATE_UNBLENDED:56,MESSENGER_SEARCH_QUERY_STATE_BLENDED:57,MESSENGER_INBOX_TRAY_SUPER_MODEL:58});f["default"]=a}),66);
__d("WABinary",["WAHex","err"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArrayView=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArrayView()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("err")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("err")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("err")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("err")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("err")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WACryptoDependencies",["tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=self.crypto;function a(a){h=a;var b=65536;d("tweetnacl").setPRNG(function(c,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=b)a.getRandomValues(f.subarray(e,e+Math.min(d-e,b)));for(e=0;e<d;e++)c[e]=f[e];for(e=0;e<f.length;e++)f[e]=0})}function b(){return h}g.setCrypto=a;g.getCrypto=b}),98);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return Z(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return C(a)}function A(a){return a==null?a:a>t?y(a):x(a)}function B(){return C($()-w*1e3)}function C(a){return a}function D(a){return a}function E(a){return C(a*1e3)}function F(a,b){return G(N(),a,b)}function G(a,b,c){b=Math.max(b+c-a,0);return Math.min(1e3*b,~(1<<31))}function H(a,b){b=b!=null?b:N();return x(Math.ceil(b+Math.max(a,0)))}function I(a,b){b=b!=null?b:N();return x(Math.ceil(b-Math.max(a,0)))}var J=Math.pow(2,48);function K(a){return a>=J?B()+6e4:a}function L(a){a=Math.max(a-N(),0);return Math.min(1e3*a,~(1<<31))}function M(a){var c=L(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function N(){return x(Date.now()/1e3-w)}function O(){return x(Date.now()/1e3)}function P(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function Q(){return Date.now()-w*1e3}function R(a){return Math.max(a-N(),0)}function S(a){return R(a)>0}function T(){return performance.now()}function U(a){return Math.floor(performance.now()-a)}function V(a,b){return a<b?a:b}var W=function(){function a(){var a=T();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=T()};b.elapsed=function(){return U(this.$2)};b.cumulative=function(){return U(this.$1)};return a}();function X(a,b,c){return Math.abs(a-b)<=c}function Y(a,b){return X(N(),a,b)}function Z(a){return new Date(a*1e3)}function aa(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:Z(a+w).getDay();var c=v.time===b?v.day:Z(b+w).getDay();v.time=b;v.day=c;return a===c}function ba(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function $(){return Date.now()}function ca(a){a=new Date(a);return isNaN(a)?null:y(a.getTime())}function da(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castLongIntToMillisTime=z;g.castMillisTimeToUnixTime=A;g.millisTime=B;g.castToMillisTime=C;g.fromMillisTime=D;g.castUnixTimeToMillisTime=E;g.timeoutFor=F;g.timeoutForAt=G;g.futureUnixTime=H;g.pastUnixTime=I;g.miAdjustTimestamp=K;g.cappedMillisecondsUntil=L;g.delayUntil=M;g.unixTime=N;g.unixTimeWithoutClockSkewCorrection=O;g.midnight=P;g.unixTimeMs=Q;g.secondsUntil=R;g.isInFuture=S;g.monotonicTime=T;g.monotonicTimeSince=U;g.oldest=V;g.MonotonicTimer=W;g.happenedWithinAt=X;g.happenedWithin=Y;g.toDate=Z;g.sameDay=aa;g.convertHexToDate=ba;g.performanceAbsoluteNow=$;g.convertISO8601DateFormatToUnixTime=ca;g.daysDiff=da}),98);
__d("WAWasmModuleCache",["WAPromiseManagement"],(function(a,b,c,d,e,f,g){"use strict";var h=a.fetch,i=new Map();b=d("WAPromiseManagement").cacheWhilePending(function(a){return a},async function(a){var b=i.get(a);if(b!=null)return b;b=await j(a);i.set(a,b);return b});async function j(a){a=h(a);if(typeof WebAssembly.compileStreaming==="function")return WebAssembly.compileStreaming(a);a=await a;return WebAssembly.compile(await a.arrayBuffer())}g.loadWasmModule=b}),98);
__d("mergeDeep",["mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;a=(e=c("mergeHelpers")).normalizeMergeArg(a);b=e.normalizeMergeArg(b);e.checkMergeObjectArgs(a,b);e.checkArrayStrategy(d);e={};c("mergeDeepInto")(e,a,d);c("mergeDeepInto")(e,b,d);return e}g["default"]=a}),98);
__d("mwCMIsCMSubthread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);
__d("BroadcastChannelFallback",["FBLogger","WAMapWithDefault"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAMapWithDefault").MapWithDefault)(function(){return new Set()});function a(a,b){h.get(a).add(b)}function b(a,b){h.get(a)["delete"](b)}function e(a,b){var d=h.get(a);d.forEach(function(a){return a(b)});d.size===0&&c("FBLogger")("BroadcastChannelFallback").warn("No listener for namespace",a)}g.registerBroadcastChannelFallbackListener=a;g.unregisterBroadcastChannelFallbackListener=b;g.handleBroadcastChannelFallbackMessage=e}),98);
__d("EBAPIQPLPoints",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";e={CREATE_WORKER_NETWORK_EXECUTE_END:"create_worker_network_execute_end",CREATE_WORKER_NETWORK_EXECUTE_START:"create_worker_network_execute_start",GRAPHQL_QUERY_END:"graphql_query_end",GRAPHQL_QUERY_START:"graphql_query_start"};f={CLIENT_STATE_RETRIEVED:"client_state_retrieved",EB_NOT_ENABLED:"eb_not_enabled",EBLS_NOT_INITIALIZED:"ebls_not_initialized",EMPTY_DECRYPTION_RESPONSE:"empty_decryption_response",INVALID_CLIENT_STATE:"invalid_client_state",INVALID_GRAPHQL_RESPONSE:"invalid_graphql_response",INVALID_PARAMETERS:"invalid_parameters",LSDB_SINGLETON_RETRIEVED:"lsdb_singleton_retrieved",NO_CLIENT_STATE:"no_client_state",NULL_CHAT_JID:"null_chat_jid",RUNTIME_ERROR:"runtime_error",UNSUPPORTED_CONTEXT:"unsupported_context"};var h=babelHelpers["extends"]({},e),i=babelHelpers["extends"]({},e,f,{BACKUP_ID_NULL:"backup_id_null",BATCH_RESTORE_AND_DECRYPT_FAILURE:"batch_restore_and_decrypt_failure",DECRYPT_LABYRINTH10_MESSAGES_END:"decrypt_labyrinth10_messages_end",DECRYPT_LABYRINTH10_MESSAGES_FAILURE:"decrypt_labyrinth10_messages_failure",DECRYPT_LABYRINTH10_MESSAGES_START:"decrypt_labyrinth10_messages_start",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END:"decrypt_messages_echo_and_protobuf_end",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START:"decrypt_messages_echo_and_protobuf_start",DECRYPT_MESSAGES_ECHO_END:"decrypt_messages_echo_end",DECRYPT_MESSAGES_ECHO_START:"decrypt_messages_echo_start",DECRYPT_MESSAGES_MINOS_PROTOBUF_END:"decrypt_messages_minos_protobuf_end",DECRYPT_MESSAGES_MINOS_PROTOBUF_START:"decrypt_messages_minos_protobuf_start",DECRYPT_MESSAGES_PROTOBUF_END:"decrypt_messages_protobuf_end",DECRYPT_MESSAGES_PROTOBUF_START:"decrypt_messages_protobuf_start",DECRYPTED_PROTOBUFS_NULL:"decrypted_protobufs_null",DELETE_MAILBOX:"delete_mailbox",DERIVE_AND_STORE_EPOCHS_END:"derive_and_store_epochs_end",DERIVE_AND_STORE_EPOCHS_START:"derive_and_store_epochs_start",ECHO_DECODE_END:"echo_decode_end",ECHO_DECODE_START:"echo_decode_start",ECHO_DECRYPTION_FAILURE:"echo_decryption_failure",ECHO_TO_PROTOBUF_CONVERSION_END:"echo_to_protobuf_conversion_end",ECHO_TO_PROTOBUF_CONVERSION_FAILURE:"echo_to_protobuf_conversion_failure",ECHO_TO_PROTOBUF_CONVERSION_START:"echo_to_protobuf_conversion_start",GRAPHQL_QUERY_EXCEPTION:"graphql_query_exception",MISSING_RANGE_INFO:"missing_range_info",NO_MESSAGES_TO_RESTORE:"no_messages_to_restore",NULL_MESSAGES:"null_messages",PROCESS_AND_DECRYPT_MESSAGES_END:"process_and_decrypt_messages_end",PROCESS_AND_DECRYPT_MESSAGES_FAILURE:"process_and_decrypt_messages_failure",PROCESS_AND_DECRYPT_MESSAGES_START:"process_and_decrypt_messages_start",PROTOBUF_DECRYPTION_FAILURE:"protobuf_decryption_failure",RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD:"restoring_mixed_echo_protobuf_payload",SERVER_SIDE_EXCEPTION:"server_side_exception",THREAD_NOT_FOUND_ON_SERVER:"thread_not_found_on_server"}),j={ADDED_ATTACHMENT_CONTEXT:"added_attachment_context",ADDED_ATTACHMENT_CONTEXT_LEGACY:"added_attachment_context_legacy",DEQUEUE:"added_to_queue_end",ENQUEUE:"added_to_queue_start",ENQUEUE_FAILURE:"enqueue_failure",GENERATE_BACKUP_DIRECTIVE_END:"generate_backup_directive_end",GENERATE_BACKUP_DIRECTIVE_START:"generate_backup_directive_start",GENERATE_REPORTING_META_END:"generate_reporting_meta_end",GENERATE_REPORTING_META_START:"generate_reporting_meta_start",GET_ATTACHMENT_CONTEXT_END:"get_attachment_context_end",GET_ATTACHMENT_CONTEXT_START:"get_attachment_context_start",MESSAGE_RESULT_FAILURE_OR_NULL:"message_result_failure_or_null",NO_INCOMING_MESSAGES:"no_incoming_messages",NO_PROCESSED_MESSAGES:"no_processed_messages",PROCESSED_MESSAGES:"processed_messages",RUNTIME_ERROR:"runtime_error",SUCCESSFULLY_PROCESSED_MESSAGE:"successfully_processed_message",UKNOWN_MESSAGE_VERSION_OR_PROTOCOL:"unknown_message_version_or_protocol",UNABLE_TO_CREATE_BACKUP_DIRECTIVE:"unable_to_create_backup_directive",UNKNOWN_MESSAGE_TYPE:"unknown_message_type",UNSUPPORTED_MESSAGE_TYPE:"unsupported_message_type",UPLOAD_DELETED_MESSAGE:"upload_deleted_message",UPLOAD_PAYLOAD_CREATED:"upload_payload_creation_success",UPLOAD_PAYLOAD_CREATION_FAILURE:"upload_payload_creation_failure",UPLOAD_PAYLOAD_CREATION_START:"upload_payload_creation_start"},k={ADD_DEVICE_CHECK_RC_STATUS:"add_device_check_rc_status",ADD_DEVICE_COULD_NOT_FIND_BACKUP:"add_device_could_not_find_backup",ADD_DEVICE_EBSM_API_START:"add_device_ebsm_api_start",ADD_DEVICE_FAILED_DEVICE_REGISTRATION_ID_NULL:"add_device_failed_device_registration_id_null",ADD_DEVICE_FAILED_TO_GET_RC_STATUS:"add_device_failed_to_get_rc_status",ADD_DEVICE_FAILURE_BACKUP_NOT_FOUND:"add_device_failure_backup_not_found",ADD_DEVICE_OPTIMISTIC_STATUS:"add_device_optimistic_status",ADD_DEVICE_RUNTIME_ERROR:"add_device_runtime_error",ADD_DEVICE_SPROC_END:"add_device_sproc_end",ADD_DEVICE_SPROC_FAILURE:"add_device_sproc_failure",ADD_DEVICE_SPROC_START:"add_device_sproc_start",ADD_DEVICE_SUBSCRIPTION_END:"add_device_subscription_end",ADD_DEVICE_SUBSCRIPTION_START:"add_device_subscription_start",ADD_DEVICE_TASK_END:"add_device_task_end",ADD_DEVICE_TASK_START:"add_device_task_start",ADD_DEVICE_TIMEOUT:"add_device_timeout",ADD_DEVICE_WAIT_FOR_EBLS_END:"add_device_wait_for_ebls_end",ADD_DEVICE_WAIT_FOR_EBLS_START:"add_device_wait_for_ebls_start",INVALID_RECOVERY_CODE:"invalid_recovery_code",ON_START_BEGIN:"on_start_start",ON_START_SUCCESS:"on_start_end",OTC_ADD_DEVICE_SPROC_END:"otc_add_device_sproc_end",OTC_ADD_DEVICE_SPROC_ERROR:"otc_add_device_sproc_error",OTC_ADD_DEVICE_SPROC_FAILURE:"otc_add_device_sproc_failure",OTC_ADD_DEVICE_SPROC_START:"otc_add_device_sproc_start",OTC_ADD_DEVICE_SUCCESS:"otc_add_device_success",OTC_ADD_DEVICE_SYSTEM_ERROR:"otc_add_device_system_error",OTC_ADD_DEVICE_UNEXPECTED_RECOVERY_CODE_STATUS:"otc_add_device_unexpected_rc_status"},l={ADD_DEVICE_FETCH_VD_GRAPHQL_END:"add_device_fetch_vd_graphql_end",ADD_DEVICE_FETCH_VD_GRAPHQL_FAIL:"add_device_fetch_vd_graphql_fail",ADD_DEVICE_FETCH_VD_GRAPHQL_START:"add_device_fetch_vd_graphql_start",ADD_DEVICE_GQL_END:"add_device_gql_end",ADD_DEVICE_GQL_FAIL:"add_device_gql_fail",ADD_DEVICE_GQL_START:"add_device_gql_start",ADD_DEVICE_MISSING_GRAPHQL_FIELDS:"add_device_missing_graphql_fields",ADD_DEVICE_PARSE_RECOVERY_CODE_END:"add_device_parse_recovery_code_end",ADD_DEVICE_PARSE_RECOVERY_CODE_FAIL:"add_device_parse_recovery_code_fail",ADD_DEVICE_PARSE_RECOVERY_CODE_START:"add_device_parse_recovery_code_start",ADD_DEVICE_VIRTUAL_DEVICE_EXISTS:"add_device_virtual_device_exists",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_END:"add_device_vd_key_sproc_end",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_FAIL:"add_device_vd_key_sproc_fail",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_START:"add_device_vd_key_sproc_start"},m={FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start",INITIALIZE_BACKUP_END:"initialize_backup_end",INITIALIZE_BACKUP_SPROC_END:"initialize_backup_sproc_end",INITIALIZE_BACKUP_SPROC_FAIL:"initialize_backup_sproc_fail",INITIALIZE_BACKUP_SPROC_START:"initialize_backup_sproc_start",INITIALIZE_BACKUP_START:"initialize_backup_start",OPTIMISTIC_CLIENT_STATE:"optimistic_client_state"},n={DELETE_EB_NON_DELETE_OPERATION:"delete_eb_non_delete_operation",DELETE_EB_NON_PUT_OPERATION:"delete_eb_non_put_operation",DELETE_EB_SPROC_FAIL:"delete_eb_sproc_fail",DELETE_EB_SPROC_START:"delete_eb_sproc_start",DELETE_EB_SPROC_SUCCESS:"delete_eb_sproc_success",DELETE_EB_TASK_FAIL:"delete_eb_task_fail",DELETE_EB_TASK_START:"delete_eb_task_start",DELETE_EB_TASK_SUCCESS:"delete_eb_task_success",FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start"},o={FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start",OPT_OUT_BACKUP_ROW_EXISTS:"opt_out_backup_row_exists",OPT_OUT_BACKUP_ROW_NULL:"opt_out_backup_row_null",OPT_OUT_BACKUP_SPROC_END:"opt_out_backup_sproc_end",OPT_OUT_BACKUP_SPROC_FAIL:"opt_out_backup_sproc_fail",OPT_OUT_BACKUP_SPROC_START:"opt_out_backup_sproc_start",OPT_OUT_BACKUP_TASK_END:"opt_out_backup_task_end",OPT_OUT_BACKUP_TASK_FAIL:"opt_out_backup_task_fail",OPT_OUT_BACKUP_TASK_START:"opt_out_backup_task_start"};function a(a,b,d,e,f){c("QPLUserFlow").addPoint(b,d,{data:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:f})}function b(a,b,d,e,f){c("QPLUserFlow").endFailure(b,d,{annotations:babelHelpers["extends"]({},f,{bool:{runningInWorker:a}}),instanceKey:e})}function d(a,b,d,e){c("QPLUserFlow").endSuccess(b,{annotations:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:d})}g.EBAPIQPLCommonPoints=e;g.EBAPIQPLCommonErrorPoints=f;g.EBMessageMetadataQPLPoints=h;g.EBMessageRestoreQueryQPLPoints=i;g.EBUploadQueueQPLPoints=j;g.EBAddDeviceQPLPoints=k;g.EBAddDeviceGraphqlQPLPoints=l;g.EBBackupInitQPLPoints=m;g.EBDeleteEBQPLPoints=n;g.EBOptOutQPLPoints=o;g.ebAPIAddQPLPoint=a;g.ebAPIEndFailure=b;g.ebAPIEndSuccess=d}),98);
__d("WorkerRelayNetwork",["ActorURIConfig","MAWCurrentUser","RelayAPIConfig","WAResolvable","createRelayFBNetwork","createRelayFBNetworkFetch","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAResolvable").Resolvable)();function a(){var a=i(d("MAWCurrentUser").getID());a={execute:a.execute};h.resolve(a);return a}function b(){return h.promise}function i(a,b){b={actorID:a,batchResponseChunks:!0,getAdditionalData:function(){var b={};a!=null&&(b[c("ActorURIConfig").PARAMETER_ACTOR]=a);c("RelayAPIConfig").useXController===!1&&c("RelayAPIConfig").accessToken!==""&&(b.access_token=c("RelayAPIConfig").accessToken);return b},graphURI:b};b=c("createRelayFBNetworkFetch")(b);var e=function(a,b,c){return d("relay-runtime").Observable.create(function(a){return a.complete()})};return c("createRelayFBNetwork")(b,e,null,null)}g.createWorkerNetworkExecute=a;g.getWorkerNetworkExecute=b}),98);
__d("executeGraphQLQuery",["DTSG","FBLogger","MAWBridge","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e){b=d("relay-runtime").getRequest(b);if(b.params.operationKind==="subscription")throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Expected query or mutation operation");var f={force:!0},g=d("DTSG").getToken();if(g==null||g===""||typeof g!=="string"){g=await d("MAWBridge").getBridge().sendAndReceive("event","getDTSGToken").catch(function(a){throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Failed to get DTSG token from the main thread",a)});if(g==null||g===""||typeof g!=="string")throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Received an empty DTSG token from the main thread");d("DTSG").setToken(g)}g=d("relay-runtime").createOperationDescriptor(b,e,f);return a.execute(g.request.node.params,g.request.variables,f)}g.executeGraphQLQuery=a}),98);
__d("createWorkerMutation",["FBLogger","WorkerRelayNetwork","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("relay-runtime").getRequest(a);if(b.params.operationKind!=="mutation")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerMutation: Expected mutation operation");var e=d("WorkerRelayNetwork").getWorkerNetworkExecute();b=async function(b){var c=await e;return d("executeGraphQLQuery").executeGraphQLQuery(c,a,b).then(function(a){return a.toPromise()}).then(function(a){if(Array.isArray(a)){return(a=a[0])==null?void 0:a.data}else return null})};return[b]}g.default=a}),98);
__d("MAWRotateDTSG",["CSRFGuard","DTSG","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWLogger().tags(["RotateDTSG"]),k=async function(){var a,b;j.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Getting new DTSG token"])));var c=new Request("/ajax/dtsg/?__a=true",{credentials:"include",method:"GET"});c=await self.fetch(c);if(c.status!==200)throw j.mustfixThrow("Unable to get new DTSG token: "+c.status);c=await c.text();c=d("CSRFGuard").clean(c);var e=JSON.parse(c),f=e==null||(a=e.payload)==null?void 0:a.token;e=e==null||(b=e.payload)==null?void 0:b.valid_for;if(f==null||e==null)throw j.mustfixThrow("DTSG response is not valid: "+c+"'");return{token:f,validFor:e}},l=null;async function m(){self.clearTimeout(l);try{var a=await k(),b=a.token;a=a.validFor;l=self.setTimeout(m,a/2*1e3);d("DTSG").setToken(b);return!0}catch(a){j.catching(a).MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error rotating DTSG"])));l=self.setTimeout(m,10*60*1e3);return!1}}g.getNewDTSG=k;g.tryRotateDTSG=m}),98);
__d("WARetryableError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this,"see error at this.source")||this;c.source=b;return c}babelHelpers.inheritsLoose(b,a);return b}(d("WACustomError").customError("RetryableError"));g["default"]=a}),98);
__d("createWorkerQuery",["FBLogger","IGDWebUtils","MAWRotateDTSG","WARetryableError","WorkerRelayNetwork","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e){var f=d("relay-runtime").getRequest(a);if(f.params.operationKind!=="query")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerQuery: Expected query operation");f=await d("WorkerRelayNetwork").getWorkerNetworkExecute();e==null||e.onExecute==null||e.onExecute();var g=d("IGDWebUtils").isOnInstagramWeb();f=await d("executeGraphQLQuery").executeGraphQLQuery(f,a,b).then(function(a){return a.toPromise()}).then(function(a){e==null||e.onResponse==null||e.onResponse(a);return Array.isArray(a)?a[0].data:(a=a.data)!=null?a:null}).catch(function(a){if(("code"in a&&a.code===1357004||"message"in a&&a.message.indexOf("1357004")!==-1||typeof a==="string"&&a.indexOf("1357004")!==-1)&&!g){c("FBLogger")("messenger_web").info("Failed with expired DTSG, attempting to rotate.");return d("MAWRotateDTSG").tryRotateDTSG().then(function(b){if(b)throw new(c("WARetryableError"))(a);throw a})}throw a});return f}g.default=a}),98);
__d("WorkerRelay",["WorkerRelayNetwork","createWorkerMutation","createWorkerQuery","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";f.exports={createWorkerMutation:c("createWorkerMutation"),createWorkerQuery:c("createWorkerQuery"),executeGraphQLQuery:d("executeGraphQLQuery").executeGraphQLQuery,getWorkerRelayEnvironment:d("WorkerRelayNetwork").getWorkerNetworkExecute,graphql:d("relay-runtime").graphql}}),34);
__d("createMainThreadQuery",["FBLogger","IGDWebUtils","MAWRotateDTSG","WARetryableError","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getNetwork();a={execute:a.execute};return a}async function b(a,b,e){var f=d("relay-runtime").getRequest(a);if(f.params.operationKind!=="query")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerQuery: Expected query operation");var g=d("IGDWebUtils").isOnInstagramWeb();f=await d("executeGraphQLQuery").executeGraphQLQuery(e,a,b).then(function(a){return a.toPromise()}).then(function(a){return Array.isArray(a)?a[0].data:(a=a.data)!=null?a:null}).catch(function(a){if(("code"in a&&a.code===1357004||"message"in a&&a.message.indexOf("1357004")!==-1||typeof a==="string"&&a.indexOf("1357004")!==-1)&&!g){c("FBLogger")("messenger_web").info("Failed with expired DTSG, attempting to rotate.");return d("MAWRotateDTSG").tryRotateDTSG().then(function(b){if(b)throw new(c("WARetryableError"))(a);throw a})}throw a});return f}g.getWorkerLikeRelayEnvironment=a;g.createMainThreadQuery=b}),98);
__d("EBCreateGraphQLFetchFnUnified",["EBAPIWorkerCheck","WorkerRelay","WorkerRelayNetwork","createMainThreadQuery","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometRelayEnvironment").__setRef("EBCreateGraphQLFetchFnUnified");async function a(){var a=d("EBAPIWorkerCheck").runningInWorker();if(!a){var b=await h.load();return function(a,c){var e=d("createMainThreadQuery").getWorkerLikeRelayEnvironment(b);return d("createMainThreadQuery").createMainThreadQuery(a,c,e)}}else{await d("WorkerRelayNetwork").createWorkerNetworkExecute();return d("WorkerRelay").createWorkerQuery}}g.createGraphQlFetchFnUnified=a}),98);
__d("EBMessageRangeQueryUtils",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.pow(2,48)-1;function a(a){var b=Number(a);return isNaN(b)?a:i(b).toString()}function i(a){if(a<0)return 0;if(a<=h)return a;a=d("WATimeUtils").millisTime()+6e4;return a}g.safeTimestampMsString=a;g.safeTimestampMsNumber=i}),98);
__d("EBMinosLogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS(["minos"]);g.minosLogger=a}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(typeof a!=="number"){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"])),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string'])),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits'])),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("EBMinosTypes",["$InternalEnum","WAJids","WALongInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function c(a){return a.endsWith(d("WAJids").MSGR_USER_DOMAIN)?a.slice(0,-d("WAJids").MSGR_USER_DOMAIN.length):null}var h=d("WAJids").createJidUtils({platform:"msgr"});function e(a){return h.toUserJid(a)}function f(a){return a}function i(a){return a}function j(a){return a}function k(a){return a}function l(a){return a}function m(a){return d("WALongInt").decimalStringToLongInt(new TextDecoder().decode(a))}function n(a){return a}function o(a){return a}function p(a){return a}function q(a){return a}function r(a){return a}function s(a){return a}function t(a){return a}function u(a){return a}function v(a){return a}function w(a){return a}function x(a){return a}function y(a){return a}function z(a){return a}function A(a){return a}function B(a){return a}function C(a){return a}function D(a){return a}function E(a){return a}function F(a){return a}function G(a){return a}function H(a){return a}function I(a){return a}function J(a){return a}function K(a){return a}function L(a){return a}function M(a){return a}function N(a){return a}b=b("$InternalEnum")({INVALID:"-1",IMAGE:"0",PTT:"1",DOCUMENT:"3",VIDEO:"4",GIF:"5",STICKER:"6",XMA:"22",MESSENGER_PREVIEW:"25"});g.unsafeCastToUserFbId=a;g.userJidToUserFbId=c;g.userFbidToUserJid=e;g.unsafeCastToMinosThreadId=f;g.unsafeCastToEpochHead=i;g.unsafeCastToEpochSelfSig=j;g.unsafeCastToEpochPrevSig=k;g.unsafeCastToEpochNumber=l;g.unsafeCastToBase64StringIntToEpochNumber=m;g.unsafeCastToEpochCreationTime=n;g.unsafeCastToExportRootKey=o;g.unsafeCastToMekId=p;g.unsafeCastMekKey=q;g.unsafeCastMekRosterHash=r;g.unsafeCastToEncryptedMek=s;g.unsafeCastToMessageEncryptionVersion=t;g.unsafeCastToMekFbId=u;g.unsafeCastToMekMiThreadId=v;g.unsafeCastToEncryptedMessage=w;g.unsafeCastToEncryptedMessageSignature=x;g.unsafeCastToDecryptedMessage=y;g.unsafeCastToMailboxFbId=z;g.unsafeCastToMailboxSigningPK=A;g.unsafeCastToMailboxSigningSK=B;g.unsafeCastToMailboxEncryptionPK=C;g.unsafeCastToMailboxEncryptionSK=D;g.unsafeCastToMailboxAuthPK=E;g.unsafeCastToMailboxAuthSK=F;g.unsafeCastToTransportSenderEphemeralPK=G;g.unsafeCastToTransportSenderEphemeralKeySig=H;g.unsafeCastToTransportSigningPK=I;g.unsafeCastToTransportSigningSK=J;g.unsafeCastToEpochFbId=K;g.castToSupplementalOpToken=L;g.unsafeCastToAttachmentAccessTokenSecret=M;g.unsafeCastToAttachmentPrimaryKeySecret=N;g.MinosAttachmentMediaType=b}),98);
__d("MSGDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({HistoryRestore:"HISTORY_RESTORE",Reporting:"REPORTING",Fts:"FTS",NewMemberExport:"NEW_MEMBER_EXPORT"});d=a({Before:"BEFORE",After:"AFTER"});e=a({UpsertBackupItem:"UPSERT_BACKUP_ITEM",RemoveBackupItem:"REMOVE_BACKUP_ITEM"});b=a({Message:"MESSAGE",Thread:"THREAD"});var g=a({Photo:"PHOTO",Permanent:"PERMANENT",Ephemeral:"EPHEMERAL",Video:"VIDEO",Gif:"GIF",Audio:"AUDIO",File:"FILE",Raven:"RAVEN",UnreadRaven:"UNREAD_RAVEN",ShareIgMedia:"SHARE_IG_MEDIA",ShareLink:"SHARE_LINK",ShareIgClips:"SHARE_IG_CLIPS",Shh:"SHH",StoryReply:"STORY_REPLY",DisappearingMessage:"DISAPPEARING_MESSAGE",RavenSeen:"RAVEN_SEEN",RavenReplayed:"RAVEN_REPLAYED",RavenReadOnce:"RAVEN_READ_ONCE",RavenReplayable:"RAVEN_REPLAYABLE",RavenPermanent:"RAVEN_PERMANENT",ActionLog:"ACTION_LOG"}),h=a({Fbn:"FBN",Instamadillo:"INSTAMADILLO",Unknown:"UNKNOWN"}),i=a({Retroactive:"RETROACTIVE",Realtime:"REALTIME",InfiniteRetroactive:"INFINITE_RETROACTIVE",Retry:"RETRY"}),j=a({Success:"SUCCESS",RetryableException:"RETRYABLE_EXCEPTION",PermanentFailure:"PERMANENT_FAILURE"}),k=a({NotApplicable:"NOT_APPLICABLE",NeedsUpload:"NEEDS_UPLOAD",AlreadyUploaded:"ALREADY_UPLOADED"}),l=a({DeleteBackupStateOnClient:"DELETE_BACKUP_STATE_ON_CLIENT",IssueCheckBackupStateTask:"ISSUE_CHECK_BACKUP_STATE_TASK",UpsertStatusTrigger:"UPSERT_STATUS_TRIGGER",UpsertReenrollmentTrigger:"UPSERT_REENROLLMENT_TRIGGER",UpdateInitializeRestoreResult:"UPDATE_INITIALIZE_RESTORE_RESULT",InitializeRestore:"INITIALIZE_RESTORE",DeleteAndInsertPakeMessage:"DELETE_AND_INSERT_PAKE_MESSAGE",RotateDeviceKeysStart:"ROTATE_DEVICE_KEYS_START",LegacyRetroactiveBackup:"LEGACY_RETROACTIVE_BACKUP",UpdatePbqWithNeedsBackupUploadStatus:"UPDATE_PBQ_WITH_NEEDS_BACKUP_UPLOAD_STATUS",SyncDeviceCreationTimestamp:"SYNC_DEVICE_CREATION_TIMESTAMP"}),m=a({LlmOutput:"llm_output",SendQuery:"send_query",StartTyping:"start_typing",StopTyping:"stop_typing",VideoAboutToFinish:"video_about_to_finish"}),n=a({Text:"text",Image:"image",Voice:"voice",Link_1p:"link_1p",Link_3p:"link_3p"}),o=a({Reasoning:"REASONING",Responding:"RESPONDING"}),p=a({Keyword:"KEYWORD",Method:"METHOD",Str:"STR",Number:"NUMBER",Comment:"COMMENT",Default:"DEFAULT"}),q=a({Fetching:"FETCHING",Fetched:"FETCHED",Failed:"FAILED"}),r=a({Fetching:"FETCHING",Fetched:"FETCHED",Failed:"FAILED"}),s=a({Bing:"BING",Brave:"BRAVE",Google:"GOOGLE",HelpCenter:"HELP_CENTER",InHouse:"IN_HOUSE",Kss:"KSS",Mase:"MASE"}),t=a({Planned:"PLANNED",InProgress:"IN_PROGRESS",Completed:"COMPLETED",Stopped:"STOPPED"}),u=a({Circle:"CIRCLE",Square:"SQUARE",Vertical:"VERTICAL"}),v=a({Start:"START",End:"END"}),w=a({Top:"TOP",Center:"CENTER"}),x=a({OpenFullView:"OPEN_FULL_VIEW"}),y=a({HorizontalLine:"HORIZONTAL_LINE",Dot:"DOT"}),z=a({Restaurant:"RESTAURANT",Movie:"MOVIE",TvShows:"TV_SHOWS",Celebrity:"CELEBRITY",SportsTeam:"SPORTS_TEAM",InfoTerm:"INFO_TERM"}),A=a({ContextualMenu:"CONTEXTUAL_MENU",AiLookup:"AI_LOOKUP"}),B=a({RequestStart:"REQUEST_START",Searching:"SEARCHING",Imagining:"IMAGINING",UnderstandingImage:"UNDERSTANDING_IMAGE",Generating:"GENERATING",StreamingImage:"STREAMING_IMAGE"}),C=a({Love:"LOVE",Giftwrap:"GIFTWRAP",Celebration:"CELEBRATION",Fire:"FIRE",AvatarLove:"AVATAR_LOVE",AvatarAngry:"AVATAR_ANGRY",AvatarCry:"AVATAR_CRY",AvatarLaugh:"AVATAR_LAUGH",Halloween:"HALLOWEEN",NomNomDash:"NOM_NOM_DASH",NewYears:"NEW_YEARS",ValentinesDay:"VALENTINES_DAY",AntiValentines:"ANTI_VALENTINES"}),D=a({Reminder:"REMINDER",Subscription:"SUBSCRIPTION"}),E=a({Memu:"MEMU",Imagine:"IMAGINE",ImagineRestyle:"IMAGINE_RESTYLE"}),F=a({Unknown:"UNKNOWN",Memu:"MEMU",Synthetic:"SYNTHETIC",UserUploaded:"USER_UPLOADED"}),G=a({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),H=a({MagicModBackdrop:"MAGIC_MOD_BACKDROP",MagicModRestyle:"MAGIC_MOD_RESTYLE",Imagine:"IMAGINE",Memu:"MEMU",HiddenMetadata:"HIDDEN_METADATA"}),I=a({PaidPartnership:"PAID_PARTNERSHIP",NoBranding:"NO_BRANDING"}),J=a({AskMetaAi:"ASK_META_AI",Summarize:"SUMMARIZE"}),K=a({BanUser:"BAN_USER",RemoveUser:"REMOVE_USER",SuspendUser:"SUSPEND_USER",RemoveMessage:"REMOVE_MESSAGE",ReportMessage:"REPORT_MESSAGE",HideMessage:"HIDE_MESSAGE"}),L=a({MothersDay:"MOTHERS_DAY",FathersDay:"FATHERS_DAY",Graduation:"GRADUATION",NationalSelfie:"NATIONAL_SELFIE",PhIndependenceDay:"PH_INDEPENDENCE_DAY",JulyFourth:"JULY_FOURTH",FriendshipDay:"FRIENDSHIP_DAY"}),M=a({Birthday:"BIRTHDAY",Attribution:"ATTRIBUTION"}),N=a({XmaWebUrl:"XMA_WEB_URL"}),O=a({GenAiGetInfo:"GEN_AI_GET_INFO",GenAiReminder:"GEN_AI_REMINDER",GenAiThreadSurfing:"GEN_AI_THREAD_SURFING"}),P=a({Mention:"MENTION",Reply:"REPLY"}),Q=a({Note:"NOTE",Prompt:"PROMPT",PromptResponse:"PROMPT_RESPONSE"}),R=a({Restaurant:"RESTAURANT",Movie:"MOVIE",TvShows:"TV_SHOWS",Celebrity:"CELEBRITY",SportsTeam:"SPORTS_TEAM"}),S=a({GetInfo:"GET_INFO",GetRestaurantInfo:"GET_RESTAURANT_INFO",Reviews:"REVIEWS",MenuHighlights:"MENU_HIGHLIGHTS",Address:"ADDRESS",WhereToWatch:"WHERE_TO_WATCH",LatestNews:"LATEST_NEWS",FindNextGame:"FIND_NEXT_GAME",ResponseCard:"RESPONSE_CARD"}),T=a({Untranscribed:"UNTRANSCRIBED",Transcribing:"TRANSCRIBING",Success:"SUCCESS",Error:"ERROR",UnsupportedLanguage:"UNSUPPORTED_LANGUAGE"}),U=a({Undefined:"UNDEFINED",Genmoji:"GENMOJI",Metamoji:"METAMOJI",AnimatedEmoji:"ANIMATED_EMOJI"}),V=a({Video:"VIDEO",Image:"IMAGE",Other:"OTHER"}),W=a({Unactioned:"UNACTIONED",Accepted:"ACCEPTED",Deleted:"DELETED"}),X=a({SummarizeInboxFnfMessages:"SUMMARIZE_INBOX_FNF_MESSAGES",PsiQueryPlan:"PSI_QUERY_PLAN"}),Y=a({Takedown:"TAKEDOWN",Restore:"RESTORE"}),Z=a({SenderParent:"SENDER_PARENT",RecipientParent:"RECIPIENT_PARENT",Classifier:"CLASSIFIER",ReactiveEnforcement:"REACTIVE_ENFORCEMENT"}),$=a({Unknown:"UNKNOWN",SoftDeleteWithAppeal:"SOFT_DELETE_WITH_APPEAL",SoftDeleteWithoutAppeal:"SOFT_DELETE_WITHOUT_APPEAL",PermanentDelete:"PERMANENT_DELETE"}),aa=a({Unknown:"UNKNOWN",BulkReply:"BULK_REPLY",AutoReply:"AUTO_REPLY"}),ba=a({Unknown:"UNKNOWN",AnimatedThankImage:"ANIMATED_THANK_IMAGE",AnimatedThankImageWithTextMessage:"ANIMATED_THANK_IMAGE_WITH_TEXT_MESSAGE"}),ca=a({FbmInbox:"FBM_INBOX",Profile:"PROFILE",Feed:"FEED",FbSearch:"FB_SEARCH",Watch:"WATCH",Shorts:"SHORTS",Ufi:"UFI",Ctm:"CTM",Cts:"CTS",Psrib:"PSRIB",Srib:"SRIB",Rta:"RTA",Mp:"MP",CommentMentions:"COMMENT_MENTIONS",ZorroMessage:"ZORRO_MESSAGE",FbHelpCenterXsMetaAi:"FB_HELP_CENTER_XS_META_AI",Dating:"DATING",IgReels:"IG_REELS",IgStory:"IG_STORY",IgFeed:"IG_FEED",IgProfile:"IG_PROFILE",IgNotes:"IG_NOTES",IgLive:"IG_LIVE",IgExternalLink:"IG_EXTERNAL_LINK",IgComment:"IG_COMMENT",FbNotes:"FB_NOTES",FbGroups:"FB_GROUPS",GenAiSuggestedPrompts:"GEN_AI_SUGGESTED_PROMPTS",GenAiMultiModal:"GEN_AI_MULTI_MODAL",GenAiFlAshImagine:"GEN_AI_FlASH_IMAGINE",GenAiAssistant:"GEN_AI_ASSISTANT",GenAiLocation:"GEN_AI_LOCATION",Sharesheet:"SHARESHEET",ProductHighlights:"PRODUCT_HIGHLIGHTS",MagicMessenger:"MAGIC_MESSENGER",SpectraAction:"SPECTRA_ACTION"}),da=a({Unspecified:"UNSPECIFIED",QuickEmoji:"QUICK_EMOJI",Avatar:"AVATAR",SuggestedReply:"SUGGESTED_REPLY",PostLwrSuggestedReply:"POST_LWR_SUGGESTED_REPLY",WriteWithAi:"WRITE_WITH_AI",GifLightWeight:"GIF_LIGHT_WEIGHT",StickerLightWeight:"STICKER_LIGHT_WEIGHT",QuickEmojiPalette:"QUICK_EMOJI_PALETTE",SuggestedText:"SUGGESTED_TEXT",SuggestedEmoji:"SUGGESTED_EMOJI",SuggestedEmojiText:"SUGGESTED_EMOJI_TEXT"}),ea=a({Default:"DEFAULT",CriticalUserMessage:"CRITICAL_USER_MESSAGE",NonCriticalAdminXma:"NON_CRITICAL_ADMIN_XMA"}),fa=a({ThreadviewSuggestedPrompt:"THREADVIEW_SUGGESTED_PROMPT",TypeaheadSuggestedPrompt:"TYPEAHEAD_SUGGESTED_PROMPT",SuggestedPrompt:"SUGGESTED_PROMPT",NullStatePrompt:"NULL_STATE_PROMPT",UserInputPrompt:"USER_INPUT_PROMPT",GenericPrompt:"GENERIC_PROMPT",ThreadviewUserInputPrompt:"THREADVIEW_USER_INPUT_PROMPT",Icebreakers:"ICEBREAKERS",ThreadSurfingPrompt:"THREAD_SURFING_PROMPT",MetaAiVoiceConversationStarter:"META_AI_VOICE_CONVERSATION_STARTER",MetaAiTextConversationStarter:"META_AI_TEXT_CONVERSATION_STARTER",MetaAiFabHint:"META_AI_FAB_HINT",AiLookup:"AI_LOOKUP"}),ga=a({Mention:"MENTION",SuperReact:"SUPER_REACT",StoryReply:"STORY_REPLY",MessageReply:"MESSAGE_REPLY",ContentReply:"CONTENT_REPLY",ContentMention:"CONTENT_MENTION",ContentShare:"CONTENT_SHARE",OnPlatform:"ON_PLATFORM",OffPlatform:"OFF_PLATFORM",MessageForward:"MESSAGE_FORWARD",Avatar:"AVATAR",SocialSticker:"SOCIAL_STICKER",NoteReply:"NOTE_REPLY",InvokesGenAiResponse:"INVOKES_GEN_AI_RESPONSE",SentFromGenAiBot:"SENT_FROM_GEN_AI_BOT",DisappearingMessage:"DISAPPEARING_MESSAGE",IncludesOnPlatformContent:"INCLUDES_ON_PLATFORM_CONTENT",IncludesOffPlatformContent:"INCLUDES_OFF_PLATFORM_CONTENT",IncludesLink:"INCLUDES_LINK",MultitabEnv:"MULTITAB_ENV",PowerUp:"POWER_UP",MsysSend:"MSYS_SEND",EditMessage:"EDIT_MESSAGE",VanishMode:"VANISH_MODE",Superlative:"SUPERLATIVE",Raven:"RAVEN",Hotlike:"HOTLIKE",IsDialtone:"IS_DIALTONE",MessageReshare:"MESSAGE_RESHARE",PostReply:"POST_REPLY",IsNotDialtone:"IS_NOT_DIALTONE",ThirdPartyReshare:"THIRD_PARTY_RESHARE",ZeroBalanceDetected:"ZERO_BALANCE_DETECTED",ConversationStarter:"CONVERSATION_STARTER",AnimatedAiSticker:"ANIMATED_AI_STICKER",AiGeneratedSticker:"AI_GENERATED_STICKER",MagicModImage:"MAGIC_MOD_IMAGE",ShareOfOriginalUserContent:"SHARE_OF_ORIGINAL_USER_CONTENT",LightweightInteractionAsStoryReply:"LIGHTWEIGHT_INTERACTION_AS_STORY_REPLY",WriteWithMetaAi:"WRITE_WITH_META_AI",AvatarStyle_1:"AVATAR_STYLE_1",AvatarStyle_2:"AVATAR_STYLE_2",MetaAiEntitySuggestedPrompts:"META_AI_ENTITY_SUGGESTED_PROMPTS",ContentConversationStarter:"CONTENT_CONVERSATION_STARTER",MetaAiIntents:"META_AI_INTENTS"}),ha=a({MsgrE2EeGenai:"MSGR_E2EE_GENAI"}),ia=a({Imagine:"IMAGINE",Imaginev2:"IMAGINEV2",Imagineme:"IMAGINEME"}),ja=a({Animate:"ANIMATE",AnimateImagineme:"ANIMATE_IMAGINEME"}),ka=a({Share:"SHARE",Reply:"REPLY",Mention:"MENTION",Bump:"BUMP"}),la=a({Statusupdate:"STATUSUPDATE",Grouppost:"GROUPPOST",Shareurl:"SHAREURL",Unifiedresponse:"UNIFIEDRESPONSE"}),ma=a({Single:"SINGLE",Hscroll:"HSCROLL",Xcenter:"XCENTER",Portrait:"PORTRAIT",Layered:"LAYERED",Placeholder:"PLACEHOLDER",ExpiredPlaceholder:"EXPIRED_PLACEHOLDER",PilePrompt:"PILE_PROMPT",Stack:"STACK",SharedStack:"SHARED_STACK",StackCard:"STACK_CARD",StandardDxma:"STANDARD_DXMA",DxmaPlaceholder:"DXMA_PLACEHOLDER",Grid:"GRID"}),na=a({Text:"TEXT",Media:"MEDIA"}),oa=a({Unknown:"UNKNOWN",TwoOptionCombined:"TWO_OPTION_COMBINED",IgTwoOptionCombined:"IG_TWO_OPTION_COMBINED",FiveOptionStarRating:"FIVE_OPTION_STAR_RATING"}),pa=a({Unknown:"UNKNOWN",Location:"LOCATION",People:"PEOPLE",Event:"EVENT",ResharedPost:"RESHARED_POST",ResharedContent:"RESHARED_CONTENT",Page:"PAGE",Fundraiser:"FUNDRAISER",Product:"PRODUCT",AntiBully:"ANTI_BULLY",Instagram:"INSTAGRAM"}),qa=a({Grid:"GRID",Hscroll:"HSCROLL",Portrait:"PORTRAIT",Single:"SINGLE",Vstack:"VSTACK",SharedStack:"SHARED_STACK"}),ra=a({Left:"LEFT",Center:"CENTER"}),sa=a({Test:"TEST",None:"NONE",IgMediaShare:"IG_MEDIA_SHARE",IgMultipostShare:"IG_MULTIPOST_SHARE",IgStoryReply:"IG_STORY_REPLY",IgStoryPhotoShare:"IG_STORY_PHOTO_SHARE",IgStoryPhotoMention:"IG_STORY_PHOTO_MENTION",IgClipsShare:"IG_CLIPS_SHARE",IgSingleVideoPostShare:"IG_SINGLE_VIDEO_POST_SHARE",IgStoryVideoShare:"IG_STORY_VIDEO_SHARE",IgStoryReaction:"IG_STORY_REACTION",IgIgtvShare:"IG_IGTV_SHARE",IgShopShare:"IG_SHOP_SHARE",IgProfileShare:"IG_PROFILE_SHARE",IgStoryPhotoHighlightShare:"IG_STORY_PHOTO_HIGHLIGHT_SHARE",IgStoryVideoHighlightShare:"IG_STORY_VIDEO_HIGHLIGHT_SHARE",IgStoryVideoMention:"IG_STORY_VIDEO_MENTION",IgStoryHighlightReply:"IG_STORY_HIGHLIGHT_REPLY",IgStoryHighlightReaction:"IG_STORY_HIGHLIGHT_REACTION",IgExternalLink:"IG_EXTERNAL_LINK",IgReceiverFetch:"IG_RECEIVER_FETCH",IgTextPostAppShare:"IG_TEXT_POST_APP_SHARE",FbFeedShare:"FB_FEED_SHARE",FbStoryReply:"FB_STORY_REPLY",FbStoryShare:"FB_STORY_SHARE",FbStoryMention:"FB_STORY_MENTION",FbFeedVideoShare:"FB_FEED_VIDEO_SHARE",FbGamingCustomUpdate:"FB_GAMING_CUSTOM_UPDATE",FbProducerStoryReply:"FB_PRODUCER_STORY_REPLY",FbEvent:"FB_EVENT",FbFeedPostPrivateReply:"FB_FEED_POST_PRIVATE_REPLY",FbShort:"FB_SHORT",FbCommentMentionShare:"FB_COMMENT_MENTION_SHARE",FbPostMention:"FB_POST_MENTION",FbFeedPostReactionReply:"FB_FEED_POST_REACTION_REPLY",MsgExternalLinkShare:"MSG_EXTERNAL_LINK_SHARE",MsgP2PPayment:"MSG_P2P_PAYMENT",MsgOpgP2PPayment:"MSG_OPG_P2P_PAYMENT",MsgLocationSharingDeprecated:"MSG_LOCATION_SHARING_DEPRECATED",MsgLocationSharingV2:"MSG_LOCATION_SHARING_V2",MsgReceiverFetch:"MSG_RECEIVER_FETCH",MsgIgMediaShare:"MSG_IG_MEDIA_SHARE",MsgGenAiSearchPluginResponse:"MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE",MsgReelsList:"MSG_REELS_LIST",MsgContact:"MSG_CONTACT",MsgFile:"MSG_FILE",MsgAiContact:"MSG_AI_CONTACT",MsgMemoriesShare:"MSG_MEMORIES_SHARE",MsgEarlyAccessFbShare:"MSG_EARLY_ACCESS_FB_SHARE",MsgSharedAlbum:"MSG_SHARED_ALBUM",MsgPhoneNumber:"MSG_PHONE_NUMBER",MsgReceiverFetchFallback:"MSG_RECEIVER_FETCH_FALLBACK",MsgAiBotSearchResult:"MSG_AI_BOT_SEARCH_RESULT",MsgGenAiSubscription:"MSG_GEN_AI_SUBSCRIPTION",MsgGenAiReminder:"MSG_GEN_AI_REMINDER",MsgGenAiTask:"MSG_GEN_AI_TASK",MsgGenAi_1PSearchResult:"MSG_GEN_AI_1P_SEARCH_RESULT",MsgGenAiMemuOnboardingResponse:"MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE",MsgGenAiRichResponse:"MSG_GEN_AI_RICH_RESPONSE",RtcAudioCall:"RTC_AUDIO_CALL",RtcVideoCall:"RTC_VIDEO_CALL",RtcMissedAudioCall:"RTC_MISSED_AUDIO_CALL",RtcMissedVideoCall:"RTC_MISSED_VIDEO_CALL",RtcGroupAudioCall:"RTC_GROUP_AUDIO_CALL",RtcGroupVideoCall:"RTC_GROUP_VIDEO_CALL",RtcMissedGroupAudioCall:"RTC_MISSED_GROUP_AUDIO_CALL",RtcMissedGroupVideoCall:"RTC_MISSED_GROUP_VIDEO_CALL",RtcOngoingVideoCall:"RTC_ONGOING_VIDEO_CALL",RtcOngoingAudioCall:"RTC_ONGOING_AUDIO_CALL",LiveLocation:"LIVE_LOCATION",OcAvatarStaticSticker:"OC_AVATAR_STATIC_STICKER"}),ta=a({XmaWebUrl:"XMA_WEB_URL",XmaOpenNative:"XMA_OPEN_NATIVE",XmaMsgExternalLinkShare:"XMA_MSG_EXTERNAL_LINK_SHARE",XmaGenAiSearchPluginResponseSources:"XMA_GEN_AI_SEARCH_PLUGIN_RESPONSE_SOURCES",XmaSharedAlbumViewer:"XMA_SHARED_ALBUM_VIEWER",XmaMetaAiSingleSubscription:"XMA_META_AI_SINGLE_SUBSCRIPTION",XmaMetaAiSubscriptions:"XMA_META_AI_SUBSCRIPTIONS",XmaMetaAiReminders:"XMA_META_AI_REMINDERS",XmaMetaAiTask:"XMA_META_AI_TASK",XmaGamePlay:"XMA_GAME_PLAY",ViewSingleAiTask:"VIEW_SINGLE_AI_TASK",ViewAllAiTasks:"VIEW_ALL_AI_TASKS",XmaMetaAiLocation:"XMA_META_AI_LOCATION",XmaMetaAiLookupEntity:"XMA_META_AI_LOOKUP_ENTITY",XmaP2POpgTransfer:"XMA_P2P_OPG_TRANSFER",MarketplaceXmaCallFunction:"MARKETPLACE_XMA_CALL_FUNCTION",XmaMetaAiDigestSeeSummary:"XMA_META_AI_DIGEST_SEE_SUMMARY"}),ua=a({Album:"ALBUM",Clips:"CLIPS",Video:"VIDEO"}),va=a({None:"NONE",VodVideo:"VOD_VIDEO",LiveVideo:"LIVE_VIDEO",ShortsVideo:"SHORTS_VIDEO"}),wa=a({Default:"DEFAULT",ThreadsIcon:"THREADS_ICON",FacebookIcon:"FACEBOOK_ICON",ExternalLinkIcon:"EXTERNAL_LINK_ICON",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",OculusIcon:"OCULUS_ICON",MetaAiIcon:"META_AI_ICON",MetaHorizonIcon:"META_HORIZON_ICON"}),xa=a({Default:"DEFAULT"}),ya=a({None:"NONE",Collage:"COLLAGE",Photo:"PHOTO",Video:"VIDEO",MultiPhoto:"MULTI_PHOTO",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",ReelsIcon:"REELS_ICON",Live:"LIVE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS",Blur:"BLUR",Pill:"PILL"}),za=a({Default:"DEFAULT",P2PPreviewImageWithTextOverlay:"P2P_PREVIEW_IMAGE_WITH_TEXT_OVERLAY",Playable:"PLAYABLE",AutoPlayable:"AUTO_PLAYABLE",BlurredImage:"BLURRED_IMAGE",BlurredPlayable:"BLURRED_PLAYABLE",InformTreatmentWithLabel:"INFORM_TREATMENT_WITH_LABEL",InformTreatmentWithWarningScreen:"INFORM_TREATMENT_WITH_WARNING_SCREEN",YoutubePlayer:"YOUTUBE_PLAYER",ImageWithPlayButton:"IMAGE_WITH_PLAY_BUTTON",Placeholder:"PLACEHOLDER",AutoPlayableWithAspectRatio:"AUTO_PLAYABLE_WITH_ASPECT_RATIO"}),Aa=a({Default:"DEFAULT",Rounded:"ROUNDED",BlurredCircle:"BLURRED_CIRCLE",TemplateAsset:"TEMPLATE_ASSET",DefaultWithGradient:"DEFAULT_WITH_GRADIENT"}),Ba=a({MediaLabel:"MEDIA_LABEL",Misinformation:"MISINFORMATION",PostCover:"POST_COVER",PostLabel:"POST_LABEL",Private:"PRIVATE",Sensitive:"SENSITIVE",WarningScreens:"WARNING_SCREENS"}),Ca=a({None:"NONE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS"}),Da=a({None:"NONE",Fb:"FB",FbAlwaysWhite:"FB_ALWAYS_WHITE",DotsThreeHorizontal:"DOTS_THREE_HORIZONTAL",ChevronDown:"CHEVRON_DOWN",FbInfoSmall:"FB_INFO_SMALL"}),Ea=a({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),Fa=a({Missed:"MISSED",Ended:"ENDED",Started:"STARTED"}),Ga=a({Video:"VIDEO",Audio:"AUDIO"}),Ha=a({Weekly:"WEEKLY",Daily:"DAILY"}),Ia=a({Paypal:"PAYPAL",Venmo:"VENMO"}),Ja=a({Payment:"PAYMENT",Request:"REQUEST"}),Ka=a({Default:"DEFAULT",Overlay:"OVERLAY"}),La=a({Started:"STARTED",Ended:"ENDED",Active:"ACTIVE",Expired:"EXPIRED"}),Ma=a({Keyword:"KEYWORD",Method:"METHOD",Str:"STR",Number:"NUMBER",Comment:"COMMENT",Default:"DEFAULT"}),Na=a({Square:"SQUARE",Circle:"CIRCLE"});a=a({Chevron:"CHEVRON"});f.MpsQueryCaller=c;f.MpsMessageRangeQueryDirection=d;f.MpsBackupOperation=e;f.MpsBackupContentType=b;f.MpsMessageTag=g;f.MpsUploadType=h;f.MpsMessageBackupSource=i;f.MpsServerMessageUploadStatus=j;f.MpsServerAttachmentUploadStatus=k;f.MebSplitDatabaseExecutionType=l;f.AiBotEmbodimentTrigger=m;f.XmsgGenAiMessageType=n;f.GenAiUnifiedResponseSectionType=o;f.GenAiCodeBlockType=p;f.GenAiImageAssetQueryStatus=q;f.GenAiMapQueryStatus=r;f.GenAiOrchestratorSearchEngine=s;f.GenAiSearchPlannerStepStatus=t;f.GenAiMediaShape=u;f.GenAiMediaHorizontalAlignment=v;f.GenAiMediaVerticalAlignment=w;f.GenAiFooterActionType=x;f.GenAiDividerType=y;f.GenAiThreadSurfingEntityType=z;f.GenAiThreadSurfingActionType=A;f.XmsgStreamStatusType=B;f.XmsgPowerUpStyle=C;f.XmsgGenAiBotSubscriptionProductType=D;f.XmsgGenAiBotResponseProductType=E;f.XmsgaiBotResponseImagineSource=F;f.XmsgMemoriesTemplateType=G;f.XmsgaiProduct=H;f.XmsgContentBrandingOption=I;f.XmsgaiInvocationOptions=J;f.XmsgSuggestedModerationActionType=K;f.XmsgHighlightsTabMoment=L;f.XmsgHighlightsTabReplySourceType=M;f.XmsgMustacheCtaType=N;f.XmsgInlineEntityType=O;f.XmsgNoteMessageType=P;f.XmsgNoteModelType=Q;f.XmsgaiLookupEntityType=R;f.XmsgaiLookupActionType=S;f.XmsgTranscriptionStatus=T;f.XmsgImageGlyphType=U;f.XmsgOculusMediaType=V;f.XmsgMessageRequestStatus=W;f.ClientInstructionType=X;f.XmsgSpectraActionType=Y;f.XmsgSpectraActionSource=Z;f.XmsgSpectraTakeDownActionType=$;f.XmsgMarketplaceSmartRepliesTriggerType=aa;f.XmsgMarketplaceLightweightReplyType=ba;f.XmsgMessageSendProductType=ca;f.XmsgStoryReplyType=da;f.GenAiContextInjectionType=ea;f.GenAiPromptType=fa;f.XmsgFeatureTags=ga;f.XmsgMessageStreamingProductType=ha;f.Xmsge2EeGenAiEncryptedImageProductType=ia;f.Xmsge2EeGenAiEncryptedVideoProductType=ja;f.XmsgMsgrXmaActionType=ka;f.XmsgMsgrReceiverFetchContentType=la;f.XmsgMsgrReceiverFetchXmaLayoutType=ma;f.XmsgReportedMessageType=na;f.XmsgStoryOverlayPollStyle=oa;f.XmsgStoryOverlayTagType=pa;f.XmsgXmaLayoutType=qa;f.XmsgXmaVStackLayoutHeaderAlignmentType=ra;f.XmsgXmaContentType=sa;f.XmsgctaType=ta;f.XmsgXmaContentAttributionIcon=ua;f.XmsgXmaOverlayContentType=va;f.XmsgXmaSubtitleDecorationType=wa;f.XmsgXmaVerifiedType=xa;f.XmsgXmaImageDecorationType=ya;f.XmsgXmaCustomPreviewType=za;f.XmsgXmaMessagingAttachmentFaviconStyle=Aa;f.XmsgXmaGatingType=Ba;f.XmsgXmaYoutubePreviewMediaType=Ca;f.XmsgXmaCtaIconType=Da;f.XmsgMemoriesE2EeSendTemplateType=Ea;f.XmsgXmaRtcCallState=Fa;f.XmsgXmaRtcCallType=Ga;f.XmsgXmaSubscriptionRecurrenceType=Ha;f.XmsgXmaOpgP2pPaymentMethodType=Ia;f.XmsgXmaOpgP2pTransactionType=Ja;f.XmsgXmaStandardGenericBodyLayoutType=Ka;f.XmsgXmaLiveLocationSessionState=La;f.XmsgXmaCodeBlockType=Ma;f.XmsgXmaCompactGenericTemplatePreviewStyle=Na;f.XmsgXmaCompactGenericTemplateAccessoryType=a}),66);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/^[0-9A-Za-z-]{1,32}$/;function a(a){return a}function b(a){return g.test(a)?a:null}f.toStanzaId=a;f.validateCallId=b}),66);
__d("MpsTypes",["$InternalEnum","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function c(a){return a}function e(a){return a}function f(a){return d("WAStanzaUtils").toStanzaId(a)}function h(a){return a}function i(a){return a}var j=b("$InternalEnum").Mirrored(["Send","Receive"]),k=b("$InternalEnum").Mirrored(["InProgress","Completed"]);b=b("$InternalEnum")({Unknown:0,Noop:1,UpsertTopLevel:2,UpsertSupplemental:3,DeleteTopLevel:4,DeleteTopLevelWithPlaceholder:5,Preprocess:6,DeleteSupplemental:7,DeleteThread:8});g.toBytes=a;g.toTimestamp=c;g.toMessageId=e;g.messageIdToStanzaId=f;g.toThreadId=h;g.toSupplementalKey=i;g.InsertionSource=j;g.MawDBMigrationState=k;g.ActionType=b}),98);
__d("WAFrankingTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}f.castToFrankingTag=a;f.castToFrankingKey=b;f.castToReportingTag=c}),66);
__d("EBMinosProcessMessages",["Base64Utils","EBMinosLogger","EBMinosTypes","MSGDataclassTypes.flow","MpsTypes","WAFrankingTypes","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;function p(a){a=a!=null?a:{};var b=a.actor_token,c=a.encrypted_protobuf,e=a.franking_tag,f=a.mek_fbid,g=a.mek_id,i=a.message_encryption_version,j=a.protobuf_timestamp,k=a.reporting_tag,l=a.transport_sender_message_signature;a=a.transport_sender_signing_pk;i==null&&d("EBMinosLogger").minosLogger.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["missing message_encryption_version on restore"])));return b==null||c==null||i==null||f==null||g==null||j==null||l==null||a==null?d("WAResultOrError").makeError("top-level-missing-fields"):d("WAResultOrError").makeResult({actorToken:d("EBMinosTypes").unsafeCastToUserFbId(b),encryptedProtobuf:d("EBMinosTypes").unsafeCastToEncryptedMessage(d("Base64Utils").toArrayBuffer(c)),frankingTag:e!=null?d("WAFrankingTypes").castToFrankingTag(new Uint8Array(d("Base64Utils").toArrayBuffer(e))):null,mekFbid:d("EBMinosTypes").unsafeCastToMekFbId(f),mekId:d("EBMinosTypes").unsafeCastToMekId(d("Base64Utils").toArrayBuffer(g)),messageEncryptionVersion:d("EBMinosTypes").unsafeCastToMessageEncryptionVersion(i),protobufTimestamp:d("MpsTypes").toTimestamp(parseInt(j,10)),reportingTag:k!=null?d("WAFrankingTypes").castToReportingTag(new Uint8Array(d("Base64Utils").toArrayBuffer(k))):null,transportSenderMessageSignature:d("EBMinosTypes").unsafeCastToEncryptedMessageSignature(d("Base64Utils").toArrayBuffer(l)),transportSenderSigningPk:d("EBMinosTypes").unsafeCastToTransportSigningPK(d("Base64Utils").toArrayBuffer(a))})}function q(a){switch(a){case"PHOTO":return d("MSGDataclassTypes.flow").MpsMessageTag.Photo;case"PERMANENT":return d("MSGDataclassTypes.flow").MpsMessageTag.Permanent;case"EPHEMERAL":return d("MSGDataclassTypes.flow").MpsMessageTag.Ephemeral;case"VIDEO":return d("MSGDataclassTypes.flow").MpsMessageTag.Video;case"GIF":return d("MSGDataclassTypes.flow").MpsMessageTag.Gif;case"AUDIO":return d("MSGDataclassTypes.flow").MpsMessageTag.Audio;case"FILE":return d("MSGDataclassTypes.flow").MpsMessageTag.File;case"RAVEN":return d("MSGDataclassTypes.flow").MpsMessageTag.Raven;case"UNREAD_RAVEN":return d("MSGDataclassTypes.flow").MpsMessageTag.UnreadRaven;case"SHARE_IG_MEDIA":return d("MSGDataclassTypes.flow").MpsMessageTag.ShareIgMedia;case"SHARE_LINK":return d("MSGDataclassTypes.flow").MpsMessageTag.ShareLink;case"SHARE_IG_CLIPS":return d("MSGDataclassTypes.flow").MpsMessageTag.ShareIgClips;case"SHH":return d("MSGDataclassTypes.flow").MpsMessageTag.Shh;case"STORY_REPLY":return d("MSGDataclassTypes.flow").MpsMessageTag.StoryReply;case"DISAPPEARING_MESSAGE":return d("MSGDataclassTypes.flow").MpsMessageTag.DisappearingMessage;case"RAVEN_SEEN":return d("MSGDataclassTypes.flow").MpsMessageTag.RavenSeen;case"RAVEN_REPLAYED":return d("MSGDataclassTypes.flow").MpsMessageTag.RavenReplayed;case"RAVEN_READ_ONCE":return d("MSGDataclassTypes.flow").MpsMessageTag.RavenReadOnce;case"RAVEN_REPLAYABLE":return d("MSGDataclassTypes.flow").MpsMessageTag.RavenReplayable;case"RAVEN_PERMANENT":return d("MSGDataclassTypes.flow").MpsMessageTag.RavenPermanent;case"ACTION_LOG":return d("MSGDataclassTypes.flow").MpsMessageTag.ActionLog;default:return null}}function r(a){if(a==null)return[];var b=[];for(a of a){var c=q(a);c==null?d("EBMinosLogger").minosLogger.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: protobuf_stanzas is null"]))):b.push(c)}return b}function s(a){a=a!=null?a:{};var b=a.actor_token,c=a.encrypted_protobuf,e=a.franking_tag,f=a.mek_fbid,g=a.mek_id,h=a.message_encryption_version,i=a.protobuf_timestamp,k=a.reporting_tag,l=a.supplemental_key,m=a.supplemental_otid,n=a.transport_sender_message_signature;a=a.transport_sender_signing_pk;h==null&&d("EBMinosLogger").minosLogger.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["missing message_encryption_version on restore"])));return b==null||c==null||h==null||f==null||g==null||i==null||n==null||a==null||l==null||m==null?null:{actorToken:d("EBMinosTypes").unsafeCastToUserFbId(b),encryptedProtobuf:d("EBMinosTypes").unsafeCastToEncryptedMessage(d("Base64Utils").toArrayBuffer(c)),frankingTag:e!=null?d("WAFrankingTypes").castToFrankingTag(new Uint8Array(d("Base64Utils").toArrayBuffer(e))):null,mekFbid:d("EBMinosTypes").unsafeCastToMekFbId(f),mekId:d("EBMinosTypes").unsafeCastToMekId(d("Base64Utils").toArrayBuffer(g)),messageEncryptionVersion:d("EBMinosTypes").unsafeCastToMessageEncryptionVersion(h),protobufTimestamp:d("MpsTypes").toTimestamp(parseInt(i,10)),reportingTag:k!=null?d("WAFrankingTypes").castToReportingTag(new Uint8Array(d("Base64Utils").toArrayBuffer(k))):null,supplementalKey:d("MpsTypes").toSupplementalKey(l),supplementalOtid:d("MpsTypes").toMessageId(m),transportSenderMessageSignature:d("EBMinosTypes").unsafeCastToEncryptedMessageSignature(d("Base64Utils").toArrayBuffer(n)),transportSenderSigningPk:d("EBMinosTypes").unsafeCastToTransportSigningPK(d("Base64Utils").toArrayBuffer(a))}}function a(a){return a==null?[]:a.map(function(a){var b=a.echo_document,c=a.otid;a=a.protobuf_stanzas;if(c==null){d("EBMinosLogger").minosLogger.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: otid is null"])));return null}if(a==null){b==null&&d("EBMinosLogger").minosLogger.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: protobuf_stanzas and echo_documents are null"])));return null}b=a.message_tags;var e=a.supplemental_protobufs_v2;e=e===void 0?[]:e;a=a.top_level_protobuf_v2;if(a==null)return null;a=p(a);if(!a.success){d("EBMinosLogger").minosLogger.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: top_level_protobuf_v2 conversion failed"])));return null}e=e.map(function(a){var b=a==null?void 0:a.supplemental_key;a=s(a);if(b==null){d("EBMinosLogger").minosLogger.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: minos supplementalKey is null"])));return}if(a==null){d("EBMinosLogger").minosLogger.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["processMinosMessages: minosSupplementalProtobuf is null"])));return}return a}).filter(Boolean);c=d("MpsTypes").toMessageId(c);return{messageTags:r(b),otid:c,supplementalProtobufsV2:e,topLevelProtobufV2:a.value}}).filter(Boolean)}g.convertArrayToMpsMessageTags=r;g.processMinosMessages=a}),98);
__d("EBMinosInterfaceTypes",["EBMinosProcessMessages","EBMinosTypes"],(function(a,b,c,d,e,f,g){"use strict";g.unsafeCastToBase64StringIntToEpochNumber=(a=d("EBMinosTypes")).unsafeCastToBase64StringIntToEpochNumber;g.unsafeCastToEpochHead=a.unsafeCastToEpochHead;g.unsafeCastToEpochSelfSig=a.unsafeCastToEpochSelfSig;g.unsafeCastToMailboxAuthPK=a.unsafeCastToMailboxAuthPK;g.unsafeCastToMailboxEncryptionPK=a.unsafeCastToMailboxEncryptionPK;g.processMinosMessages=d("EBMinosProcessMessages").processMinosMessages;g.unsafeCastToMailboxSigningPK=a.unsafeCastToMailboxSigningPK;g.convertArrayToMpsMessageTags=d("EBMinosProcessMessages").convertArrayToMpsMessageTags;g.unsafeCastToUserFbId=a.unsafeCastToUserFbId;g.unsafeCastToMailboxFbId=a.unsafeCastToMailboxFbId;g.unsafeCastToEpochCreationTime=a.unsafeCastToEpochCreationTime;g.unsafeCastToDecryptedMessage=a.unsafeCastToDecryptedMessage}),98);
__d("EBMinosQplFlow",["QPLUserFlow","Random","gkx","justknobx","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.threadId;return h({annotations:{string:{threadId:a}},event:c("qpl")._(521473369,"2834")})}function b(a){a=a.threadId;return h({annotations:{string:{threadId:a}},event:c("qpl")._(521485893,"2835")})}function h(a){var b=a.annotations;a=a.event;var e=d("Random").uint32();c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b,{bool:babelHelpers["extends"]({},b==null?void 0:b.bool,{minos_mvp_enabled:c("qex")._("208")===!0,occam_only_mailbox_users:c("gkx")("16674"),repl_enabled:c("gkx")("12911"),use_minos_thread_id:!0}),"int":babelHelpers["extends"]({},b==null?void 0:b["int"],{instanceKey:e,retryCount:0})}),instanceKey:e,timeoutInMs:c("justknobx")._("1405")});return j(a,e)}function e(){return h({event:c("qpl")._(521473150,"2143")})}function f(a){a=a.entryPoint;return h({annotations:{string:{entryPoint:a}},event:c("qpl")._(521482880,"16")})}function i(){return h({event:c("qpl")._(521479165,"3055")})}function j(a,b){return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){e&&c("QPLUserFlow").addAnnotations(a,e,{instanceKey:b}),c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},endFailWithError:function(d,e,f){f=babelHelpers["extends"]({},f,{string:babelHelpers["extends"]({},f==null?void 0:f.string,{failReason:e})});c("QPLUserFlow").endFailure(a,d,{annotations:f,instanceKey:b})},endSuccess:function(d){c("QPLUserFlow").endSuccess(a,{annotations:d,instanceKey:b})},getInstanceKey:function(){return b}}}g.startMinosMessageEnqueueQpl=a;g.startMinosMessageUploadQpl=b;g.startMinosWritePublicKeysQpl=e;g.startMinosVerifySingleEpochQpl=f;g.startMinosCreateEpochParamsQpl=i}),98);
__d("EncryptedBackupUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5729");b=d("FalcoLoggerInternal").create("encrypted_backup_upload_success",a);e=b;g["default"]=e}),98);
__d("LSBase64Decode",["Base64Utils","CryptoLogger","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(/-/g,"+").replace(/_/g,"/").replace(/\./g,"=").replace("/,/","=");var b=4-a.length%4;if(b<4)for(var c=0;c<b;c++)a+="=";return a}function a(a){var b=d("CryptoLogger").CryptoLogger("base64decode");try{return a!=null?d("Base64Utils").toArrayBuffer(h(a)):void 0}catch(d){a=c("getErrorSafe")(d);if(a.message==null)return;b.catching(a).mustfix(a.message)}}g.decode=a}),98);
__d("LSBase64Decode.nop",["LSBase64Decode","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return d("LSSynchronousPromise").makeSynchronousPromise(c("LSResult")(d("LSBase64Decode").decode(e)))};a.__nop_name__="LSBase64Decode";g["default"]=a}),98);
__d("LSIsMobileClient",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return c[0]=!1,b.resolve(c)}a.__sproc_name__="LSEncryptedBackupsIsMobileClientStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLogMEBUploadSuccessEvent.nop",["Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EncryptedBackupUploadFailureFalcoEvent").__setRef("LSLogMEBUploadSuccessEvent.nop"),j=c("requireDeferred")("EncryptedBackupUploadSuccessFalcoEvent").__setRef("LSLogMEBUploadSuccessEvent.nop");a=function(a,c,d,e,f){if(d!=null){a=f?j.load():i.load();void a.then(function(a){return a.log(function(){return{message_id:d,trace_id:e}})})}return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMEBUploadSuccessEvent";g["default"]=a}),98);
__d("LSDeleteBackupOnClient",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMEBUploadSuccessEvent.nop","LSLogMebClientEvent.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return a[3]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_sproc_start"):c.resolve()},function(d){return a[3]!==void 0?a[4]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_error_message",a[4]):c.resolve():c.resolve()},function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] Beginning execution."),c.i64.neq(void 0,void 0)?(d[9]=["deleteBackupOnClient reason: "," ",c.i64.to_string(void 0)].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",[d[9]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return d[1]="Beginning deleteBackupOnClient stored procedure",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[1]].join("")),d[2]=c.createArray(),void 0!==void 0?d[9]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[1]].join(""),d[2],c.i64.cast([0,4]))},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(168).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.forEach(c.db.table(168).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(169).fetch([[[a[0]]],"fk_secure_encrypted_backups_client_state"]),function(a){return a["delete"]()}):c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.db.table(174).fetch(),function(a){return a["delete"]()})},function(b){return a[1]==="fetch_virtual_device"?c.db.table(178).put({pk:c.i64.cast([0,1]),recoveryCodeStatus:c.i64.cast([0,4])}):c.resolve()},function(e){return a[2]?c.sequence([function(a){return d[9]="Clearing state management backups tables",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[9]].join(""),d[10],c.i64.cast([0,4]))},function(a){return c.forEach(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){var b=a.update;a.item;return b({backupId:void 0})})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.filter(c.db.table(184).fetch(),function(b){return c.i64.eq(b.backupId,a[0])}),function(a){return a["delete"]()}):c.forEach(c.db.table(184).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(196).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.forEach(c.db.table(196).fetch(),function(a){return a["delete"]()})}]):c.resolve()},function(a){return!1===!1?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1851]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.forEach(c.db.table(177).fetch(),function(a){var d=a.item;return c.sequence([function(a){return c.forEach(c.db.table(2).fetch([[[d.pendingBackupTaskId]]]),function(a){return a["delete"]()})},function(a){return c.i64.eq(d.contentType,c.i64.cast([0,1]))?c.nativeOperation(b("LSLogMEBUploadSuccessEvent.nop"),d.uniqueKey,d.lsTraceId,!0):c.resolve()}])})},function(a){return c.count(c.db.table(177).fetch()).then(function(a){return d[9]=a})},function(a){return c.i64.eq(d[9],c.i64.cast([0,0]))?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1852]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1853]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}])}]):c.resolve()},function(e){return a[2]?(d[9]="Clearing data flow backups tables",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[9]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(e){return a[5]?c.resolve(0):a[4]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",a[4]].join("")),d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",a[4],d[9],c.i64.cast([0,3]))):c.resolve()},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(d){return a[3]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_sproc_end"):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeleteBackupOnClientStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs","secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_recovery_code_status","encrypted_backups","encrypted_backups_virtual_devices","encrypted_backups_metadata","pending_backups_context_v2","pending_tasks"];e.exports=a}),null);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.sequence([function(b){return c.forEach(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context"];e.exports=a}),null);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(233).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({success:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskCompletionStoredProcedure";a.__tables__=["mailbox_task_completion_api_tasks"];e.exports=a}),null);
__d("LSQplMarkEnd.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);i?c("QPLUserFlow").endSuccess(a,{instanceKey:e}):c("QPLUserFlow").endFailure(a,"failure",{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplMarkEnd";g["default"]=a}),98);
__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveBlindedTokensStoredProcedure";a.__tables__=["secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,FB_COMMENT_SHARE:2012,FB_POST_MENTION:2013,FB_PROFILE_DIRECTORY_ITEM:2014,FB_FEED_POST_REACTION_REPLY:2015,FB_QUICKSNAP_REPLY:2016,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,MSG_PROMPT_REPLY:3029,MSG_GEN_AI_TASK:3030,MSG_GEN_AI_RICH_RESPONSE:3040,MSG_RECEIVER_FETCH_ENT_DELETED:3041,MSG_GEN_AI_APP_DOWNLOAD_LINK:3042,MSG_GEN_AI_ENTITY:3043,MSG_OPG_P2P_PAYMENT:3044,MSG_MARKETPLACE:3045,MSG_MUSIC_STICKER:3046,MSG_META_AI_DIGEST:3047,MSG_PHONE_NUMBER:3048,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,RTC_ONGOING_AUDIO_CALL:4008,RTC_ONGOING_VIDEO_CALL:4009,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});f["default"]=a}),66);
__d("MAWChatJid",["FBLogger","I64","MAWJids","MAWMiActMappingTableAPI","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,d("MAWJids").convertChatJidToIntJid(b)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid chatJid: "+b);return Promise.reject(a)}}function a(a,b,d){return i(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}async function b(a,b){b=await i(a,b);return b==null?void 0:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}function e(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,b).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid integer jid: "+(h||(h=d("I64"))).to_string(b));return Promise.reject(a)}}g.toThreadKeyMaybe=i;g.toThreadKey=a;g.toThreadMaybe=b;g.toThreadKeyMaybeForChatJidInteger=e}),98);
__d("MAWDbChatId__UNSAFE_DO_NOT_USE",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).of_float(a)}function b(a,b){return a+"_"+b}g.convertToChatId64__DEPRECATED=a;g.craftAltIndex__DEPRECATED=b}),98);
__d("WADirectPath",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h="0_0_0_.enc";function a(a){return a}function b(a){if(a==null)return d("WAResultOrError").makeError("direct-path-undefined");if(a==="")return d("WAResultOrError").makeError("direct-path-empty");return a.includes(h)?d("WAResultOrError").makeError("direct-path-corrupted"):d("WAResultOrError").makeResult(a)}g.unsafeCastToDirectPath=a;g.validateDirectPath=b}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegMarkers",[],(function(a,b,c,d,e,f){"use strict";a=255;b=0;c={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1};d=[b,c.RST0,c.RST1,c.RST2,c.RST3,c.RST4,c.RST5,c.RST6,c.RST7];f.MARKER_PREFIX=a;f.MARKER_ESCAPE_BYTE=b;f.MARKERS=c;f.SOS_STREAM=d}),66);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["starting"])));if(!n(a)){m.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"])));return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""])),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"])));return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"])));return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(a of a)b.push(a-c),c=a;return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){"use strict";d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video","sticker-pack","thumbnail-sticker-pack","music-artwork","group-history"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":case"sticker-pack":case"thumbnail-sticker-pack":case"music-artwork":case"group-history":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":case"ReceiverFetch":case"Raven":case"GroupPollCreate":case"GroupPollUpdate":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("WABaseProto",[],(function(a,b,c,d,e,f){"use strict";a="__tu";f.TAGGED_UNION_TAG=a}),66);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long'])),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int'])),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range'])),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""])),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,h=b.oneofToFields,i=b.fieldToOneof,j=b.reservedTags,k=b.reservedFields,m=void 0;b=function(){var b=c[o],n=f[o],p=a[b],q=n&d("WAProtoConst").TYPE_MASK,r=t[q],u=(n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(n&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array'])),s(p)).color("red"),m={path:[b],error:"repeated field must be array"};else{q=g[o];for(n=0;n<p.length&&!m;n++)m=r(p[n],q),m&&m.path.push(b+"["+n+"]")}else if(u&&p!=null){n=g[o];q=n[0];u=n[1];n=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[n];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+n);for(n of p){var x=n[0],y=n[1];m=v(x,q);if(m){m.path.push(b+"'s key ["+x+"]");return{v:m}}m=w(y,u);if(m){m.path.push(b+"["+x+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[o]);m&&m.path.push(b);y=i[b];y&&y.forEach(function(c){var d=h[c].filter(function(a){return a!==b});d.forEach(function(d){typeof a[d]!=="undefined"&&(m={path:[c],error:"oneof '"+c+"' has fields '"+b+"' and '"+d+"' set"})})});j[e[o]]&&(m={path:[b],error:"tag "+e[o]+" is reserved"});k[b]&&(m={path:[b],error:"field "+b+" is reserved"})}};var n;for(var o=0;o<c.length&&!m;o++){n=b();if(n)return n.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABaseProto","WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function f(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e,f){var g=d("WAProtoCompile").compileSpec(a),k=g.names,l=g.fields,m=g.types,o=g.meta,p=g.oneofToFields,q=g.fieldToOneof,r=g.reservedTags,s=g.reservedFields;g=a.internalDefaults;var t=c||babelHelpers["extends"]({},g)||{};t.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(g=0;g<k.length;g++)m[g]&d("WAProtoConst").FLAGS.REPEATED?t[k[g]]=[]:m[g]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(t[k[g]]=new Map());var u=0,v=l.length>0,w=l[0];c=function(){var a=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow),c=a&7;a=a>>>3;if(v&&a!==w){var g=u;do++u===l.length&&(u=0),w=l[u];while(a!==w&&u!==g)}if(v&&a===w){var x=k[u];g=m[u];h(c,g,x);var y=g&d("WAProtoConst").TYPE_MASK,z=o[u];if(g&d("WAProtoConst").FLAGS.PACKED){var A=b.readVarInt(d("WABinary").parseUint64OrThrow);A=b.readBinary(A);while(A.size()){var B=i(x,y,A);(y!==d("WAProtoConst").TYPES.ENUM||z[B]||(z.cast==null?void 0:z.cast(B))!==void 0)&&t[x].push(B)}}else if(y===d("WAProtoConst").TYPES.MESSAGE){B=b.readVarInt(d("WABinary").parseUint64OrThrow);A=b.readBinary(B);if(g&d("WAProtoConst").FLAGS.REPEATED)t[x].push(n(z,A,void 0,e,f));else{B=t[x];t[x]=n(z,A,B,e,f)}}else if(y===d("WAProtoConst").TYPES.MAP){A=b.readVarInt(d("WABinary").parseUint64OrThrow);B=b.readBinary(A);var C,D;for(A=0;A<o[u].length;A++){var E=j(B,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),F=E&7;E=E>>>3;var G=void 0;switch(F){case d("WAProtoConst").ENC.VARINT:G=B.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:G=B.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:F=z[A];if(F===d("WAProtoConst").TYPES.BYTES||F===d("WAProtoConst").TYPES.STRING)G=i(x,F,B);else{var H=B.readVarInt(d("WABinary").parseUint64OrThrow);H=B.readBinary(H);G=n(F,H,void 0,e,f)}break;case d("WAProtoConst").ENC.BIT32:G=B.readBinary(4);break}E===1?C=G:D=G}t[x].set(C,D)}else{F=i(x,y,b);(y!==d("WAProtoConst").TYPES.ENUM||z[F]||(z.cast==null?void 0:z.cast(F))!==void 0)&&(g&d("WAProtoConst").FLAGS.REPEATED?t[x].push(F):t[x]=F)}H=q[x];H&&typeof t[x]!=="undefined"&&H.forEach(function(a){var b=p[a].filter(function(a){return a!==x});b.forEach(function(a){delete t[a]});if(f){t[a]=(b={type:x,value:t[x]},b[d("WABaseProto").TAGGED_UNION_TAG]=!0,b);delete t[x]}});(r[a]||s[x])&&delete t[x]}else{t.$$unknownFieldCount++;if(e){t.$$unsafeUnknownFields||(t.$$unsafeUnknownFields={});var I;switch(c){case d("WAProtoConst").ENC.VARINT:I=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:I=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:I=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:I=b.readBinary(4);break}t.$$unsafeUnknownFields[a]=I}else c===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):c===d("WAProtoConst").ENC.BIT64?b.advance(8):c===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):c===d("WAProtoConst").ENC.BIT32&&b.advance(4)}};while(b.size())c();return t}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithTaggedUnions=b;g.decodeProtobufWithUnknowns=e;g.getUnknownFields=f;g.assertEncType=h;g.readValue=i;g.readBoundVarInt=j}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArrayView()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(o of l){r=o[0];var s=o[1];a.writeVarInt(k);var t=q[0],u=q[1],v=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u,w=m[t],x=m[v];if(w==null||x==null)throw new Error("Invalid encoder for map key/value");var y=new(d("WABinary").Binary)(),z=1*8|d("WAProtoUtils").typeToEncType(t);y.writeVarInt(z);w(y,r,t);z=2*8|d("WAProtoUtils").typeToEncType(v);y.writeVarInt(z);x(y,s,u);a.writeVarInt(y.size());a.writeBinary(y)}else{a.writeVarInt(k);w=m[p];w(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("WAMediaUtils",["WACryptoDependencies","WADirectPath","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["$$unknownFieldCount","directPath","objectId"],i=["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"];function j(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function k(a){return a}function a(){return j()}function l(a){return a}function m(a){return a}function b(a){return a}function e(a){return a}function f(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,k=a.serverMediaType,l=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;f=d("WADirectPath").validateDirectPath(f);return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f.success?f.value:null,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(g),sidecar:h&&m(h),objectId:i,fbid:j,downloadableThumbnail:l==null?void 0:{directPath:l.directPath,fileEncSha256:l.fileEncSha256,fileSha256:l.fileSha256,mediaKey:l.mediaKey,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(l.mediaKeyTimestamp),objectId:l.objectId},serverMediaType:k,filename:n,progressiveJpegDetails:o&&u(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function n(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArrayView()}function o(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function p(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArrayView()}function q(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArrayView()}function r(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function s(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function t(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,h);b=d("WADirectPath").validateDirectPath(b);return babelHelpers["extends"]({},e,{directPath:b.success?b.value:null,objectId:c,mediaKey:a.mediaKey&&k(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function u(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function v(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,j=a.size,m=a.lastDownloadAttemptTimestamp,n=a.sidecar,o=a.directPath,p=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var q=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(q={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});h=d("WADirectPath").validateDirectPath(o);return babelHelpers["extends"]({},a,{objectId:p,directPath:h.success?h.value:void 0,sidecar:n,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&k(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&l(f),progressiveJpegDetails:q,downloadableThumbnail:g&&t(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(j),lastDownloadAttemptTimestamp:m==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(m))})}function w(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=a.serverMediaType;if(f==null)return d("WAResultOrError").makeError("media-entry-invalid-media-key");else if(b==null)return d("WAResultOrError").makeError("media-entry-invalid-direct-path");else if(c==null)return d("WAResultOrError").makeError("media-entry-invalid-file-enc-sha256");else if(e==null)return d("WAResultOrError").makeError("media-entry-invalid-file-sha256");else if(g==null)return d("WAResultOrError").makeError("media-entry-invalid-server-media-type");return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f,serverMediaType:g}))}function x(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=[];f==null?g.push("media-entry-invalid-media-key"):b==null?g.push("media-entry-invalid-direct-path"):c==null?g.push("media-entry-invalid-file-enc-sha256"):e==null&&g.push("media-entry-invalid-file-sha256");return f!=null&&b!=null&&c!=null&&e!=null?d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f})):d("WAResultOrError").makeError(g)}function y(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b="application/octet-stream";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var z=function(){return"TransformStream"in self};g.createMediaKey=j;g.castToMediaKey=k;g.createUploadToken=a;g.castToUploadToken=l;g.castToStreamingSidecar=m;g.stringToDeliveryObjectId=b;g.stringToBackupEntFbid=e;g.mediaEntryDataToRawData=f;g.rawDataToMediaEntry=n;g.encodeMediaEntryForUpload=o;g.encodeMediaEntryWithUpdatedPath=p;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=q;g.encodeMediaEntryWithUpdatedFbid=r;g.encodeMediaEntryWithUpdatedObjectId=s;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=t;g.decodeMediaEntryData=v;g.validateDecodedMediaEntryForDownload=w;g.validateDownloadableThumbnailForDownload=x;g.getMimeTypeFromServerMediaType=y;g.isTransformStreamSupported=z}),98);
__d("MAWDbMedia",["I64","MAWMsgType","WAMediaUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i={DOCUMENT_FILE:(i=d("MAWMsgType")).MSG_TYPE.DOCUMENT_FILE,GIF:i.MSG_TYPE.GIF,IMAGE:i.MSG_TYPE.IMAGE,PTT:i.MSG_TYPE.PTT,STICKER:i.MSG_TYPE.STICKER,VIDEO:i.MSG_TYPE.VIDEO};function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).of_float(a)}function e(a){return(h||(h=d("I64"))).to_float(a)}function f(a,b){a=a.mediaEntries.get(b);if(a==null)return d("WAResultOrError").makeError("missing-media-entry");b=d("WAMediaUtils").decodeMediaEntryData(a);a=b.serverMediaType;return a==null?d("WAResultOrError").makeError("missing-server-media-type"):d("WAResultOrError").makeResult(a)}g.MEDIA_TYPE=i;g.convertNumberToMediaId=a;g.convertToMediaId64=b;g.convertMediaIdToMediaId64=c;g.convertMediaId64ToMediaId=e;g.getServerMediaType=f}),98);
__d("MAWHexUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("FBLogger")("messenger_web").mustfixThrow("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("WAMsg",["WAAssertUnreachable","WAJids","WAMsgType","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.author,c=a.chat;a=a.externalId;return c+"_"+a+"_"+b}function h(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return{author:a.id.author,deleteTs:a.deleteTs,ephemeralSetting:a.ephemeralSetting,expirationTs:a.expirationTs,externalId:a.id.externalId,sentTs:a.sentTs,serverTs:a.serverTs,ts:a.ts};case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return{author:a.id.author,externalId:a.id.externalId,sentTs:a.sentTs,ts:a.ts};default:a.type;return null}}function b(a){var b=h(a);if(b==null)return null;switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return babelHelpers["extends"]({},b,{msgContent:a.msgContent,type:d("WAMsgType").MSG_TYPE.TEXT});case d("WAMsgType").MSG_TYPE.IMAGE:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.IMAGE});case d("WAMsgType").MSG_TYPE.VIDEO:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.VIDEO});case d("WAMsgType").MSG_TYPE.PTT:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.STICKER:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.STICKER});case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.RECEIVER_FETCH});case d("WAMsgType").MSG_TYPE.GIF:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL});case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.UNAVAILABLE});case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.EDIT_ACTION:return null;default:return c("WAAssertUnreachable")(a.type)}}function e(a){if(d("WAJids").isAuthorSystem(a.author))throw c("err")("Cannot send @system messages");else return{author:a.author,chat:a.chat,externalId:a.externalId}}g.craftWAMsgIdString=a;g.asQuotedMsg=b;g.asProtocolMsgId=e}),98);
__d("MAWDbMsg",["FBLogger","I64","MAWDbChatId__UNSAFE_DO_NOT_USE","MAWHexUtils","MAWMsgType","WAMsg"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i=[(i=d("MAWMsgType")).MSG_TYPE.REVOKED,i.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,i.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,i.MSG_TYPE.GROUP_INVITE,i.MSG_TYPE.SK_DISTRIBUTION,i.MSG_TYPE.RAVEN_ACTION];var j=0,k=Number.MAX_SAFE_INTEGER;function a(a){return a}function b(a){return a}function e(a){return y(a)?a:null}function f(a){return a}function l(a){return a}var m="futureproof",n="futureproof_spam",o="spam",p="toBeRead",q="e2ee_admin_msg",r="cutover_admin_msg";function s(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function t(a,b,c){a=d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m";return a+"_"+c.externalId}function u(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_um"}function v(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_r"}function w(a,b,c){c=c!=null?c:d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4));return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+c+")}"}function x(a){a=a.split("_");return a.length>=3&&a[0]!==""&&a[1]!==""&&a[2]==="m"}function y(a){var b=/^(.*)\..*?$/;b=b.test(a);return x(a)||b}function z(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,p)}function A(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,q)}function B(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,r)}function C(a){if(!x(a))return 0;a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function D(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function E(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function F(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function G(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function H(a){return a.type===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH}function I(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:return!0;case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1;default:c("FBLogger")("messenger_web").mustfix('Invalid msg type for isPhotoOrVideoMediaMsg check: "%s"',a.type);return!1}}function J(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1;default:c("FBLogger")("messenger_web").mustfix('Invalid msg type for isDocumentFileMediaMsg check: "%s"',a.type);return!1}}function K(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function L(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function M(a){return O(a.type)}function N(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function O(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function P(a){return a==="RavenAction"}function Q(a){return a.originalTs!=null?a.originalTs:R(a)}function R(a){return a.serverTs!=null?a.serverTs:a.ts}function S(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return R(a)*1e3}function T(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function U(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}function V(a){return d("WAMsg").craftWAMsgIdString({author:a.author,chat:a.threadJid,externalId:a.externalId})}function W(a){return(h||(h=d("I64"))).to_float(a)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=i;g.MIN_MSG_SORT_ORDER=j;g.MAX_MSG_SORT_ORDER=k;g.toCachedMsgId__UNSAFE_DO_NOT_USE=a;g.toMsgId__UNSAFE_DO_NOT_USE=b;g.toMsgId=e;g.stanzaIdToMsgId=f;g.instamadilloMsgIdToMsgId=l;g.FUTUREPROOF_ALT_INDEX=m;g.FUTUREPROOF_SPAM_ALT_INDEX=n;g.SPAM_ALT_INDEX=o;g.craftMsgId__DEPRECATED=s;g.craftMsgIdV2=t;g.craftUnrenderedMsgId=u;g.craftReactionId=v;g.craftDebugMsgId=w;g.isValidMsgId=y;g.craftToBeReadAltIndex=z;g.craftE2eeAdminMsgAltIndex=A;g.craftCutoverAdminMsgAltIndex=B;g.getInChatMsgIdFromMsgId=C;g.msgIdsInChatLowerBound=D;g.msgIdsInChatUpperBound=E;g.isXMAMsg=F;g.isMediaMsg=G;g.isReceiverFetchStickerMsg=H;g.isPhotoOrVideoMediaMsg=I;g.isDocumentFileMediaMsg=J;g.isContentMsg=K;g.isMsgEligibleForTriggeringEphemeralSyncResponse=L;g.isUnrenderedMsg=M;g.isAdminMsg=N;g.isUnrenderedMsgType=O;g.isRavenActionMsgType=P;g.getOriginalTsFromMsg=Q;g.getCanonicalTsFromMsg=R;g.getSortOrderWithFallback=S;g.getSortOrderFromPrevious=T;g.getMsgContent=U;g.getWAMsgId=V;g.convertMsgRowId64=W}),98);
__d("MAWEphemeralMsgAutoResetSystemId",[],(function(a,b,c,d,e,f){"use strict";a="-111111";b=a;f["default"]=b}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071,j=null,k=0;function l(){var a=j,b=Date.now();if(a==null||n(a)!==n(b)){j=b;k=0;return b}a=b+100*(k+1);var c=p(b),d=p(a);if(c==null||d==null)return b;if(c>d)return b;k++;return a}function m(a){return new Date(a).getTime()>0}function n(a){return Math.floor(a/100)*100}function o(a){return Math.floor(c("Random").random()*a)}function a(){var a=l();return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(h.of_float(o(i)),h.of_float(i))),h.max_int)))}function p(a){return!m(a)?null:Math.floor(Number(a)%1e5/100)}g.generateExternalId=a;g.getThreeMostSignificantDigitsForSortOrderTimestamp=p}),98);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=c!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WALRUMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1["delete"](a);this.$1.set(a,b);if(this.$1.size>this.$2){a=this.$1.keys().next().value;a!=null&&this.$1["delete"](a)}};b["delete"]=function(a){this.$1["delete"](a)};b.clear=function(){this.$1.clear()};b.size=function(){return this.$1.size};return a}();f.LRUMap=a}),66);
__d("WARandomHex",["WACryptoDependencies","WAHex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WAHex").toHex(a)}g.randomHex=a}),98);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WALRUMap","WARandomHex","WATimeUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b("Promise")))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var l=new(d("WALRUMap").LRUMap)({max:100});function a(a,c){var e=c.args,f=c.scheduleConfig,g=c.type,i=c.uniqKey;c=c.version;c=c===void 0?1:c;var l=JSON.stringify([g,i!=null?i:d("WARandomHex").randomHex(32)]),n={backedOffCount:0,current:e,original:e,scheduleConfig:f,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:g,uniqKey:l,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(i!=null)return k(a,"uniqKey",l).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return(h||(h=b("Promise"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()["delete"](b))}function e(a,b){return j(a().get(b))}function f(a,b){return j(a().put(b))}function n(a){return j(a().getAll())}function o(a){try{return i(a().clear()).then(c("emptyFunction"))}catch(a){if(a.name==="NotFoundError")return(h||(h=b("Promise"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=e;g.updatePersistedJob=f;g.readAllPersistedJobs=n;g.clearJobs=o}),98);
__d("MAWMessagesDirection",["I64","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return c("err")("Unhandled direction: "+a)}function a(a,b){return k(a,{asc:b.maxTimestampMs,desc:b.minTimestampMs})}function b(a,b){return k(a,{asc:b.maxMessageId,desc:b.minMessageId})}function e(a,b){return b==="desc"&&(h||(h=d("I64"))).equal(a.maxTimestampMs,(h||(h=d("I64"))).max_int)&&a.minMessageId===a.maxMessageId&&a.hasMoreBefore&&!a.hasMoreAfter}function f(a){return k(a,{asc:"after",desc:"before"})}function j(a){return l(a,{after:"asc",before:"desc"})}function k(a,b){var c=b.asc;b=b.desc;switch(a){case"asc":return c;case"desc":return b;default:a;throw i(a)}}function l(a,b){var c=b.after;b=b.before;switch(a){case"after":return c;case"before":return b;default:a;throw i(a)}}g.unhandledDirectionError=i;g.getI64RangeTimestampForDirection=a;g.getRangeMsgIdForDirection=b;g.isFirstPageRange=e;g.translateMwpDirectionToMawDirection=f;g.translateMawDirectionToMwpDirection=j;g.switchOnMWPMessagesDirection=k;g.switchOnMAWMessagesDirection=l}),98);
__d("MAWMessagesCompare",["MAWMessagesDirection"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return function(b,c){if(c.sortOrderMs==null||b.sortOrderMs==null)return 0;if(b.sortOrderMs===c.sortOrderMs){var d,e;d=(d=b.externalId)!=null?d:"";e=(e=c.externalId)!=null?e:"";if(a!=null){d=a.has(d);e=a.has(e);if(d&&!e)return-1;else if(!d&&e)return 1}return((d=c.externalId)!=null?d:"").localeCompare((e=b.externalId)!=null?e:"")}return c.sortOrderMs-b.sortOrderMs}}var i=h(),j=function(a,b){return-1*h()(a,b)};function a(a){return d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:j,desc:i})}g.makeCompareMessageMetadataForDescOrderFn=h;g.getSortComparisonFunctionForDirection=a}),98);
__d("MAWThreadId",["LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));return a==null?void 0:a.threadType}async function a(a,b){a=await h(a,b);return a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}function b(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}g.isSecureThreadKey=a;g.getThread=b}),98);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PROFILE:0};c={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};e={};f={};var h={},i={},j={};e.name="MessageKey";e.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};f.name="Command";f.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};h.name="Mention";h.internalSpec={mentionType:[1,d.TYPES.ENUM,b],mentionedJid:[2,d.TYPES.STRING],offset:[3,d.TYPES.UINT32],length:[4,d.TYPES.UINT32]};i.name="MessageText";i.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],mentions:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};j.name="SubProtocol";j.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.MENTION_MENTION_TYPE=b;g.FUTURE_PROOF_BEHAVIOR=c;g.MessageKeySpec=e;g.CommandSpec=f;g.MentionSpec=h;g.MessageTextSpec=i;g.SubProtocolSpec=j}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={UNSUPPORTED:-1,IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,FB_POST_MENTION:1011,FB_PROFILE_DIRECTORY_ITEM:1013,FB_FEED_POST_REACTION_REPLY:1014,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,MSG_SHARED_ALBUM:2017,MSG_OCCAMADILLO_XMA:2018,MSG_GEN_AI_SUBSCRIPTION:2021,MSG_GEN_AI_REMINDER:2022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:2023,MSG_NOTE_REPLY:2024,MSG_NOTE_MENTION:2025,GEN_AI_ENTITY:2026,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,RTC_ONGOING_AUDIO_CALL:3008,RTC_ONGOING_VIDEO_CALL:3009,MSG_RECEIVER_FETCH_FALLBACK:3025,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.name="ExtendedContentMessage";f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING],mentionedJid:[24,h.FLAGS.REPEATED|h.TYPES.STRING],commands:[25,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.CommandSpec],mentions:[26,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.MentionSpec]};i.name="ExtendedContentMessage$CTA";i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("MAWXMAUtils",["I64","LSIntEnum","LSXmaContentType","MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return c("gkx")("9339");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:return!1;default:d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"])),a);return!1}}function e(a){return a!=null&&((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_SHARE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_MENTION))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_PRODUCER_STORY_REPLY)))}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function k(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function l(a){return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_CONTACT))}function m(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function n(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function o(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function p(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function q(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function r(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function s(a){a=babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,defaultPreviewMediaPlaintextHash:void 0,faviconMediaId:void 0,faviconPlaintextHash:void 0,headerMediaId:void 0,headerMediaPlaintextHash:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0});c("justknobx")._("3897")&&(a.targetExpiringAtSec=void 0);return a}function t(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return!0;default:return!1}}function u(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY}function v(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function w(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION?!0:!1}function x(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION}function y(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;default:return!1}}function z(a){return w(a)||y(a)}function A(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function B(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function C(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY}function D(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare_DO_NOT_USE=b;g.isXMAFBStory=e;g.isXMAStoryShare=f;g.isXMAExternalLinkShare=k;g.isXMAContactShare=l;g.isReceiverFetchXMA=m;g.isIGXMAStoryShare=n;g.isXMAPostPrivateReply=o;g.isXMAExpired=p;g.removeCTAsForStoryMentionXMA=q;g.buildUnstoredTombstonedXMA=r;g.buildTombstonedDbXMA=s;g.isXMAStoryReply=t;g.isXMAStoryProducerReply=u;g.isXMAStoryReaction=v;g.isFBXMAStoryMention=w;g.isFBXMAPostMention=x;g.isIGXMAStoryMention=y;g.isXMAStoryMention=z;g.isIGXMAPostShare=A;g.isXMAStoryHighlightShare=B;g.isXMAMsgHighlightsTabFriendUpdatesReply=C;g.isRtcXMA=D}),98);
__d("MWLSThreadDisplayContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("XPlatReactVoprf",["WAWasmModuleCache","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSVoprfWasm").__setRef("XPlatReactVoprf");async function i(){var a=await h.load(),b=a.LSVoprfWasm,c=a.locateFile;a=await b({getWasmModule:function(){return d("WAWasmModuleCache").loadWasmModule(c())}});var e,f;try{e=a.createCurveRistretto();f=a.createVoprfExpTwohashdh(e);b={voprfInfo:{curvePtr:e,voprfPtr:f},voprfWasm:a};return{voprfInstance:b}}catch(b){e!=null&&a.freeCurve(e);f!=null&&a.freeVoprf(f);throw b}}function a(){return Promise.resolve(i())}function b(a){var b=a.voprfInfo;a=a.voprfWasm;var c=b.curvePtr;b=b.voprfPtr;a.freeCurve(c);a.freeVoprf(b)}g.loadXPlatReactVoprf=a;g.freeVoprfInstance=b}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);/*FB_PKG_DELIM*/
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSDatascriptRuntimeTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UI","BROKER"]);f.TopLevelCallOrigin=a}),66);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","SiteData","clearTimeout","cr:19620","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers.extends({},b("cr:19620"));function a(a){Object.assign(i,a)}var j={_tombstone:!0};function e(a){var b=new Map();for(a of a){var e=a.name;e!=null&&!m(e)&&b.set(e,c("nullthrows")(a.value))}if(b.size===0)return Promise.resolve();var g=new Promise(function(a){var e={},j=[],l=function(){var b=m[0],a=m[1];a=a==null?void 0:a.__dr;e[a]={be:1,r:[]};j.push(a);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",a);i[b]={load:async function(){await g;return i[b]}}};for(var m of b)l();c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});k(c("Bootloader"),j,function(c){Array.from(b.entries()).forEach(function(a,b){var d=a[0];a[1];i[d]=c[b]}),a()})});return g}function k(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function l(a){return a.charAt(0).toUpperCase()+a.slice(1)}function m(a){return a in i&&i[a]!==j}var n=c("justknobx")._("2800");function f(a,b,e){var f=new Map();for(a of a!=null?a:[])m(a)||f.set(a,"LS"+l(a));for(a of b!=null?b:[])!m(a+".bs")?f.set(a+".bs","LS"+l(a)+".nop"):a+".nop"in i||f.set(a+".nop","LS"+l(a)+".nop");for(b of e!=null?e:[])b in i||f.set(b,"LS"+l(b));if(f.size===0)return Promise.resolve();var g=new Promise(function(a,b){var e={},l=[],m=function(){var a=o[0],b=o[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",b);d("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(b);e[b]={be:1,r:[]};l.push(b);i[a]={load:async function(){try{await g}catch(b){i[a]=j;throw b}return i[a]}}};for(var o of f)m();c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});var p=k(c("Bootloader"),l,function(b){c("clearTimeout")(q),Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()}),q=c("setTimeout")(function(){p.remove();var a=c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",n,Array.from(f.keys()));a.name="dynamic_sproc_loading_timeout";b(a)},n)});return g}g.cachedModules=i;g.addToCachedModules=a;g.TOMBSTONE=j;g.downloadRelayDependencies=e;g.downloadBootloaderDependencies=f}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){return(h||(h=d("I64"))).mk(a[1],a[0])},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").makeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").makeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").makeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").makeSynchronousPromise(void 0),g=function(){var a=h[0],c=h[1];f=f.then(function(){var f;return e((f={},f[b]=a,f.group_count=(i||(i=d("I64"))).of_int32(c),f))})};for(var h of a.entries())g();return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"},k;while(f<b.length){k=j();if(k)return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return d.upsert(a,l(g))}}}function o(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return o(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function p(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").makeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var q=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q},b.next=function(){return d("LSSynchronousPromise").makeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var r=new Set(),s=a.length>1,t=a.length===1&&a[0][1]==null,u=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){var j=function(){var a,b=!1;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=j,a.next=function(){var a;if(b)return d("LSSynchronousPromise").makeSynchronousPromise({done:!0});b=!0;var f=c.map(function(a){a=a.start;return a[0]});return(a=i==null?g:g.index(i)).get.apply(a,f).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[f,a]}})},a};return j()}return m(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?q:c;return a.length>1?o(e,d):p(e,d,b)});function v(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=v,a.next=function(){var a=!0,b,f,h,m,o=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=t?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;a=!0;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;a=!0;return}if(s){g=JSON.stringify(b);if(r.has(g)){a=!0;return}r.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(u,o).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:n(b,h,g,e,i)}})},a}return v()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=o;g.mergeIterators=p;g.fetch=a}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g,j){return{metadata:d,table:function(k){k=d.tableNames[d.tableIds[k]];if(b===0&&h(k))throw c("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return i(a,k,e,f,g,j)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g,h){var i=a.transactionTable(b.name,f[f.length-1]);return{add:function(a){h==null||h.logTableOperation(b.name,"add");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");a=i.add(a);return c("gkx")("6636")?a:Promise.resolve(a)},fetch:function(){h==null||h.logTableOperation(b.name,"fetch");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());for(var a=arguments.length,c=new Array(a),k=0;k<a;k++)c[k]=arguments[k];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,i,j,g,f.join(", "))},fetchDesc:function(){h==null||h.logTableOperation(b.name,"fetchDesc");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());for(var a=arguments.length,c=new Array(a),k=0;k<a;k++)c[k]=arguments[k];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,i,j,g,f.join(", "))},peekNextAutoIncrementId:function(){h==null||h.logTableOperation(b.name,"peekNextAutoIncrementId");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());return i.peekNextAutoIncrementId()},put:function(a){h==null||h.logTableOperation(b.name,"put");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")});e=i.delete.apply(i,e).then(function(){return i.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))});return c("gkx")("6636")?e:Promise.resolve(e)}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDatascriptRuntimeTypes","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MWFBLogger","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r="LS_WEB",s=d("MessengerLogHistory").getInstance("ls");function t(a){return d("base64Binary").decode(a).buffer}var u={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return u.compareTo(a,b)>=0},gt:function(a,b){return u.compareTo(a,b)>0},le:function(a,b){return u.compareTo(a,b)<=0},lt:function(a,b){return u.compareTo(a,b)<0},neq:function(a,b){return!u.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function v(a){if(a.length!==1)throw c("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(q||(q=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function w(a){var b;return(b=(b=a.__sproc_name__)!=null?b:a.__debugModuleSource)!=null?b:"<unknown_sproc>"}var x=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null||b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null||b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return Math.random()*c("MetaConfig")._("10")<1}return{call:d,logSprocDone:e,shouldLogSproc:f}}(),y="Native operation timeout; transaction blocked",z=30*1e3;function A(a,b,e,f,g,q,B,C){g===void 0&&(g={});q===void 0&&(q=void 0);var D=[],E=d("LSRuntimeDb").LSRuntimeDb(f,a,b,g,D,B,C),F=function(b,g){for(var h=arguments.length,i=new Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];var k;if(typeof g==="string"){k=e[g.toString()];if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",b,g);if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",g);k.load&&(k=k.load())}else k=g;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[f,a].concat(i))})},G=function(b){for(var g=arguments.length,h=new Array(g>1?g-1:0),i=1;i<g;i++)h[i-1]=arguments[i];var j;if(typeof b==="string"){j=e[b+".bs"]||e[b+".nop"];if(j==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",b);if(j===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);j.load&&(j=j.load())}else j=b;var k,l;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(j).then(function(b){var e;k=(e=(e=b.__nop_name__)!=null?e:b==null?void 0:b.toString().slice(0,250))!=null?e:"<unknown nop name>";l=C==null?void 0:C.logNativeOperationStart(k);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b.apply(void 0,[f,a].concat(h)));return!(m||(m=c("isPromise")))(e)?e:c("justknobx")._("3895")&&(p||(p=c("ExecutionEnvironment"))).isInBrowser?Promise.race([e,new Promise(function(a,b){return c("setTimeout")(function(){return b(c("err")(y))},z)})]):e}).then(function(a){var b;(b=l)==null||b.end();return a},function(a){var b;(b=l)==null||b.end();c("FBLogger")("messenger_web").catching(a).addMetadata(r,"NATIVE_OP_ID",k).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",k,(a==null?void 0:a.message)===y,(p||(p=c("ExecutionEnvironment"))).isInWorker)})},H=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:t,blobs:u,constructor:{n:v},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:E,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},logger:function(a){if(q)return{debug:q,info:q,mustfix:q,warn:q};var b=d("MWFBLogger").MWLogger(),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){s.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(n||(n=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return s.debug(a)},info:function(a){return s.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(m||(m=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,v(h||(h=babelHelpers.taggedTemplateLiteralLoose(["2"]))));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,v(i||(i=babelHelpers.taggedTemplateLiteralLoose(["2"])))))})}return d("LSSynchronousPromise").makeSynchronousPromise(void 0)}return e(v(j||(j=babelHelpers.taggedTemplateLiteralLoose(["0"]))))},loopSync:function(a,b){for(var d=v(k||(k=babelHelpers.taggedTemplateLiteralLoose(["0"])));c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,v(l||(l=babelHelpers.taggedTemplateLiteralLoose(["2"])))))b(d)},merge:function(){function a(a,b){return(o||(o=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(o||(o=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:v,nativeOperation:G,nativeTypeOperation:F,notnull:function(a){if(a===null)throw c("FBLogger")("messenger_web").mustfixThrow("value should not be null");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(a)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:H,slice:I,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof h==="string"){l=e[h];if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",h);if(l===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);l.load&&(l=l.load())}else l=h;var m=this;switch(a){case 0:m=A(2,b,e,f,g,q,B);break;case 2:m=A(1,b,e,f,g,q,B);break}var n,o,p,s;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(l).then(function(a){o=w(a);p=x.shouldLogSproc(o);D.push(o);n=x.call({args:j,shouldLog:p,sprocName:o});s=C==null?void 0:C.logSprocCallStart(o,d("LSDatascriptRuntimeTypes").TopLevelCallOrigin.UI);f.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,j.concat([m]))}).then(function(a){var b;D.pop();x.logSprocDone({args:j,shouldLog:p,sprocName:o},n,2);(b=s)==null||b.end();return a},function(a){var b;D.pop();x.logSprocDone({args:j,shouldLog:p,sprocName:o},n,3);(b=s)==null||b.end();c("FBLogger")("messenger_web").catching(a).addMetadata(r,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",o);throw a})},throw:function(a){throw c("FBLogger")("messenger_web").mustfixThrow(a)},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=v;g.default=A}),98);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d of e)if(typeof d!=="string")return null}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){function d(b){if(b.done)return b.value;return!(h||(h=c("isPromise")))(b.value)?d(a.next(b.value)):b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}g.gen=a}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="\u2757"}c=function(){function a(a){var b=this;this.isSync=!1;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();e=function(){function a(){this.isSync=!0}var b=a.prototype;b.chainPromiseOrValue=function(a){return a("\u2757")};return a}();f=function(){function a(){this.isSync=!1,this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function b(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return d("ReStoreCommonUtils").gen(a.next(b,c))})}}}g.isNoopLockProof=a;g.WaitForPromiseLock=c;g.NoopLock=e;g.ReStoreOperationLock=f;g.lockIterator=b}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=function(a,b,c,e){var f=this;a=d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a.then(function(a){return a===void 0?void 0:d("ReStoreUtils").searchKey(f.$1,a)})};return a}();b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(a);c=function(a){function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}babelHelpers.inheritsLoose(b,a);return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["FBLogger","I64","JSONStringifyBigIntSafe","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("FBLogger")("messenger_web").mustfixThrow("Expected int64");return h.to_float(a)}function l(a,b,d,e,f){b=c("JSONStringifyBigIntSafe")([b,d]);d=a.get(b);a.set(b,[d==null?e:d[0],f])}a=function(){function a(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return g.$5(g.$3.chainPromiseOrValue(function(a){a=g.$1.autoIncrement;if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("only supported for auto-incrementing tables");return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(d("ReStoreCommonUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()))).then(function(a){if(a===void 0)throw c("FBLogger")("messenger_web").mustfixThrow("unexpected undefined autoIncrementSeed");return(h||(h=d("I64"))).of_float(a)})}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f}var b=a.prototype;b.$5=function(a){return this.$3.isSync?d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(a):Promise.resolve(a)};return a}();b=function(a){function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null||e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(n.$ReStoreTransactionTable$p_14(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e=n;return d("ReStoreCommonUtils").gen(function*(f){(f=e.$ReStoreTransactionTable$p_9)==null||f.recordLogicalWrite(),yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b),yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null||e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_13(function(e,f){var g=n;return d("ReStoreCommonUtils").gen(function*(h){(h=g.$ReStoreTransactionTable$p_9)==null||h.recordLogicalWrite(),yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11),yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){return this.$ReStoreTransactionTable$p_5.isSync?d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(a):Promise.resolve(a)};c.$ReStoreTransactionTable$p_13=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_14=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}babelHelpers.inheritsLoose(b,a);return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["FBLogger","I64","JSONStringifyBigIntSafe","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function l(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("FBLogger")("maw_db").mustfixThrow("primary key must be defined on object")})}function m(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function n(a,b,c,e,f,g,i){function j(){var k=a.table(c.name),l=babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?k.tableEntries(b,l):k.indexEntries(b,e,l);return k={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],i==null?b:i.afterEntriesNext({tableName:c.name,value:b})]}}},k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,k}return j()}function b(a,b,c,e,f,g){function i(){var j=a.table(c.name),k=j.keys(b,e,babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return j={next:function*(a,b){return yield* k.next(b)}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function e(a,b,c,e,f,g,h){a=a.table(c);g=d("ReStoreOperationLock").isNoopLockProof(g)?d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise:Promise.resolve.bind(Promise);e!=null?e=g(d("ReStoreCommonUtils").gen(a.indexGet(b,e,f))):e=g(d("ReStoreCommonUtils").gen(a.tableGet(b,f)));return e.then(function(a){return a===void 0?void 0:h.afterGet({tableName:c,value:a})})}function o(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function p(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("FBLogger")("maw_db").mustfixThrow("Expected int64");return i.to_float(a)}function q(a,b,d,e,f){b=c("JSONStringifyBigIntSafe")([b,d]);d=a.get(b);(d==null?e:d[0])==null&&f==null?a.delete(b):a.set(b,[d==null?e:d[0],f])}function* r(a,b,c,e,f,g,h,i,k,m){function o(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(){var f=s.indexName,d=s.tableName,j=a.tableNames[d],p=j.indexes,v=j.primaryKeyIds,w=f==null?v:p[f];v={gte:g,lte:o(g,w.length)};p=n(c,e,j,f,"asc",v);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(v of j){v[0];p=v[1];f=l(a.tableNames[d],p);if(h===void 0)yield* u(a,b,c,e,d,f,k),yield* r(a,b,c,e,d,f,void 0,i,k,m);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[w[c]]=h[c];return a},babelHelpers.extends({},p));yield* t(a,b,c,e,d,f,j,i,k,m);yield* r(a,b,c,e,d,f,l(a.tableNames[d],j),i,k,m)}}};for(var s of p)yield* f()}function* s(a,b,c,e,f,g,h,k,n){var o=c.table(f),r=a.tableNames[f];if(r.autoIncrement){var s=g[r.primaryKeyIds[0]];s=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,s===void 0?s:p(s)));g[r.primaryKeyIds[0]]=s}s=l(r,g);var t={},u=(yield* o.tableGet(e,s)),y=g;u!==void 0?t=v(r,Object.keys(r.indexes),u):y=m(g,r.name,n);g=(yield* o.tableSet(e,s,y));var z=g[0];g=g[1];r=v(r,Object.keys(r.indexes),y);var A=babelHelpers.extends({},r);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* w(a,b,c,e,f,A,h,k,n);yield* x(c,e,f,z,g?r:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);q(b,f,s,u,y);return s}function* t(a,b,c,e,f,g,h,i,j,k){var m=l(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,m)||(yield* u(a,b,c,e,f,g,j));yield* s(a,b,c,e,f,h,i,j,k)}function* u(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=l(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);q(b,e,f,a,void 0)}}function v(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=l(a,c,d);b[d]=e;return b},{})}function* w(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var m=f[k];m=(yield* j.indexGet(d,k,m));if(m!=null){m=l(a.tableNames[e],m);yield* u(a,b,c,d,e,m,h);yield* r(a,b,c,d,e,m,void 0,g,h,i)}}}function* x(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,l){var m=d.table(i),o=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(o==null?void 0:o.indexes[a])!=null});if(p.length===0)return;j=n(d,e,o,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(l));while(!r.done){while(!r.done&&q.length<=k)q.push(r.value),r=(yield* j.next(l));for(var s of q){var t=s[0],u=s[1];u=v(g.tableNames[i],p,u);yield* w(g,a,d,e,i,u,f,l,h);t=c("nullthrows")(yield* m.getId(e,t));yield* x(d,e,i,t,u)}q.length=0;b==null||b()}}var y="__internal__transaction_id";function z(a,b,e,f,g,h,i){var j=null,k=new(d("ReStoreOperationLock").NoopLock)(),l=new(d("ReStoreOperationLock").ReStoreOperationLock)(),m=i==null?void 0:i.qplFlow,n=new Map(),p=(i={},i[y]=c("Random").uint32(),i.reportUsedTablesForSyncAccess=function(a){j=a&&a.every(function(a){return g.tablePermitsSynchronousIO(a)})&&j!==!1},i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,l,g,f,p,m,h,b)},i.transactionTable=function(c,i){var q=i!=null?c+"::"+i:c;return o(n,q,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,j===!0&&i!=null?k:l,g,f,p,m,h,b)})},i);i=function(a){Object.defineProperty(p,a,{get:function(){return p.transactionTable(a)}})};for(var q of Object.keys(a.tableNames))i(q);return p}function A(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=l;g.appendDefaultValues=m;g.entries=n;g.keys=b;g.getLocked=e;g.getOrCreate=o;g.cascadeKeyUpdatesLocked=r;g.putLocked=s;g.upsertLocked=t;g.deleteItemLocked=u;g.indicesWithKeyForValue=v;g.deconflictIndicesLocked=w;g.addIdToIndices=x;g.rebuildIndicesLocked=f;g.createReStoreTransaction=z;g.isPDB=A}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){var c={};b=await d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c}async function i(a,b,c,d){a=await h(a,b);b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b}async function j(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};await a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}}async function a(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=await i(f,a,b,e);try{if(c===!1)for(c in b){var h=a[c].entries(f),k=await h.next();while(!k.done){var l=babelHelpers.extends({},k.value[1]);l=d("ReStoreUtils").appendDefaultValues(l,c,e);await a[c].put(l);k=await h.next()}}await j(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b of a)if(typeof b!=="string")return null;return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){var c={};b=await d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers.extends({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c}async function i(a,b,c){a=await h(a,b);b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null||(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null||(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}}async function j(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers.extends({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});await a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}}async function k(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;await (g=a[d("ReStoreIndexMetadata").indicesTableName]).delete.apply(g,h)}}}function l(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreCommonUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return i(f,a.transaction,b).then(async function(f){var g=f.toRemove;f=f.toUpdate;var h=Array.from(new Set([].concat(Object.keys(f),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({int:{index_migration_rebuild_tables_count:h.length}});if(e===!1)for(h of h)if(b.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=f[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));await l(a,h,b,c,i)}await j(a.transaction,f);await k(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")},function(a){return g(a,"findIndicesToUpdateOrRemove")}).catch(function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function h(a,b){return i.apply(this,arguments)}function i(){i=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return i.apply(this,arguments)}async function c(a,b,c){var e=!1,f=!1,g;try{for(var i=babelHelpers.asyncIterator(h(d("ReQL").fromTableAscending(a),100)),j;e=!(j=await i.next()).done;e=!1){j=j.value;await Promise.all(j.map(function(c){return b(c).then(a.put)})),c==null||c()}}catch(a){f=!0,g=a}finally{try{e&&i.return!=null&&await i.return()}finally{if(f)throw g}}}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),int:c(b.int),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=h;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreHashMigration",["JSONStringifyBigIntSafe","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers.extends({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return c("JSONStringifyBigIntSafe")(a)}async function b(a,b,c,e){var f,g,h=e.loggers,i=h.logHistory;h=h.userFlow;var j=e.storeTx,k=e.transaction,l=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),m=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);h==null||h.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{int:{defaultValuesVersion:l,schemaVersion:m}}));var n=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),o=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=await n.read(j))==null?void 0:f.schemaVersion;g=(g=await o.read(j))==null?void 0:g.defaultValuesVersion;i==null||i.debug("storeSchemaVersion: "+(f!=null?f:"null"));i==null||i.debug("storeDefaultValuesVersion: "+(g!=null?g:"null"));f!=null&&(h==null||h.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{int:{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===m&&g===l)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;a=f==null;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(k,b,a,c);i==null||i.debug("migration default values finished");await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,a);i==null||i.debug("migration indices finished");n.write(j,{schemaVersion:m});o.write(j,{defaultValuesVersion:l});i==null||i.debug("version is written");i==null||i.debug("migration hash end");h==null||h.addPoint("migration_hash_end");if(a)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE}g.serializeTableData=a;g.runHashMigration=b}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("ReStorePersistedMetadata",["JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreCommonUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){function b(b){return a.call(this,b+"_schema_version")||this}babelHelpers.inheritsLoose(b,a);b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){function b(){return a.call(this,"custom_migration_value_version")||this}babelHelpers.inheritsLoose(b,a);return b}(a);f=function(a){function b(b){return a.call(this,b+"_default_value_version")||this}babelHelpers.inheritsLoose(b,a);b.hash=function(a){return c("hashString")(c("JSONStringifyBigIntSafe")(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(b of b)for(var e of b){var f;e.id!=null&&(c[e.id]=e.name);d[e.name]={autoIncrement:(f=e.auto_increment)!=null?f:!1,cascadeUpdates:(f=a[e.name])!=null?f:[],indexes:(f=Object.fromEntries(Object.entries((f=e.indexes)!=null?f:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?f:{},indexPredicates:Object.fromEntries(Object.entries((f=e.indexes)!=null?f:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:e.name,primaryKeyIds:e.primary_key}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={};for(var f of Object.keys(a)){var g=a[f],h={},i={};for(var j in g.indexes)h[j]=g.indexes[j].fields,g.indexes[j].ignoreNulls.length>0&&(i[j]=d("ReStoreMetadata").createPredicate(g.indexes[j].ignoreNulls));c.tableNames[f]={autoIncrement:g.autoIncrement,cascadeUpdates:(j=b==null?void 0:b[f])!=null?j:[],indexes:h,indexPredicates:i,name:f,primaryKeyIds:g.primaryKey.fields};g.id!=null&&(c.tableIds[g.id]=f);Object.keys(g.defaults).length>0&&(e[f]=g.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil"],(function(a,b,c,d,aa,ba,ca){"use strict";b=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var e=Object.freeze(babelHelpers.extends({},b,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),f=Object.freeze(babelHelpers.extends({},e,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),g=Object.freeze(babelHelpers.extends({},f,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),h=Object.freeze(babelHelpers.extends({},g,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers.extends({},h,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers.extends({},i,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers.extends({},j,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers.extends({},k,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers.extends({},l,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers.extends({},m,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers.extends({},n,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers.extends({},o,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers.extends({},p,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers.extends({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers.extends({},r,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers.extends({},s,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers.extends({},t,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers.extends({},u,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers.extends({},v,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers.extends({},w,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers.extends({},x,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers.extends({},y,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers.extends({},z,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers.extends({},A,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers.extends({},B,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers.extends({},C,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers.extends({},D,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers.extends({},E,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers.extends({},F,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers.extends({},G,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers.extends({},H,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers.extends({},I,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers.extends({},J,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:a.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers.extends({},K,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers.extends({},L,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers.extends({},M,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers.extends({},N,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers.extends({},O,{messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeHdMediaEnabled:!1,e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers.extends({},P,{media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}}})),R=Object.freeze(babelHelpers.extends({},Q,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),S=Object.freeze(babelHelpers.extends({},R,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),T=Object.freeze(babelHelpers.extends({},S,{community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}}})),U=Object.freeze(babelHelpers.extends({},T,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),V=Object.freeze(babelHelpers.extends({},U,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),W=Object.freeze(babelHelpers.extends({},V,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),X=Object.freeze(babelHelpers.extends({},W,{horizon_groups_key_mapping:{autoIncrement:!1,defaults:{},id:338,indexes:{},primaryKey:{fields:["threadKey","groupKey"],ignoreNulls:[]}}})),Y=Object.freeze(babelHelpers.extends({},X,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),Z=Object.freeze(babelHelpers.extends({},Y,{rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),$=Object.freeze(babelHelpers.extends({},Z,{horizon_party_members:{autoIncrement:!1,defaults:{},id:339,indexes:{},primaryKey:{fields:["partyKey","userId"],ignoreNulls:[]}}})),da=Object.freeze(babelHelpers.extends({},$,{thread_theme_search_queries:{autoIncrement:!1,defaults:{},id:340,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},thread_theme_search_results:{autoIncrement:!1,defaults:{},id:341,indexes:{},primaryKey:{fields:["resultIndex","query"],ignoreNulls:[]}}})),ea=Object.freeze(babelHelpers.extends({},da,{client_media_status:{autoIncrement:!1,defaults:{},id:342,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}}})),fa=Object.freeze(babelHelpers.extends({},ea,{secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}}})),ga=Object.freeze(babelHelpers.extends({},fa,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),friendshipStatus:a.cast([0,5]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),ha=Object.freeze(babelHelpers.extends({},ga,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ia=Object.freeze(babelHelpers.extends({},ha,{encrypted_backups_reenrollment_trigger:{autoIncrement:!0,defaults:{},id:343,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),ja=Object.freeze(babelHelpers.extends({},ia,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ka=Object.freeze(babelHelpers.extends({},ja,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),la=Object.freeze(babelHelpers.extends({},ka,{thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{labelId:{fields:["labelId","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}}})),ma=Object.freeze(babelHelpers.extends({},la,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),na=Object.freeze(babelHelpers.extends({},ma,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),oa=Object.freeze(babelHelpers.extends({},na,{pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),pa=Object.freeze(babelHelpers.extends({},oa,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,draftMessage:"",hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),qa=Object.freeze(babelHelpers.extends({},pa,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),ra=Object.freeze(babelHelpers.extends({},qa,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:a.cast([0,0]),messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),sa=Object.freeze(babelHelpers.extends({},ra,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),ta=Object.freeze(babelHelpers.extends({},sa,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:a.cast([0,0]),messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},subthread_message_ranges:{autoIncrement:!1,defaults:{},id:347,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}},subthread_ranges:{autoIncrement:!1,defaults:{},id:346,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}},subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),ua=Object.freeze(babelHelpers.extends({},ta,{subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{lastActivityTimestampMsOrder:{fields:["subthreadParentMessageId","lastActivityTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}}})),va=Object.freeze(babelHelpers.extends({},ua,{subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{lastActivityTimestampMsOrder:{fields:["parentThreadKey","lastActivityTimestampMs","parentMessageId"],ignoreNulls:[]}},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),wa=Object.freeze(babelHelpers.extends({},va,{subthread_message_ranges_v2:{autoIncrement:!1,defaults:{},id:348,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId","minTimestampMs"],ignoreNulls:[]}}})),xa=Object.freeze(babelHelpers.extends({},wa,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:a.cast([0,0]),messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyMessageHiddenState:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),ya=Object.freeze(babelHelpers.extends({},xa,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}}));c=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:71,tables:ya,upgrade:{1:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(e),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},2:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(f),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},3:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(g),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},4:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},5:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},6:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},7:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},8:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},9:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},10:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},11:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},12:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},13:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},14:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},15:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},16:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},17:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},18:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},19:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},20:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(x),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},21:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(y),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},22:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(z),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},23:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(A),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},24:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(B),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},25:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(C),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},26:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(D),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},27:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(E),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},28:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(F),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},29:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(G),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},30:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(H),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},31:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(I),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},32:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(J),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},33:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(K),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},34:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(L),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},35:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(M),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},36:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(N),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},37:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(O),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},38:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(P),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},39:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Q),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},40:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(R),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},41:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(S),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},42:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(T),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},43:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(U),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},44:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(V),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},45:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(W),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},46:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(X),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},47:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Y),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},48:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Z),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},49:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData($),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},50:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(da),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},51:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ea),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},52:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(fa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},53:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ga),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},54:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ha),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},55:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ia),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},56:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ja),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},57:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ka),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},58:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(la),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},59:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ma),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},60:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(na),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},61:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(oa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},62:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(pa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},63:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(qa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},64:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ra),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},65:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(sa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},66:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ta),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},67:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ua),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},68:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(va),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},69:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(wa),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},70:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(xa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},71:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ya),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)}}});ca.LSDbV1=c}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:d("LSDbV1").LSDbV1},legacyVersions:{},versionOrder:["V1"]};g.LSDbVersion=a;g.Versions=e}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116,V117:117,V118:118,V119:119,V120:120,V121:121,V122:122,V123:123,V124:124,V125:125,V126:126};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],wa=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}],xa=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ya=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],za=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Aa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ba=[{autoIncrement:!0,indexes:{version:{columns:["version"],unique:!0}},name:"e2ee_encryptionMetaV3",primaryKey:["id"]}],Ca=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages_deduped",primaryKey:["rowId"]}],Da=[{autoIncrement:!1,indexes:{},name:"e2ee_poll",primaryKey:["chatJid","pollStanzaId"]}],Ea=[{autoIncrement:!0,indexes:{"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(a){return a.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Fa=[{autoIncrement:!0,indexes:{"[threadJid+collapsibleId+sortOrderMs]":{columns:["threadJid","collapsibleId","sortOrderMs"],unique:!1},"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(a){return a.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ga=[{autoIncrement:!1,indexes:{},name:"e2ee_messages_deduped",primaryKey:[],removed:!0}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va],[d.VERSION.V116,wa],[d.VERSION.V117,xa],[d.VERSION.V118,ya],[d.VERSION.V119,za],[d.VERSION.V120,Aa],[d.VERSION.V121,Ba],[d.VERSION.V122,Ca],[d.VERSION.V123,Da],[d.VERSION.V124,Ea],[d.VERSION.V125,Fa],[d.VERSION.V126,Ga]]);b=["messages","unrenderedMessages","groupInfo","receipts","pendingReceipts","threads","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges","receiverFetchInfo","poll"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){return h!=null?h:d("MAWDbVersionList").toVersion(c("justknobx")._("1716"))}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_browserEncryptionMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_poll:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null||b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("ReStoreVersionedSchemaProvider",["FBLogger","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var b=a.prototype;b.$3=async function(a,b){var c,e;(c=b.loggers.logHistory)==null||c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null||c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null||e.debug("migration default values finished");await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null||e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE};b.$4=function(a){var b=this,d=this.$2.versionOrder.indexOf(a);if(d===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return Promise.all(this.$2.versionOrder.slice(d,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(async function(a){if(a in b.$2.versions)return{meta:b.$2.versions[a],version:a};else if(a in b.$2.legacyVersions)return{meta:await b.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",b.$1,a)}))};b.$5=async function(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null||(f=f.logHistory)==null||f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null||(f=f.logHistory)==null||f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null||f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null||f.addPoint(this.$1+"_migration_versioned_incremental");f=await this.$4(a);if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j,k;(j=e.loggers)==null||(j=j.logHistory)==null||j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null||j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");await ((k=(j=h.upgrade)[i])==null?void 0:k.call(j,e));await ((j=(k=h.afterUpgrade)[i])==null?void 0:j.call(k,e.transaction));(j=e.loggers.userFlow)==null||j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE};b.$6=function(a,b,c,e,f){var g;(g=f.loggers.userFlow)==null||g.addPoint(this.$1+"_migration_versioned_hash_start");if(b===c&&a===e){(g=f.loggers.userFlow)==null||g.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(b=f.loggers)==null||(b=b.logHistory)==null||b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return Promise.resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(c=f.loggers.userFlow)==null||c.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(a=f.loggers)==null||(a=a.logHistory)==null||a.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,f)}};b.migrate=async function(a){var b,c,e;(b=a.loggers.logHistory)==null||b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null||b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=await g.read(a.storeTx);c=(c=await h.read(a.storeTx))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null||e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{int:{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null||e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null||e.debug("storeDefaultValuesVersion: "+(c!=null?c:"null"));e=await (i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null||c.debug("version is written")}(i=a.loggers.logHistory)==null||i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null||g.addPoint(this.$1+"_migration_versioned_end");return e};return a}();g.default=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,d("LSDb").Versions,c("LSDbForeignKeys"));g.schemaProvider=a}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers.extends({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=c!=null?c:{}}var b=a.prototype;b.migrate=async function(a){var b,c;(b=a.loggers.logHistory)==null||b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null||b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null||b.addPoint(this.$1+"_migration_hash_start");b=await d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a);(c=a.loggers.logHistory)==null||c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null||c.addPoint(this.$1+"_migration_hash_end");return b};return a}();g.default=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{defaults:babelHelpers.extends({},a.defaults,b.defaults),migrate:async function(c){var e=await a.migrate(c);c=await b.migrate(c);if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||c===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||c===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED},tableIds:babelHelpers.extends({},a.tableIds,b.tableIds),tableNames:babelHelpers.extends({},a.tableNames,b.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSVersionedSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(d("LSVersionedSchemaProvider").schemaProvider);g.buildSchema=a;g.schema=b}),98);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h,i={dynamic:!1};function a(a,e){e===void 0&&(e=i);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,a,void 0,void 0,e.dynamic,e.lsRuntimeLogger);return b("cr:8709")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSVerifyContactRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyContactRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyContactRowExists"),e.id,e.contactIdType,e.profilePictureUrl,e.name,e.contactType,e.profilePictureFallbackUrl,e.profilePictureUrlExpirationTimestampMs,e.urlExpirationTimestampMs,e.normalizedNameForSearch,e.isMemorialized,e.isBlocked,e.blockedByViewerStatus,e.canViewerMessage,e.isSelf,e.authorityLevel,e.capabilities,e.capabilities2,e.workForeignEntityType,e.gender,e.contactViewerRelationship,e.secondaryName,e.firstName,e.friendshipStatus);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedInlineComposerQuery.graphql",["CometFeedInlineComposerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null},f=[d,e];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometFeedInlineComposerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerWOYM_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerPressableProfilePic_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_profile"},{kind:"InlineFragment",selections:f,type:"User",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Page",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_composer"}],storageKey:null},action:"THROW",path:"viewer.feed_comet_composer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometFeedInlineComposerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},e],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Profile",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[e],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1ggQ2r"}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerBroadcastChannelSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBroadcastChannelSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMarketplaceJobsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMarketplaceJobsSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:"1ggQ2r")'}],type:"ICometComposer",abstractKey:"__isICometComposer"}],storageKey:null}],storageKey:null}]},params:{id:b("CometFeedInlineComposerQuery_facebookRelayOperation"),metadata:{},name:"CometFeedInlineComposerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1ggQ2r"}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerBroadcastChannelSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBroadcastChannelSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMarketplaceJobsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMarketplaceJobsSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:"1ggQ2r")'}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList.react",["CometFeedInlineComposerSproutsList_composer.graphql","CometFeedInlineComposerSproutsList_profile.graphql","CometFeedInlineComposerStylesContext","CometInlineComposerSproutListMatcher.react","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext;function a(a){var e=d("react-compiler-runtime").c(14),f=a.composer,g=a.onHoverInPrerenderer,j=a.onHoverOutPrerenderer,m=a.onPressInPrerenderer,n=a.profile$key,o=a.showFeedComposerDialog;a=a.triggerRef;d("RelayHooks").useFragment(h!==void 0?h:h=b("CometFeedInlineComposerSproutsList_profile.graphql"),n);n=l(c("CometFeedInlineComposerStylesContext"));n=n.isSimplified;f=d("RelayHooks").useFragment(i!==void 0?i:i=b("CometFeedInlineComposerSproutsList_composer.graphql"),f);if(e[0]!==(f==null?void 0:f.inline_sprouts)){var p;p=(p=f==null?void 0:f.inline_sprouts)!=null?p:[];e[0]=f==null?void 0:f.inline_sprouts;e[1]=p}else p=e[1];f=p;e[2]!==n?(p={0:{className:"x78zum5 x1vqgdyp"},4:{className:"x78zum5 x1vqgdyp x1a02dak x1l1ennw x6ikm8r x10wlt62 xh8yej3"},2:{className:"x78zum5 x1vqgdyp xqmpxtq x13fuv20 x178xt8z x14vqqas x1y1aw1k"},6:{className:"x78zum5 x1vqgdyp x1a02dak x1l1ennw x6ikm8r x10wlt62 xh8yej3 xqmpxtq x13fuv20 x178xt8z x14vqqas x1y1aw1k"},1:{className:"x78zum5 x1vqgdyp x13fj5qh"},5:{className:"x78zum5 x1vqgdyp x1a02dak x1l1ennw x6ikm8r x10wlt62 xh8yej3 x13fj5qh"},3:{className:"x78zum5 x1vqgdyp xqmpxtq x13fuv20 x178xt8z x14vqqas x1y1aw1k x13fj5qh"},7:{className:"x78zum5 x1vqgdyp x1a02dak x1l1ennw x6ikm8r x10wlt62 xh8yej3 xqmpxtq x13fuv20 x178xt8z x14vqqas x1y1aw1k x13fj5qh"}}[!!!n<<2|!!!n<<1|!!n<<0],e[2]=n,e[3]=p):p=e[3];e[4]!==g||e[5]!==j||e[6]!==m||e[7]!==o||e[8]!==f||e[9]!==a?(n=k.jsx(d("CometInlineComposerSproutListMatcher.react").CometInlineComposerSproutListMatcher,{onHoverIn:g,onHoverOut:j,onPressIn:m,showComposerDialog:o,sprouts:f,triggerRef:a}),e[4]=g,e[5]=j,e[6]=m,e[7]=o,e[8]=f,e[9]=a,e[10]=n):n=e[10];e[11]!==p||e[12]!==n?(g=k.jsx("div",babelHelpers["extends"]({},p,{children:n})),e[11]=p,e[12]=n,e[13]=g):g=e[13];return g}g["default"]=a}),98);
__d("CometFeedInlineComposer.react",["fbt","CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","CometFeedInlineComposerPressableProfilePic.react","CometFeedInlineComposerQuery.graphql","CometFeedInlineComposerSproutsList.react","CometFeedInlineComposerStylesContext","CometFeedInlineComposerWOYM.react","CometRelay","CometScreenReaderHeading.react","ComposerGating","FDSCard.react","cometGetKeyCommandConfig","cr:1993522","getComposerUnsavedChangesAlert","gkx","qex","react","useComposerTerminalEventLog","useFeedComposerCometDialog","useLayerKeyCommands","useNullthrowsViolation","useOnBeforeUnload","usePostInProgress","useResumableComposerViewState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useRef,o={current:null};function a(a){a=a.feedInlineComposerQueryReference;var e=n(!1),f=n(!1),g=n([]),j=c("useResumableComposerViewState")(),p=j.clearResumableViewState,q=j.getResumableViewState,r=j.saveResumableViewState;j=c("usePostInProgress")();var s=j.postPlainText,t=j.updatePostPlainText,u=n(!1);c("useOnBeforeUnload")(function(){g.current!=null&&g.current.forEach(function(a){return a()});if(u.current===!0)return c("getComposerUnsavedChangesAlert")(q())});c("useComposerTerminalEventLog")(function(){return u.current},function(){return q().creationSessionID});j=l(function(a){if(e.current===!0||f.current===!0)u.current=!1,p(),t(q());else{var b;u.current=(b=a==null?void 0:a.isDirty)!=null?b:!1;r(a);t(q())}},[p,t,q,r]);var v=function(a,b){e.current=!1,b!=null&&(g.current=[].concat(g.current,[b]))},w=function(){u.current=!0,e.current=!1},x=function(){e.current=!0},y=function(){f.current=!0},z=h._(/*BTDS*/"Create post");a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometFeedInlineComposerQuery.graphql"),a);a=a.viewer;var A=c("useNullthrowsViolation")(a.actor.id,"Unable to render CometFeedInlineComposer with null viewerID and type "+a.actor.__typename),B=a.actor.has_professional_features_for_watch===!0,C=B&&c("gkx")("23264");B=c("useFeedComposerCometDialog")({composerEntryPointName:"inline_composer",composerSourceSurface:"newsfeed",composerType:"feed",onBeforeClose:j,onDeleteDraft:y,onSave:v,onSaveError:w,onSubmit:x,profileID:A,title:z,tracePolicy:"comet.composer.feed"});var D=B[0];j=B[1];y=B[2];v=B[3];w=B[4];var E=l(function(a){u.current=!1;var b=c("gkx")("20836");b=q(a==null?void 0:a.additionalMediaAttachmentItems,{startWithHeaderTextStyle:b});b=babelHelpers["extends"]({},b,{characterLimit:63206,mediaAttachmentsLimit:80,supportedSubmissionFlows:["ASYNC_SILENT","ASYNC_NOTIF","FALLBACK"],videoComposerData:{shouldOpenVideoSpecificComposer:C,targetID:A,wasCreatedViaUnifiedVideoFlow:d("ComposerGating").shouldShowUnifiedVideoEditor()}});(a==null?void 0:a.pushedPageOnLoad)==="get_messages"&&(b=babelHelpers["extends"]({},b,{attachmentArea:babelHelpers["extends"]({},b.attachmentArea,{activeAttachmentType:c("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:!0,isGetMessagesPostAttachmentOptional:!0}));(a==null?void 0:a.pushedPageOnLoad)==="get_whatsapp_messages"&&(b=babelHelpers["extends"]({},b,{footerAttachmentArea:{activeFooterAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES},isGetWhatsAppMessagePost:!0,isGetWhatsappMessagesPostAttachmentOptional:!0}));D({beginningViewState:b,pushedPageOnLoad:a==null?void 0:a.pushedPageOnLoad})},[q,D,A,C]);x=m(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","newPost",E)]},[E]);c("useLayerKeyCommands")(x);z=h._(/*BTDS*/"Create a post");B=m(function(){var a;return{isSimplified:(a=c("qex")._("2837"))!=null?a:!1}},[]);x=k.jsx(c("CometFeedInlineComposerStylesContext").Provider,{value:B,children:k.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:a.feed_comet_composer,onHoverInPrerenderer:y,onHoverOutPrerenderer:v,onPressInPrerenderer:w,profile$key:a.actor,showFeedComposerDialog:E,triggerRef:j})});y=k.jsx(c("FDSCard.react"),{background:"default",dropShadow:1,children:k.jsxs("div",{"aria-label":z,className:"x6s0dn4 x78zum5 x1a02dak x1a8lsjc xv54qhq xf7dkkf xz9dl7a",role:"region",children:[k.jsxs("div",{className:"x1cy8zhl x78zum5 x1iyjqo2 xs83m0k xh8yej3",children:[k.jsx(c("CometScreenReaderHeading.react"),{children:z}),k.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),k.jsx(c("CometFeedInlineComposerWOYM.react"),{onHoverInPrerenderer:y,onHoverOutPrerenderer:v,onPress:function(){return E()},onPressInPrerenderer:w,postPlainText:s,profile$key:a.actor,triggerRef:j}),B.isSimplified&&x]}),!B.isSimplified&&x]})});if(b("cr:1993522")==null)return y;else return k.jsx(b("cr:1993522"),{enableFeature:!1,fallback:k.jsx(c("FDSCard.react"),{background:"default",dropShadow:1,children:k.jsxs("div",{"aria-label":z,className:"x6s0dn4 x78zum5 x1a02dak x1a8lsjc xv54qhq xf7dkkf xz9dl7a",role:"region",children:[k.jsx(c("CometScreenReaderHeading.react"),{children:z}),k.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),k.jsx(c("CometFeedInlineComposerWOYM.react"),{onPress:function(){},profile$key:a.actor,triggerRef:o}),k.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:null,showFeedComposerDialog:function(){},triggerRef:o})]})}),children:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometFeedMostRecentHeader.react",["fbt","CometPressable.react","CometRouteParams","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(7),b=d("CometRouteParams").useRouteParams();b=b.sk;if(b!=="h_chr")return null;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Back to top posts"),a[0]=b):b=a[0];b=b;var e,f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x8cjs6t x13fuv20 x178xt8z x78zum5 xdj266r x11t971q xat24cr xvc5jky xyamay9 xyri2b x1l90r2v x1c1uobl"},f={className:"x1iyjqo2"},a[1]=e,a[2]=f):(e=a[1],f=a[2]);var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("FDSText.react"),{type:"headlineEmphasized3",children:h._(/*BTDS*/"Most Recent")})})),g={className:"xs83m0k"},a[3]=f,a[4]=g):(f=a[3],g=a[4]);var i;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(i={url:"/"},a[5]=i):i=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("div",babelHelpers["extends"]({},e,{children:[f,j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(c("CometPressable.react"),{display:"inline",label:b,linkProps:i,overlayDisabled:!0,children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"body3",children:b})})}))]})),a[6]=e):e=a[6];return e}g["default"]=a}),226);
__d("CometHomeContactChannels_refetchable_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9468131563309177"}),null);
__d("CometHomeContactChannels_refetchable.graphql",["CometHomeContactChannels_refetchable_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactChannels_refetchable",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactChannels_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometHomeContactChannels_refetchable",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_broadcast_channel_creation",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"recent_broadcast_channels",plural:!0,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isMessengerPinnableDiscoverablePublicChannelThread"},c,{alias:null,args:null,kind:"ScalarField",name:"join_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null},c],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactChannels_refetchable_facebookRelayOperation"),metadata:{},name:"CometHomeContactChannels_refetchable",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHomeContactChannels_viewer.graphql",["CometHomeContactChannels_refetchable.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("CometHomeContactChannels_refetchable.graphql")}},name:"CometHomeContactChannels_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_broadcast_channel_creation",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"recent_broadcast_channels",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"useMWOpenBroadcastChannelFromProfile_channel"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeCreateChannelButton.react",["fbt","FDSListCellPressable.react","FDSListCellText.react","FDSPlusFilled20Icon","FDSSkittleIcon.react","FDSText.react","react","react-compiler-runtime","useMWAPPlusOpenBroadcastChannelCreationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e=a.refetchChannelList,f=c("useMWAPPlusOpenBroadcastChannelCreationDialog")();b[0]!==f||b[1]!==e?(a=function(){return f("public_chats:channels_gutter",e)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:c("FDSPlusFilled20Icon"),size:36}),b[3]=g):g=b[3];var i;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("FDSListCellText.react"),{headline:j.jsx(c("FDSText.react"),{type:"headline4",children:h._(/*BTDS*/"Create channel")})}),b[4]=i):i=b[4];b[5]!==a?(g=j.jsx(c("FDSListCellPressable.react"),{addOnStart:g,addOnStartMarginTop:0,content:i,onPress:a,paddingHorizontal:8}),b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),226);
__d("CometHomeContactChannels.react",["fbt","CometHomeContactChannels_viewer.graphql","CometHomeCreateChannelButton.react","CometHomeRightRailUnit.react","CometRelay","FBLogger","FDSListCellPressable.react","FDSProfilePhoto.react","FDSTextPairing.react","FDSUnitHeader.react","I64","LSContactListConversionAttributionStore","MWInboxRouteBuilder","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MessengerSidebarClickImpressionEventsLoggerImpl","intlSummarizeNumber","react","react-compiler-runtime","useBroadcastChannelImpressionLogger","useMWOpenBroadcastChannelFromProfile","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;function a(a){var e,f=d("react-compiler-runtime").c(25);a=a.viewer$key;var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MWPActor.react").isAPPlus(),f[0]=g):g=f[0];g=g;var j;f[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=d("MWPActor.react").isPromode(),f[1]=j):j=f[1];j=j;j=j;a=d("CometRelay").useRefetchableFragment(i!==void 0?i:i=b("CometHomeContactChannels_viewer.graphql"),a);var k=a[0],o=a[1];f[2]!==o?(a=function(){o({},{fetchPolicy:"store-and-network"})},f[2]=o,f[3]=a):a=f[3];a=a;var p,q,r,s;if(f[4]!==(k==null||(e=k.actor)==null?void 0:e.recent_broadcast_channels)||f[5]!==(k==null?void 0:k.is_eligible_for_broadcast_channel_creation)){var t,u,v=(k==null||(t=k.actor)==null||(t=t.recent_broadcast_channels)==null?void 0:t.map(n).filter(Boolean))||[];p=v.map(m);q=(k==null?void 0:k.is_eligible_for_broadcast_channel_creation)===!0&&(g||j&&v.length<1);s=c("useBroadcastChannelImpressionLogger");f[11]===Symbol["for"]("react.memo_cache_sentinel")?(r=(!g).toString(),f[11]=r):r=f[11];v=v.length.toString();f[4]=k==null||(u=k.actor)==null?void 0:u.recent_broadcast_channels;f[5]=k==null?void 0:k.is_eligible_for_broadcast_channel_creation;f[6]=p;f[7]=q;f[8]=r;f[9]=v;f[10]=s}else p=f[6],q=f[7],r=f[8],v=f[9],s=f[10];f[12]!==r||f[13]!==v?(k={clientExtras:{is_promode:r,num_channels:v},event:253,parentSurface:11,source:127,surface:91},f[12]=r,f[13]=v,f[14]=k):k=f[14];r=s(k);if(p.length<1&&!q||!g&&!j)return null;f[15]===Symbol["for"]("react.memo_cache_sentinel")?(v=l.jsx(c("FDSUnitHeader.react"),{headline:h._(/*BTDS*/"Channels"),headlineColor:"secondary",level:3}),f[15]=v):v=f[15];f[16]!==q||f[17]!==a?(s=q?l.jsx(c("CometHomeCreateChannelButton.react"),{refetchChannelList:a}):null,f[16]=q,f[17]=a,f[18]=s):s=f[18];f[19]!==p||f[20]!==s?(k=l.jsxs(c("CometHomeRightRailUnit.react"),{header:v,children:[p,s]}),f[19]=p,f[20]=s,f[21]=k):k=f[21];f[22]!==r||f[23]!==k?(g=l.jsx("div",{"data-testid":void 0,ref:r,children:k}),f[22]=r,f[23]=k,f[24]=g):g=f[24];return g}function m(a,b){return l.jsx(o,{channel$key:a.channel,image:a.imageUri,memberCount:a.memberCount,position:b,threadId:a.id,threadName:a.threadName},a.id)}m.displayName=m.name+" [from "+f.id+"]";function n(a){if(a==null){c("FBLogger")("cm_web_mg").warn("channel is unavailable");return null}var b=a.id,d=a.image,e=a.participant_count,f=a.thread_name;if(b==null||f==null||(d==null?void 0:d.uri)==null){c("FBLogger")("cm_web_mg").warn("channel data is unavailable");return null}return{channel:a,id:b,imageUri:d.uri,memberCount:parseInt(e,10),threadName:f}}function o(a){var b=d("react-compiler-runtime").c(27),e=a.channel$key,f=a.image,g=a.memberCount,i=a.position,j=a.threadId;a=a.threadName;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("MWPActor.react").isAPPlus(),b[0]=m):m=b[0];m=m;var n;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(n={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_broadcast_channels"},b[1]=n):n=b[1];b[2]!==i||b[3]!==j?(n={id:j,position:i,surface:n,targetType:"broadcast_channel"},b[2]=i,b[3]=j,b[4]=n):n=b[4];i=n;var o=i;b[5]!==o||b[6]!==j?(n=function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(o);d("LSContactListConversionAttributionStore").setAttribution(j,o);return d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({event:1,parentSurface:11,source:58,surface:91,threadFbid:(k||(k=d("I64"))).of_string(j)})},b[5]=o,b[6]=j,b[7]=n):n=b[7];i=c("useMWOpenBroadcastChannelFromProfile")(e,"homeChannelsGutterUnit",n);if(b[8]!==g){e=c("intlSummarizeNumber")(g);n=h._(/*BTDS*/"_j{\"*\":\"{memberCount} members\",\"_1\":\"{memberCount} member\"}",[h._plural(g),h._param("memberCount",e)]);b[8]=g;b[9]=n}else n=b[9];e=n;b[10]!==i||b[11]!==j?(g=m?[{onNavigate_DEPRECATED_FIXME:i,url:d("MWInboxRouteBuilder").buildURL({thread_key:j})},void 0]:[void 0,i],b[10]=i,b[11]=j,b[12]=g):g=b[12];n=g;m=n[0];i=n[1];b[13]!==o?(g={onVisible:function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(o)},options:d("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},b[13]=o,b[14]=g):g=b[14];n=c("useVisibilityObserver")(g);b[15]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Profile photo"),b[15]=g):g=b[15];b[16]!==f?(g=l.jsx(c("FDSProfilePhoto.react"),{"aria-label":g,shape:"circle",size:36,source:{uri:f}}),b[16]=f,b[17]=g):g=b[17];b[18]!==e||b[19]!==a?(f=l.jsx(c("FDSTextPairing.react"),{body:e,bodyLineLimit:1,headline:a,headlineLineLimit:1,level:4}),b[18]=e,b[19]=a,b[20]=f):f=b[20];b[21]!==m||b[22]!==i||b[23]!==n||b[24]!==g||b[25]!==f?(e=l.jsx(c("FDSListCellPressable.react"),{addOnStart:g,addOnStartVerticalAlign:"center",content:f,linkProps:m,onPress:i,paddingHorizontal:8,ref:n}),b[21]=m,b[22]=i,b[23]=n,b[24]=g,b[25]=f,b[26]=e):e=b[26];return e}g["default"]=a}),226);
__d("CometHomeContactChannelsContainerQuery.graphql",["CometHomeContactChannelsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactChannelsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactChannels_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometHomeContactChannelsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_broadcast_channel_creation",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"recent_broadcast_channels",plural:!0,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isMessengerPinnableDiscoverablePublicChannelThread"},c,{alias:null,args:null,kind:"ScalarField",name:"join_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null},c],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactChannelsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactChannelsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactChannelsContainer.react",["CometHomeContactChannels.react","CometHomeContactChannelsContainerQuery.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.homeContactChannelsQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometHomeContactChannelsContainerQuery.graphql"),a);a=a.viewer;var f;e[0]!==a?(f=j.jsx(c("CometHomeContactChannels.react"),{viewer$key:a}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometHomeContactCommunityChats_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"numChatsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactCommunityChats_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"CommunityMessagingViewerFields",kind:"LinkedField",name:"community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"last",variableName:"numChatsToFetch"}],concreteType:"CommunityMessagingViewerFieldsRecentChannelsConnection",kind:"LinkedField",name:"recent_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"RequiredField",field:a,action:"LOG",path:"community_messaging.recent_channels.nodes.id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},action:"LOG",path:"community_messaging.recent_channels.nodes.thread_name"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"LOG",path:"community_messaging.recent_channels.nodes.community.group.name"},a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactCommunityChats.react",["fbt","CometHomeContactCommunityChats_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometHomeRightRailUnit.react","CometRelay","FDSListCellPressable.react","FDSProfilePhoto.react","FDSTextPairing.react","FDSUnitHeader.react","GroupsCometChatsEngagementLogger","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","MessengerSidebarClickImpressionEventsLoggerImpl","gkx","react","react-compiler-runtime","useCometPreloader","useGroupsCometIsInCCNegativeTest","useMWChatOpenTabForGroup","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;e.useMemo;var m=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("CometHomeContactCommunityChats.react"),n=c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("CometHomeContactCommunityChats.react"),o=h._(/*BTDS*/"Community chats");function a(a){var e,f,g=d("react-compiler-runtime").c(8);a=a.viewer$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactCommunityChats_viewer.graphql"),a);var h=d("useGroupsCometIsInCCNegativeTest").useShouldDisableCMInCometHomeForNegativeTest();if(h)return null;if((a==null?void 0:a.chat_sidebar_is_collapsed)===!0||(a==null||(e=a.actor)==null?void 0:e.should_hide_group_conversations_list)===!0)return null;h=(a==null?void 0:a.chat_visibility)===!0;if(g[0]!==(a==null||(f=a.community_messaging)==null||(f=f.recent_channels)==null?void 0:f.nodes)){var j,k,m=a==null||(j=a.community_messaging)==null||(j=j.recent_channels)==null||(j=j.nodes)==null?void 0:j.map(q).filter(Boolean);m=m!=null?m.map(p):[];g[0]=a==null||(k=a.community_messaging)==null||(k=k.recent_channels)==null?void 0:k.nodes;g[1]=m}else m=g[1];a=m;if(a==null||a.length<1)return null;g[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("FDSUnitHeader.react"),{headline:o,headlineColor:"secondary",level:3}),g[2]=m):m=g[2];var n;g[3]!==a?(n=l.jsx(l.Fragment,{children:a}),g[3]=a,g[4]=n):n=g[4];g[5]!==h||g[6]!==n?(a=l.jsx("div",{children:l.jsx(c("CometHomeRightRailUnit.react"),{header:m,children:l.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:h,children:n})})}),g[5]=h,g[6]=n,g[7]=a):a=g[7];return a}function p(a,b){return l.jsx(r,{communityId:a.communityId,groupId:a.groupId,groupName:a.groupName,image:a.imageUri,name:a.threadName,position:b,threadId:a.id},a.id)}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b,c;if(a==null)return null;var d=a.community,e=a.id,f=a.image;a=a.thread_name;var g=d==null||(b=d.group)==null?void 0:b.name;if(g==null||f==null||f.uri==null)return null;var h=d==null||(c=d.group)==null?void 0:c.id;d=d==null?void 0:d.id;return{communityId:d,groupId:h,groupName:g,id:e,imageUri:f.uri,threadName:a}}function r(a){var b=d("react-compiler-runtime").c(28),e=a.communityId,f=a.groupId,g=a.groupName,i=a.image,k=a.name,m=a.position,n=a.threadId;a=c("useMWChatOpenTabForGroup")("sidebarCommunityChatsList");var o=a[0],p=a[1];b[0]!==p||b[1]!==n?(a=function(){(j||(j=c("JSScheduler"))).scheduleSpeculativeCallback(s),p(n)},b[0]=p,b[1]=n,b[2]=a):a=b[2];a=a;a=c("useCometPreloader")("button",a,a);var q=a.onHoverInPreloader;a=a.onHoverOutPreloader;var r;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(r={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_community_chats"},b[3]=r):r=b[3];b[4]!==m||b[5]!==n?(r={id:n,position:m,surface:r,targetType:"community"},b[4]=m,b[5]=n,b[6]=r):r=b[6];m=r;var t=m;b[7]!==t?(r={onVisible:function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(t)},options:d("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},b[7]=t,b[8]=r):r=b[8];m=c("useVisibilityObserver")(r);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Profile photo"),b[9]=r):r=b[9];b[10]!==i?(r=l.jsx(c("FDSProfilePhoto.react"),{"aria-label":r,shape:"circle",size:36,source:{uri:i}}),b[10]=i,b[11]=r):r=b[11];b[12]!==g||b[13]!==k?(i=l.jsx(c("FDSTextPairing.react"),{body:g,bodyLineLimit:1,headline:k,headlineLineLimit:1,level:4}),b[12]=g,b[13]=k,b[14]=i):i=b[14];b[15]!==e||b[16]!==f||b[17]!==t||b[18]!==o||b[19]!==n?(g=function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(t),d("LSContactListConversionAttributionStore").setAttribution(n,t),d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:e,event:"thread_open",group_id:f,source:"chat_row",surface:"right_nav_bar",thread_id:n}),o(n)},b[15]=e,b[16]=f,b[17]=t,b[18]=o,b[19]=n,b[20]=g):g=b[20];b[21]!==q||b[22]!==a||b[23]!==m||b[24]!==r||b[25]!==i||b[26]!==g?(k=l.jsx("li",{children:l.jsx(c("FDSListCellPressable.react"),{addOnStart:r,addOnStartVerticalAlign:"center",content:i,onHoverIn:q,onHoverOut:a,onPress:g,paddingHorizontal:8,ref:m})}),b[21]=q,b[22]=a,b[23]=m,b[24]=r,b[25]=i,b[26]=g,b[27]=k):k=b[27];return k}function s(){var a=c("gkx")("16508");a===!0?n.preload():m.preload()}g["default"]=a}),226);
__d("CometHomeContactCommunityChatsContainerQuery.graphql",["CometHomeContactCommunityChatsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numChatsToFetch"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContactCommunityChatsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactCommunityChats_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContactCommunityChatsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"CommunityMessagingViewerFields",kind:"LinkedField",name:"community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"last",variableName:"numChatsToFetch"}],concreteType:"CommunityMessagingViewerFieldsRecentChannelsConnection",kind:"LinkedField",name:"recent_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactCommunityChatsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactCommunityChatsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactCommunityChatsContainer.react",["CometHomeContactCommunityChats.react","CometHomeContactCommunityChatsContainerQuery.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.homeContactCommunityChatsQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometHomeContactCommunityChatsContainerQuery.graphql"),a);a=a.viewer;var f;e[0]!==a?(f=j.jsx(c("CometHomeContactCommunityChats.react"),{viewer$key:a}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometHomeContactGroup.react",["fbt","FDSListCellPressable.react","FDSProfilePhoto.react","FDSTextPairing.react","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","MWJewelThreadFacepile.react","MessengerSidebarClickImpressionEventsLoggerImpl","gkx","react","react-compiler-runtime","useCometPreloader","useMWChatOpenTabForGroup","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var l=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("CometHomeContactGroup.react"),m=c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("CometHomeContactGroup.react");function a(a){var b=d("react-compiler-runtime").c(34),e=a.activeStatusOn,f=a.images,g=a.isThreadActive,i=a.lastActiveTime,l=a.name,m=a.position,o=a.threadID;a=c("useMWChatOpenTabForGroup")("sidebarGroupsList");var p=a[0],q=a[1];b[0]!==q||b[1]!==o?(a=function(){(j||(j=d("JSScheduler"))).scheduleSpeculativeCallback(n),q(o)},b[0]=q,b[1]=o,b[2]=a):a=b[2];a=a;a=c("useCometPreloader")("button",a,a);var r=a.onHoverInPreloader;a=a.onHoverOutPreloader;var s;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(s={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_group_chats"},b[3]=s):s=b[3];b[4]!==g||b[5]!==m||b[6]!==o?(s={id:o,isOnline:g,position:m,surface:s,targetType:"group"},b[4]=g,b[5]=m,b[6]=o,b[7]=s):s=b[7];m=s;var t=m;b[8]!==t?(s={onVisible:function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(t)},options:d("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},b[8]=t,b[9]=s):s=b[9];m=c("useVisibilityObserver")(s);b[10]!==t||b[11]!==p||b[12]!==o?(s=function(){d("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(t),d("LSContactListConversionAttributionStore").setAttribution(o,t),p(o)},b[10]=t,b[11]=p,b[12]=o,b[13]=s):s=b[13];s=s;var u;b[14]!==e||b[15]!==g||b[16]!==i?(u=g?{type:"availabilityBadge"}:e&&i!=null?{border:"web-wash",time:i,type:"lastActiveTimeBadge"}:void 0,b[14]=e,b[15]=g,b[16]=i,b[17]=u):u=b[17];e=u;b[18]!==e||b[19]!==f[0]||b[20]!==f[1]||b[21]!==f.length||b[22]!==l?(g=f.length>1?k.jsx(c("MWJewelThreadFacepile.react"),{addOn:e,primaryPhoto:{alt:l,source:{uri:f[0]}},secondaryPhoto:{alt:l,source:{uri:f[1]}},size:36}):f.length===1?k.jsx(c("FDSProfilePhoto.react"),{addOn:e,"aria-label":h._(/*BTDS*/"Profile photo"),shape:"circle",size:36,source:{uri:f[0]}}):void 0,b[18]=e,b[19]=f[0],b[20]=f[1],b[21]=f.length,b[22]=l,b[23]=g):g=b[23];i=g;b[24]!==l?(u=k.jsx(c("FDSTextPairing.react"),{headline:l,level:4}),b[24]=l,b[25]=u):u=b[25];e="sidebar_group_"+o;b[26]!==i||b[27]!==r||b[28]!==a||b[29]!==s||b[30]!==m||b[31]!==e||b[32]!==u?(f=k.jsx(c("FDSListCellPressable.react"),{addOnStart:i,addOnStartVerticalAlign:"center",content:u,onHoverIn:r,onHoverOut:a,onPress:s,paddingHorizontal:8,ref:m,testid:void 0}),b[26]=i,b[27]=r,b[28]=a,b[29]=s,b[30]=m,b[31]=e,b[32]=u,b[33]=f):f=b[33];return f}function n(){var a=c("gkx")("16508");a===!0?m.preload():l.preload()}g["default"]=a}),226);
__d("CometHomeContactGroupsContentWrapper.react",["fbt","CometHomeContactsPresenceAwareList.react","FDSListCellPressable.react","FDSPlusFilled20Icon","FDSSkittleIcon.react","FDSTextPairing.react","gkx","react","react-compiler-runtime","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.activeStatusOn;a=a.groups;var f=c("useMWChatOpenNewTab")("sidebarGroupsList");if(a.length>0){var g;b[0]!==a?(g=j.jsx(j.Fragment,{children:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==g?(a=j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:e,children:g}),b[2]=e,b[3]=g,b[4]=a):a=b[4];return a}else{b[5]!==f?(e=c("gkx")("23256")?null:j.jsx(c("FDSListCellPressable.react"),{addOnStart:j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:c("FDSPlusFilled20Icon"),size:36}),addOnStartVerticalAlign:"center",content:j.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"Create New Group"),level:4}),onPress:function(){return f(!1)},paddingHorizontal:8}),b[5]=f,b[6]=e):e=b[6];return e}}g["default"]=a}),226);
__d("CometHomeContactGroups_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={kind:"Literal",name:"height",value:36},c={kind:"Literal",name:"width",value:36},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"},{kind:"RootArgument",name:"excludeBroadcastChannelThreads"},{kind:"RootArgument",name:"excludeCmThreads"}],kind:"Fragment",metadata:null,name:"CometHomeContactGroups_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"exclude_broadcast_channel_threads",variableName:"excludeBroadcastChannelThreads"},{kind:"Variable",name:"exclude_cm_threads",variableName:"excludeCmThreads"},{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:[b,c],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[b,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},c],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("MWParticipantListRenderer",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=function(){function a(){var a=this;this.$6=function(b){var c=a.$5;if(c!=null){var d=b.id;if(d!=null&&c[d]!=null&&c[d]!=null)return c[d]}return a.$2?b.short_name:b.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var b=a.prototype;b.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return j(this.$1);case 1:return k(a);case 2:return this.$3?m(a):l(a);case 3:return this.$3?o(a):n(a);default:return this.$3?q(a,this.$4):p(a,this.$4)}};b.setIsNewThread=function(a){this.$1=a;return this};b.setNameRenderer=function(a){this.$6=a;return this};b.setUseShortName=function(a){this.$2=a;return this};b.setNickname=function(a){this.$5=a;return this};b.setUseAndSeparator=function(a){this.$3=a;return this};b.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function j(a){if(a)return h._(/*BTDS*/"New message");else return h._(/*BTDS*/"No participants")}function k(a){return a[0]}k.displayName=k.name+" [from "+f.id+"]";function l(a){return h._(/*BTDS*/"{participant1}, {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])])}l.displayName=l.name+" [from "+f.id+"]";function m(a){return h._(/*BTDS*/"{participant1} and {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return h._(/*BTDS*/"{participant1}, {participant2}, {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}n.displayName=n.name+" [from "+f.id+"]";function o(a){return h._(/*BTDS*/"{participant1}, {participant2} and {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return h._(/*BTDS*/"{participant1}, {participant2}, {participant3}, {others_link}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2]),h._param("others_link",r((b||a.length)-3))])}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){return h._(/*BTDS*/"{participant1}, {participant2} and {others_link}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_link",r((b||a.length)-2))])}q.displayName=q.name+" [from "+f.id+"]";function r(a){if(a>1)return h._(/*BTDS*/"_j{\"*\":\"{others_count} others\"}",[h._param("others_count",a,[0])]);else return h._(/*BTDS*/"1 other")}g["default"]=a}),226);
__d("MWUIThreadTitle",["CurrentUser","MWParticipantListRenderer"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={};Object.entries(a).forEach(function(a){var c=a[0];a=a[1];b[c]=a});return b}function i(a,b,d,e,f){if(a!=="")return a;a=h(d);return new(c("MWParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(b)}function a(a,b,d){var e=c("CurrentUser").getID(),f=Object.keys(b).length,g=Object.keys(b).map(function(a){if(a===e&&f>1)return;a=b[a];if(a!=null)return{id:a.id,name:a.name,short_name:a.short_name}}).filter(Boolean);return i(a,g,d,!0,!0)}function b(a,b){if(a!=null)return[a];else{var d=c("CurrentUser").getID();a=Object.keys(b);var e=a.length;return a.map(function(a){if(a===d&&e!==1)return;else{a=b[a];if(a!=null)return a.image_src;else return}}).filter(Boolean)}}g.getTitleForGroup_=a;g.getProfileImages_=b}),98);
__d("CometHomeContactGroups.react",["fbt","CometHomeContactGroup.react","CometHomeContactGroupsContentWrapper.react","CometHomeContactGroups_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","FDSUnitHeader.react","MWUIThreadTitle","MWXacGating","cr:809","filterNulls","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"Group chats");function m(a,b){a=a.map(function(a){var e,f,g,h;a=a==null?void 0:a.node;var i=a==null||(e=a.thread_key)==null?void 0:e.thread_fbid;if(a==null||i==null)return null;if(a.is_xac===!0&&!d("MWXacGating").isGroupsEnabled())return null;f=(f=(f=a.all_participants)==null?void 0:f.edges)!=null?f:[];var j=!1;f=Object.fromEntries(f.map(function(a){var b;a=(a=a.node)==null?void 0:a.messaging_actor;if((a==null?void 0:a.id)==null)return null;var c=a.id;if((a==null?void 0:a.name)==null||((b=a.profile_picture)==null?void 0:b.uri)==null)return null;a.availability==="ACTIVE"&&(j=!0);return[c,{id:c,image_src:a.profile_picture.uri,name:a.name,short_name:(b=a.short_name)!=null?b:a.name}]}).filter(Boolean));g=(g=(g=a.customization_info)==null?void 0:g.participant_customizations)!=null?g:[];g=Object.fromEntries(g.map(function(a){return a==null||a.participant_id==null||a.nickname==null?null:[a.participant_id,a.nickname]}).filter(Boolean));h=d("MWUIThreadTitle").getTitleForGroup_((h=a.name)!=null?h:"",f,g);g=c("filterNulls")(d("MWUIThreadTitle").getProfileImages_((g=a.image)==null?void 0:g.uri,f));return{activeStatusOn:b,id:i,images:g,isThreadActive:j,name:h,updatedTime:a.updated_time}}).filter(Boolean).slice(0,3);return a.map(function(a,b){return k.jsx("li",{children:k.jsx(c("CometHomeContactGroup.react"),{activeStatusOn:a.activeStatusOn,images:a.images,isThreadActive:a.isThreadActive,lastActiveTime:a.updatedTime,name:a.name,position:b,threadID:a.id})},a.id)})}function n(a){var b,e=d("react-compiler-runtime").c(8),f=a.activeStatusOn;a=a.viewer;if(e[0]!==(a==null||(b=a.message_threads)==null?void 0:b.edges)){var g,h,i;g=(g=a==null||(h=a.message_threads)==null?void 0:h.edges)!=null?g:[];e[0]=a==null||(i=a.message_threads)==null?void 0:i.edges;e[1]=g}else g=e[1];e[2]!==f||e[3]!==g?(a=m(g,f),e[2]=f,e[3]=g,e[4]=a):a=e[4];g=a;e[5]!==f||e[6]!==g?(a=k.jsx(c("CometHomeContactGroupsContentWrapper.react"),{activeStatusOn:f,groups:g}),e[5]=f,e[6]=g,e[7]=a):a=e[7];return a}function a(a){var e,f=d("react-compiler-runtime").c(7);a=a.viewer$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactGroups_viewer.graphql"),a);if((a==null?void 0:a.chat_sidebar_is_collapsed)===!0)return null;if((a==null||(e=a.actor)==null?void 0:e.should_hide_group_conversations_list)===!0)return null;var g=(a==null?void 0:a.chat_visibility)===!0,h;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(c("FDSUnitHeader.react"),{headline:l,headlineColor:"secondary",level:3}),f[0]=h):h=f[0];var j;f[1]!==g||f[2]!==a?(j=k.jsx(n,{activeStatusOn:g,viewer:a}),f[1]=g,f[2]=a,f[3]=j):j=f[3];f[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=b("cr:809")?k.jsx(b("cr:809"),{}):null,f[4]=g):g=f[4];f[5]!==j?(a=k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:k.jsxs(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!1,header:h,children:[j,g]})})),f[5]=j,f[6]=a):a=f[6];return a}g["default"]=a}),226);
__d("CometHomeContactGroupsContainerQuery.graphql",["CometHomeContactGroupsContainerQuery_facebookRelayOperation","WebPixelRatio.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"excludeBroadcastChannelThreads"},c={defaultValue:null,kind:"LocalArgument",name:"excludeCmThreads"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={kind:"Literal",name:"height",value:36},h={kind:"Literal",name:"width",value:36},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactGroups_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"}],kind:"Operation",name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"exclude_broadcast_channel_threads",variableName:"excludeBroadcastChannelThreads"},{kind:"Variable",name:"exclude_cm_threads",variableName:"excludeCmThreads"},{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null},e],storageKey:null},f,{alias:null,args:[g,h],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,e,f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[g,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},h],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactGroupsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactGroupsContainerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__WebPixelRatiorelayprovider:b("WebPixelRatio.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactGroupsContainer.react",["CometHomeContactGroups.react","CometHomeContactGroupsContainerQuery.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.homeContactGroupsQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometHomeContactGroupsContainerQuery.graphql"),a);a=a.viewer;var f;e[0]!==a?(f=j.jsx(c("CometHomeContactGroups.react"),{viewer$key:a}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometHomeContactsContainerQuery.graphql",["CometHomeContactsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Literal",name:"supported",value:"3qCwpv"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",fragmentPropName:"contactsHomeDefaultRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsMessagingSolutionForAPRenderer_contactsHomeMessagingSolutionForAPRenderer",fragmentPropName:"contactsHomeMessagingSolutionForAPRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeMessagingSolutionForAPRenderer",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContactsContainerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[d,e],storageKey:'contacts_home_renderer(supported:"3qCwpv")'}],type:"User",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[f,d,e],storageKey:'contacts_home_renderer(supported:"3qCwpv")'}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactsContainer.react",["CometHomeContactsConfig","CometHomeContactsContainerQuery$Parameters","CometHomeContactsContainerQuery.graphql","CometRelay","WebPixelRatio","react","react-compiler-runtime","useInterval","useRefetchablePreloadedQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.startTransition,l=h!==void 0?h:h=b("CometHomeContactsContainerQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(7);a=a.homeContactsQueryReference;a=c("useRefetchablePreloadedQuery")(c("CometHomeContactsContainerQuery$Parameters"),a);var e=a[0];a=a[1];a=d("CometRelay").usePreloadedQuery(l,a);a=a.viewer;var f;b[0]!==e?(f=function(){k(function(){e({numContactsToFetch:c("CometHomeContactsConfig").numContactsToFetch,scale:d("WebPixelRatio").get()})})},b[0]=e,b[1]=f):f=b[1];c("useInterval")(f,3e5);f=a.actor.contacts_home_renderer;if(f==null){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{}),b[2]=a):a=b[2];return a}b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{}),b[3]=a):a=b[3];var g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[4]=g):g=b[4];b[5]!==f?(a=j.jsx(d("CometRelay").MatchContainer,{fallback:a,match:f,props:g}),b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("CometHomeContactAndGroupContainer.react",["CometErrorBoundary.react","CometHomeContactChannelsContainer.react","CometHomeContactCommunityChatsContainer.react","CometHomeContactGroupsContainer.react","CometHomeContactsContainer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.homeContactChannelsQueryReference,f=a.homeContactCommunityChatsQueryReference,g=a.homeContactGroupsQueryReference;a=a.homeContactsQueryReference;var h;b[0]!==a?(h=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometHomeContactsContainer.react"),{homeContactsQueryReference:a})}),b[0]=a,b[1]=h):h=b[1];b[2]!==e?(a=e!=null&&i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometHomeContactChannelsContainer.react"),{homeContactChannelsQueryReference:e})}),b[2]=e,b[3]=a):a=b[3];b[4]!==f?(e=f!=null&&i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometHomeContactCommunityChatsContainer.react"),{homeContactCommunityChatsQueryReference:f})}),b[4]=f,b[5]=e):e=b[5];b[6]!==g?(f=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometHomeContactGroupsContainer.react"),{homeContactGroupsQueryReference:g})}),b[6]=g,b[7]=f):f=b[7];b[8]!==h||b[9]!==a||b[10]!==e||b[11]!==f?(g=i.jsxs(i.Fragment,{children:[h,a,e,f]}),b[8]=h,b[9]=a,b[10]=e,b[11]=f,b[12]=g):g=b[12];return g}g["default"]=a}),98);
__d("CometHomeGQLCreateGroupButton.react",["fbt","FDSListCellPressable.react","FDSPlusFilled20Icon","FDSSkittleIcon.react","FDSTextPairing.react","react","react-compiler-runtime","useCometHomeOpenNewChatTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(){var a=d("react-compiler-runtime").c(6),b=c("useCometHomeOpenNewChatTab")("sidebarGroupsList"),e=b.onPress;a[0]!==e?(b=function(){e()},a[0]=e,a[1]=b):b=a[1];b=b;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:c("FDSPlusFilled20Icon"),size:36}),a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"Create group chat"),level:4}),a[3]=g):g=a[3];a[4]!==b?(f=j.jsx(c("FDSListCellPressable.react"),{addOnStart:f,addOnStartVerticalAlign:"center",content:g,onPress:b,paddingHorizontal:8,testid:void 0}),a[4]=b,a[5]=f):f=a[5];return f}g["default"]=a}),226);
__d("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="31593546656955646"}),null);
__d("CometHomeRightSideEgoRefetchQuery.graphql",["CometHomeRightSideEgoRefetchQuery_facebookRelayOperation","GHLShouldChangeRHCSideFeedFieldName.relayprovider","GHLShouldChangeRHCSideFeedFieldName.relayprovider","GHLShouldChangeRHCAdsFieldName.relayprovider","GHLShouldChangeRHCFieldName.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:0,kind:"LocalArgument",name:"refresh_num"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"shouldChangeRHCSideFeedFieldName"},e={kind:"Variable",name:"refresh_num",variableName:"refresh_num"},f=[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},e],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],i={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"};h={kind:"InlineFragment",selections:h,type:"AdsSideFeedUnitItem",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[e],kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCAdsFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCFieldNamerelayprovider"}],kind:"Operation",name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:"sideFeed",args:f,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},i,h],storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"sideFeedUnit",args:f,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedUnitNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},i,h],storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:b("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation"),metadata:{},name:"CometHomeRightSideEgoRefetchQuery",operationKind:"query",text:null,providedVariables:{shouldChangeRHCSideFeedFieldName:b("GHLShouldChangeRHCSideFeedFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider:b("GHLShouldChangeRHCSideFeedFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeRHCAdsFieldNamerelayprovider:b("GHLShouldChangeRHCAdsFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeRHCFieldNamerelayprovider:b("GHLShouldChangeRHCFieldName.relayprovider")}}}}();e.exports=a}),null);
__d("CometHomeRightSideEgo_viewer.graphql",["CometHomeRightSideEgoRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider"},{defaultValue:0,kind:"LocalArgument",name:"refresh_num"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("CometHomeRightSideEgoRefetchQuery.graphql")}},name:"CometHomeRightSideEgo_viewer",selections:[{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:"sideFeed",args:a,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"sideFeedUnit",args:a,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedUnitNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometSideAdsRefreshHandler",["CometDebounce","CometHomeRightSideEgoRefetchQuery.graphql","CometRHCRefreshConfig","CometRelay","ODS","WebPixelRatio","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,e,f,g){var i=this;(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.constructor");this.$1=a;this.$2=!0;this.$9=1;this.$3=!1;this.$4=b;this.$6=!1;this.$7=!1;this.$8=!1;this.$10=!1;this.$11=!1;this.$5=Date.now();this.$13=e;this.$14=f;this.$16=g;this.$15=!1;this.$12=c("CometDebounce")(function(){i.checkEligibilityAndRefreshIfAllowed()},{wait:c("CometRHCRefreshConfig").debounceDelay})}var b=a.prototype;b.checkEligibilityAndRefreshIfAllowed=function(){this.checkRefreshEligibility()&&this.refresh()};b.checkRefreshEligibility=function(){if(this.$14||this.$6||!this.$2)return!1;if(this.isAdBackgroundedOnHomeTab()||this.isAdHiddenOnHomeTab())return!1;if(this.$8||Date.now()-this.$5>=c("CometRHCRefreshConfig").refreshTimeout){c("CometRHCRefreshConfig").enableTestMode&&d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get(),shouldChangeRHCSideFeedFieldName:!0},{}).toPromise();return!0}return!1};b.unregister=function(){this.$15&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_query_discarded"),this.$2=!1,this.handleActivityTracking()};b.refresh=function(){var a=this;if(this.$6)return;(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_triggered");this.$6=!0;var b="store-or-network";this.$8&&this.$9!==0&&((h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_started"),b="network-only",this.$9=0,this.$15=!0);d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get(),shouldChangeRHCSideFeedFieldName:!0},{fetchPolicy:b}).toPromise().then(function(b){if(a.$14||a.isAdBackgroundedOnHomeTab()||a.isAdHiddenOnHomeTab()||a.$7){(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_cancelled");return}b=a.isAdHiddenForRefresh();a.$8&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_finished."+(b?"hidden":"visible"));a.$8=!1;b?(a.$10=!0,a.$13(a.$9),a.$9++,(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.hidden")):(a.$13(a.$9),a.$9++,a.$15=!1,a.$5=Date.now(),(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.visible"))})["finally"](function(){a.$6=!1,a.$7&&(a.$7=!1,window.setTimeout(a.checkEligibilityAndRefreshIfAllowed(),0))})};b.restartInitialLoad=function(){if(this.$8||!this.$2){this.$2&&!this.$8&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity_lost.not_refreshed");return}this.$8=!0;this.$6?this.$7=!0:this.checkEligibilityAndRefreshIfAllowed()};b.handleActivityTracking=function(){var a=this.$2&&this.$3&&!this.$4;a!==this.$11&&(a?this.enableActivityListeners():this.removeActivityListeners())};b.isAdHiddenForRefresh=function(){return this.$4&&!this.$3};b.isAdHiddenOnHomeTab=function(){return!this.$4&&!this.$3};b.isAdBackgroundedOnHomeTab=function(){return!this.$4&&this.$16()};b.handleAnyVisibilityChange=function(){this.$3&&!this.$4&&this.$10&&(this.$10=!1,this.$15=!1,this.$5=Date.now())};b.enableActivityListeners=function(){window.addEventListener("scroll",this.$12),window.addEventListener("resize",this.$12),this.$11=!0};b.removeActivityListeners=function(){window.removeEventListener("scroll",this.$12),window.removeEventListener("resize",this.$12),this.$11=!1};b.setHiddenSubtree=function(a){this.$4=a,a&&!c("gkx")("5780")&&((h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity"),this.restartInitialLoad()),this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setAdUnitVisibility=function(a){this.$3=a,this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setEnvironment=function(a){this.$1=a};b.setRefetchCallback=function(a){this.$13=a};b.setIsHovered=function(a){this.$14=a};b.setGetIsBackgrounded=function(a){this.$16=a};return a}();g["default"]=a}),98);
__d("useSideAdsRefreshHandler",["CometRelay","CometSideAdsRefreshHandler","HiddenSubtreePassiveContext","react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(26),f=d("CometRelay").useRelayEnvironment(),g=k(null),h=k(null),l=i(c("HiddenSubtreePassiveContext")),m;e[0]!==l?(m=function(){return l.getCurrentState().backgrounded},e[0]=l,e[1]=m):m=e[1];var n=m,o;e[2]!==f?(m=function(){g.current!=null&&g.current.setEnvironment(f)},o=[f],e[2]=f,e[3]=m,e[4]=o):(m=e[3],o=e[4]);j(m,o);e[5]!==a?(m=function(){g.current!=null&&g.current.setRefetchCallback(function(b){a(b)})},o=[a],e[5]=a,e[6]=m,e[7]=o):(m=e[6],o=e[7]);j(m,o);e[8]!==n?(m=function(){g.current!=null&&g.current.setGetIsBackgrounded(n)},o=[n],e[8]=n,e[9]=m,e[10]=o):(m=e[9],o=e[10]);j(m,o);e[11]!==b?(m=function(){g.current!=null&&g.current.setIsHovered(b)},o=[b],e[11]=b,e[12]=m,e[13]=o):(m=e[12],o=e[13]);j(m,o);e[14]!==f||e[15]!==n||e[16]!==l||e[17]!==b||e[18]!==a?(m=function(){if(g.current!=null)return;var d=l.getCurrentState();g.current=new(c("CometSideAdsRefreshHandler"))(f,d.hidden,function(b){a(b)},b,n);h.current!=null&&(h.current.remove(),h.current=null);h.current=l.subscribeToChanges(function(a){g.current!=null&&g.current.setHiddenSubtree(a.hidden)})},e[14]=f,e[15]=n,e[16]=l,e[17]=b,e[18]=a,e[19]=m):m=e[19];var p=m;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(o={onHidden:function(){g.current!=null&&g.current.setAdUnitVisibility(!1)},onVisible:function(){g.current!=null&&g.current.setAdUnitVisibility(!0)}},e[20]=o):o=e[20];var q=c("useVisibilityObserver")(o);e[21]!==p||e[22]!==q?(m=function(a){a!=null&&(p(),q(a))},e[21]=p,e[22]=q,e[23]=m):m=e[23];o=m;var r;e[24]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(){return function(){g.current!=null&&(g.current.unregister(),g.current=null),h.current!=null&&(h.current.remove(),h.current=null)}},r=[],e[24]=m,e[25]=r):(m=e[24],r=e[25]);j(m,r);return o}g["default"]=a}),98);
__d("CometHomeRightSideEgo.react",["CometHomeRightSideEgo_viewer.graphql","CometRelay","GHLMitigationsGating","ODS","Random","react","react-compiler-runtime","useSideAdsRefreshHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.startTransition;e.useCallback;var m=e.useEffect,n=e.useState,o=h!==void 0?h:h=b("CometHomeRightSideEgo_viewer.graphql");function a(a){var b,e,f=d("react-compiler-runtime").c(14);a=a.viewerRef;a=d("CometRelay").useRefetchableFragment(o,a);var g=a[0],h=a[1];a=(a=g==null||(b=g.sideFeed)==null?void 0:b.nodes)!=null?a:g==null||(e=g.sideFeedUnit)==null?void 0:e.nodes;g=n(null);var i=g[0];g=g[1];var p=n(!1),q=p[0],r=p[1],s;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){var a=function(){r(!1)};window.addEventListener("blur",a);return function(){window.removeEventListener("blur",a)}},s=[],f[0]=p,f[1]=s):(p=f[0],s=f[1]);m(p,s);f[2]!==i?(p=function(){i==null&&(d("Random").coinflip(2)&&(j||(j=d("ODS"))).bumpEntityKey(144,"feed_ads","CometHomeRightSideEgo.empty_first_unit",2))},s=[i],f[2]=i,f[3]=p,f[4]=s):(p=f[3],s=f[4]);m(p,s);f[5]!==h?(p=function(a){l(function(){h({refresh_num:a},{fetchPolicy:"store-only"})})},f[5]=h,f[6]=p):p=f[6];s=p;p=c("useSideAdsRefreshHandler")(s,q);if(a!=null&&a.length>=1&&i!==a[0]){g(a[0]);return null}if(i==null||Object.keys(i).length===0)return null;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){r(!0)},q=function(){r(!1)},f[7]=s,f[8]=q):(s=f[7],q=f[8]);f[9]!==i?(g=k.jsx(d("CometRelay").MatchContainer,{match:i}),f[9]=i,f[10]=g):g=f[10];f[11]!==p||f[12]!==g?(a=k.jsx("div",{className:d("GHLMitigationsGating").getIsGHLRHCExtraClassEnabled()?"":void 0,onMouseEnter:s,onMouseLeave:q,ref:p,children:g}),f[11]=p,f[12]=g,f[13]=a):a=f[13];return a}f=a;g["default"]=f}),98);
__d("CometHomeRightSideEgoContainer_egoPanel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoContainer_egoPanel",selections:[{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeRightSideEgoContainer.react",["CometHomeRightSideEgo.react","CometHomeRightSideEgoContainer_egoPanel.graphql","CometRelay","FBLogger","GHLMitigationsGating","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.egoPanel;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeRightSideEgoContainer_egoPanel.graphql"),a);if(!a){c("FBLogger")("feed_ads").mustfix("Expecting non-nullviewer");return null}var f;e[0]!==a?(f=j.jsx(j.Fragment,{children:d("GHLMitigationsGating").getIsGHLRhcRemoveExtraSpanEnabled()?j.jsx(c("CometHomeRightSideEgo.react"),{viewerRef:a}):j.jsx("span",{className:d("GHLMitigationsGating").getIsGHLRHCExtraClassEnabled()?"":void 0,children:j.jsx(c("CometHomeRightSideEgo.react"),{viewerRef:a})})}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometMegaphoneRootQuery.graphql",["CometMegaphoneRootQuery_facebookRelayOperation","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:1,kind:"LocalArgument",name:"first"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"surface_nux_id",value:2646},{kind:"Literal",name:"trigger",value:"NEWSFEED"}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:d,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMegaphoneQuickPromotionSection_quickPromotion"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"}],kind:"Operation",name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:d,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2e5U5"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometPrimaryTestUserUpsellQP_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometPrimaryTestUserUpsellQP",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometStandardMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometStandardMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNonprofitMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNonprofitMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPDiglossiaSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPDiglossiaSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPRegularSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPRegularSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullBleedImageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullBleedImageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionTransparencyInformPlatformRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionTransparencyInformPlatformRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneMPWBulkMigrationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWMPWBulkMigrationWarningRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2e5U5")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMegaphoneRootQuery_facebookRelayOperation"),metadata:{},name:"CometMegaphoneRootQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:b("FBReels_enable_view_dubbed_audio_type_gk.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMegaphoneRoot.react",["CometMegaphoneQuickPromotionSection.react","CometMegaphoneRootQuery.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("CometMegaphoneRootQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(2);a=a.megaphoneQueryReference;a=d("CometRelay").usePreloadedQuery(k,a);a=(a=a.viewer)==null||(a=a.megaphonePromotions)==null||(a=a.edges[0])==null?void 0:a.node;if(a==null)return null;var e;b[0]!==a?(e=j.jsx(c("CometMegaphoneQuickPromotionSection.react"),{quickPromotion:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometRightSideHeaderCardsQuery.graphql",["CometRightSideHeaderCardsQuery_facebookRelayOperation","GHLShouldChangeRHCSideFeedFieldName.relayprovider","GHLShouldChangeRHCAdsFieldName.relayprovider","GHLShouldChangeRHCFieldName.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"refresh_num"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={kind:"Literal",name:"environment",value:"COMET"},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[f],h={kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"};g={kind:"InlineFragment",selections:g,type:"AdsSideFeedUnitItem",abstractKey:null};var i=[d,{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Literal",name:"refresh_num",value:0}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgoContainer_egoPanel"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesCometHomeAdminContainer_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCAdsFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeRHCFieldNamerelayprovider"}],kind:"Operation",name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[d,{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},h,g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_manage_classic_page_in_pages_tab",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:"sideFeed",args:i,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},h,g],storageKey:null}],storageKey:'side_feed(environment:"COMET",query_ego_units:true,refresh_num:0)'}]},{condition:"__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"sideFeedUnit",args:i,concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer_sideFeedUnitNodes",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},h,g],storageKey:null}],storageKey:'side_feed(environment:"COMET",query_ego_units:true,refresh_num:0)'}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("CometRightSideHeaderCardsQuery_facebookRelayOperation"),metadata:{},name:"CometRightSideHeaderCardsQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeRHCSideFeedFieldNamerelayprovider:b("GHLShouldChangeRHCSideFeedFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeRHCAdsFieldNamerelayprovider:b("GHLShouldChangeRHCAdsFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeRHCFieldNamerelayprovider:b("GHLShouldChangeRHCFieldName.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometRightSideHeaderCards_viewerSideFeed.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"refresh_num"}],kind:"Fragment",metadata:null,name:"CometRightSideHeaderCards_viewerSideFeed",selections:[{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometRightSideHeaderCards.react",["CometErrorBoundary.react","CometHomeRightSideEgoContainer.react","CometRelay","CometRightSideHeaderCardsQuery.graphql","CometRightSideHeaderCards_viewerSideFeed.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=h!==void 0?h:h=b("CometRightSideHeaderCardsQuery.graphql"),m=i!==void 0?i:i=b("CometRightSideHeaderCards_viewerSideFeed.graphql");function n(a){var b,e=d("react-compiler-runtime").c(8);a=a.rightSideHeaderCardsQueryReference;a=d("CometRelay").usePreloadedQuery(l,a);var f=a.viewer,g=a;a=d("CometRelay").useFragment(m,f);if(f==null)return null;a=a==null||(b=a.side_feed)==null?void 0:b.nodes;var h;e[0]!==g||e[1]!==a?(h=a!=null?a.map(function(a,b){var e=(a==null?void 0:a.__typename)==="PagesSideFeedUnit";return k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(d("CometRelay").MatchContainer,babelHelpers["extends"]({match:a},e?{props:{query$key:g}}:{}))},b)}).filter(Boolean):null,e[0]=g,e[1]=a,e[2]=h):h=e[2];a=h;e[3]!==f?(h=k.jsx(c("CometHomeRightSideEgoContainer.react"),{egoPanel:f}),e[3]=f,e[4]=h):h=e[4];e[5]!==a||e[6]!==h?(f=k.jsxs("div",{children:[h,a]}),e[5]=a,e[6]=h,e[7]=f):f=e[7];return f}function a(a){return k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesActivityBadgeDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometActivityBadge.react").__setRef("StoriesActivityBadgeDeferred.react"));b=a;g["default"]=b}),98);
__d("TopOfFeedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={topOfFeedEnabled:!1};c=a.createContext(b);g["default"]=c}),98);
__d("StoriesTrayCreateCard.react",["fbt","CometListCellStrict_DEPRECATED.react","FDSCard.react","QuickPerformanceLogger","StoriesGating","StoriesPlusFilled24IconSVG.react","TopOfFeedContext","XCometStoriesCreateControllerRouteBuilder","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useContext;function a(){var a=d("react-compiler-runtime").c(9),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("XCometStoriesCreateControllerRouteBuilder").buildURL({}),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={entryPoint:"add_to_story_persistent_button",sourceSurface:"newsfeed"},a[1]=e):e=a[1];e=e;var f=m,g=l(c("TopOfFeedContext"));g=g.topOfFeedEnabled;var i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1yztbdb"},a[2]=i):i=a[2];g=g?0:1;var j;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x1y1aw1k xwib8y2"},a[3]=j):j=a[3];var n,o;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(n={color:"lightblue",icon:c("StoriesPlusFilled24IconSVG.react"),size:40,type:"contained-icon"},o=d("StoriesGating").getCreationDescription(),a[4]=n,a[5]=o):(n=a[4],o=a[5]);a[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:n,body:o,emphasized:!0,headline:h._(/*BTDS*/"Create story"),linkProps:{passthroughProps:e,url:b},onPress:f})})),a[6]=j):j=a[6];a[7]!==g?(n=k.jsx("div",babelHelpers["extends"]({},i,{children:k.jsx(c("FDSCard.react"),{background:"default",dropShadow:g,children:j})})),a[7]=g,a[8]=n):n=a[8];return n}function m(){(i||(i=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(741087294,"2028"),4),i.markerStart(c("qpl")._(741087294,"2028"))}g["default"]=a}),226);
__d("StoriesTrayErrorCardLazyLoaded.react",["JSResourceForInteraction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";a=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesTrayErrorCard.react").__setRef("StoriesTrayErrorCardLazyLoaded.react"));g["default"]=a}),98);
__d("StoriesTrayTileAvatar.react",["fbt","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSText.react","StoriesActivityBadgeDeferred.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={activeBadge:{bottom:"xn0vg7t",insetInlineEnd:"xys98vm",left:null,right:null,position:"x10l6tqk",$$css:!0},borderBlue:{borderTopColor:"x1tz4bnf",borderInlineEndColor:"x1yqjg3l",borderBottomColor:"x25epmt",borderInlineStartColor:"xkkygvr",$$css:!0},borderGreen:{borderTopColor:"x751hie",borderInlineEndColor:"x1u8va7r",borderBottomColor:"xnatle3",borderInlineStartColor:"xos4puk",$$css:!0},borderRed:{borderTopColor:"x1mqrs8o",borderInlineEndColor:"x1eayinb",borderBottomColor:"xip93fl",borderInlineStartColor:"x13wnz0e",$$css:!0},borderTransparent:{borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},borderWhite:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",$$css:!0},liveText:{backgroundColor:"x1ciooss",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",bottom:"xbfrwjf",insetInlineStart:"xzwoauc",left:null,right:null,paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",paddingLeft:null,paddingRight:null,position:"x10l6tqk",textAlign:"x2b8uid",width:"x23j0i4",$$css:!0},loadingOverlay:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1yyfhjw",$$css:!0},opaqueBackground:{backgroundColor:"x1jx94hy",$$css:!0},ringedBorder:{borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x1gp4ovq",borderInlineEndWidth:"x9p2oo0",borderBottomWidth:"x1h2mt7u",borderInlineStartWidth:"x56jcm7",$$css:!0},spinner:{insetInlineStart:"x1o4gcgt",left:null,right:null,position:"x1n2onr6",top:"x1lg0oad",$$css:!0},wrapper:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",boxSizing:"x9f619",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x100vrsf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.children,g=a.hasNew,i=a.isLiveStreaming,l=a.isOnline,m=a.isOpaqueBackground,n=a.isUploading;a=a.shouldShowCloseFriendsBadge;i=i===void 0?!1:i;l=l===void 0?!1:l;n=n===void 0?!1:n;a=a===void 0?!1:a;var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"LIVE"),b[0]=o):o=b[0];o=o;m=m===!0&&k.opaqueBackground;var p=e!=null&&k.ringedBorder,q=g===!0&&!n&&a&&k.borderGreen;a=g===!0&&!n&&!a&&k.borderBlue;g=g!==!0&&!n&&k.borderWhite;var r=n&&!i&&k.borderTransparent,s=i&&k.borderRed,t;b[1]!==g||b[2]!==r||b[3]!==s||b[4]!==m||b[5]!==p||b[6]!==q||b[7]!==a?(t=[k.wrapper,m,p,q,a,g,r,s],b[1]=g,b[2]=r,b[3]=s,b[4]=m,b[5]=p,b[6]=q,b[7]=a,b[8]=t):t=b[8];b[9]!==i||b[10]!==n?(g=n&&!i&&j.jsx(d("react-strict-dom").html.div,{style:k.loadingOverlay,children:j.jsx(d("react-strict-dom").html.div,{style:k.spinner,children:j.jsx(c("FDSLoadingAnimation.react"),{size:40})})}),b[9]=i,b[10]=n,b[11]=g):g=b[11];b[12]!==i?(r=i&&j.jsx(d("react-strict-dom").html.div,{style:k.liveText,children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:o})}),b[12]=i,b[13]=r):r=b[13];b[14]!==i||b[15]!==l?(s=!i&&l&&j.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:k.activeBadge},c("CometVisualCompletionAttributes").IGNORE,{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(c("StoriesActivityBadgeDeferred.react"),{size:8,state:"active"})})})),b[14]=i,b[15]=l,b[16]=s):s=b[16];b[17]!==s?(m=j.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:s}),b[17]=s,b[18]=m):m=b[18];b[19]!==e||b[20]!==t||b[21]!==g||b[22]!==r||b[23]!==m?(p=j.jsxs(d("react-strict-dom").html.div,{style:t,children:[g,e,r,m]}),b[19]=e,b[20]=t,b[21]=g,b[22]=r,b[23]=m,b[24]=p):p=b[24];return p}g["default"]=a}),226);
__d("StoriesTrayTileGlimmer.react",["FDSGlimmer.react","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={contents:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.aspectRatio;a=a.index;a=a===void 0?0:a;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("StoriesTrayTileAvatar.react"),{}),b[0]=f):f=b[0];b[1]!==e?(f=i.jsx(c("StoriesTrayTileView.react"),{aspectRatio:e,avatar:f,showShadow:!1}),b[1]=e,b[2]=f):f=b[2];b[3]!==a||b[4]!==f?(e=i.jsx(c("FDSGlimmer.react"),{index:a,xstyle:j.contents,children:f}),b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("StoriesTrayTileHScrollScrollListener.react",["StoriesConstants","StoriesTrayTileGlimmer.react","react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onShow;var e;b[0]!==a?(e={onVisible:a},b[0]=a,b[1]=e):e=b[1];a=c("useVisibilityObserver")(e);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("StoriesTrayTileGlimmer.react"),{aspectRatio:d("StoriesConstants").DEFAULT_ASPECT_RATIO}),b[2]=e):e=b[2];b[3]!==a?(e=i.jsx("div",{ref:a,children:e}),b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("StoriesTrayHScrollContainer.react",["fbt","CometOnRefresh","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","FBLogger","FDSHScroll.react","JSScheduler","StoriesGating","StoriesTrayTileHScrollScrollListener.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useLayoutEffect,n=b.useRef,o=b.useState,p={header:{alignItems:"x1cy8zhl",display:"x78zum5",marginInlineStart:"x1lziwak",marginInlineEnd:"x14z9mp",marginLeft:null,marginRight:null,marginTop:"x11xss2o",scrollSnapAlign:"x1q22t7g",width:"xnalus7",$$css:!0},hscrollListenerHidden:{display:"x1s85apg",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(39),e=a.cardWidth,f=a.children,g=a.hasNext,j=a.hideArrows,r=a.isLoadingNext,s=a.loadNext;a=a.peek;f=k.Children.map(f,q);var t=o(!1),u=t[0],v=t[1];t=o(0);var w=t[0],x=t[1],y=n(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("StoriesGating").getHScrollRefetchCount(),b[0]=t):t=b[0];var z=t,A=n(null);b[1]!==g||b[2]!==r||b[3]!==s?(t=function(){z===0?c("FBLogger")("fbstories").warn("Stories to fetch = 0, yet the user is attempting to fetch more buckets"):g&&!r&&(A.current=s(z))},b[1]=g,b[2]=r,b[3]=s,b[4]=t):t=b[4];var B=t,C;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){return function(){var a;(a=A.current)==null||a.dispose()}},C=[],b[5]=t,b[6]=C):(t=b[5],C=b[6]);m(t,C);var D=n(B);b[7]!==B?(t=function(){D.current=B},C=[B],b[7]=B,b[8]=t,b[9]=C):(t=b[8],C=b[9]);m(t,C);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){var a=D.current;if(a!=null){var b=(i||(i=c("JSScheduler"))).defer(function(){a(),b=null});return function(){b&&(i||(i=c("JSScheduler"))).cancelCallback(b)}}},C=[],b[10]=t,b[11]=C):(t=b[10],C=b[11]);l(t,C);b[12]!==v?(t=function(){v(!0)},b[12]=v,b[13]=t):t=b[13];C=t;d("CometOnRefresh").useOnRefresh(C);t=(!g||u)&&p.hscrollListenerHidden;b[14]!==B?(C=k.jsx(c("StoriesTrayTileHScrollScrollListener.react"),{onShow:B}),b[14]=B,b[15]=C):C=b[15];var E;b[16]!==t||b[17]!==C?(E=k.jsx(d("FDSHScroll.react").Child,{xstyle:t,children:C},"visibility-placeholder"),b[16]=t,b[17]=C,b[18]=E):E=b[18];f.push(E);b[19]!==u||b[20]!==w||b[21]!==v||b[22]!==x?(t=function(){u&&(y.current&&(x(w+1),y.current=!1),v(!1))},b[19]=u,b[20]=w,b[21]=v,b[22]=x,b[23]=t):t=b[23];b[24]!==u||b[25]!==w?(C=[u,w],b[24]=u,b[25]=w,b[26]=C):C=b[26];l(t,C);b[27]!==B?(E=function(){y.current=!0,B()},b[27]=B,b[28]=E):E=b[28];t=E;b[29]===Symbol["for"]("react.memo_cache_sentinel")?(C=h._(/*BTDS*/"stories tray"),b[29]=C):C=b[29];b[30]!==e?(E=e!=null?e:{minWidth:108,type:"responsive"},b[30]=e,b[31]=E):E=b[31];b[32]!==j||b[33]!==f||b[34]!==t||b[35]!==a||b[36]!==w||b[37]!==E?(e=k.jsx(d("FDSHScroll.react").Container,{accessibilityLabel:C,cardWidth:E,children:f,gap:8,hideArrows:j,onPressNext:t,peek:a,peekPaddingEnd:0,peekPaddingStart:0,role:"grid"},w),b[32]=j,b[33]=f,b[34]=t,b[35]=a,b[36]=w,b[37]=E,b[38]=e):e=b[38];return e}function q(a){var b=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key,e=b==="header"||b==="sticky-header"||b==="collapsible-sticky-header",f=e||b==="tofu-null-card"||b==="divider";return k.jsx(d("FDSHScroll.react").Child,{type:f?"custom":"default",xstyle:e&&p.header,children:a},b)}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayRectangularBuckets_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"isFbNotesIncluded"}],kind:"Fragment",metadata:{plural:!0},name:"StoriesTrayRectangularBuckets_buckets",selections:[a,{alias:null,args:[{kind:"Variable",name:"include_fb_note",variableName:"isFbNotesIncluded"}],concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:b,storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:b,storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchProfileURI_profile"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsLogger_buckets"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsIndexer_buckets"},{args:null,kind:"FragmentSpread",name:"StoriesTrayTileSelf_bucket"},{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"StoriesTrayTile_bucket"}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayRectangularBuckets_createTileUris.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularBuckets_createTileUris",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayCreateTile_imageUris"}],type:"User",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTile_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTile_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTile_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={kind:"Literal",name:"width",value:40},e=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],f={alias:null,args:[c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},g=[{kind:"Literal",name:"height",value:277},c,{kind:"Literal",name:"width",value:156}],h={alias:"coverImage",args:g,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},i=[b,f,h];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldSkipCanViewerReply"}],kind:"Fragment",metadata:null,name:"StoriesTrayTile_bucket",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},a,{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:i,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:[{kind:"Literal",name:"height",value:40},c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},h],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[b,f,h,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:g,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_storyCardInfo"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_story"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{condition:"shouldSkipCanViewerReply",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}]},{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayProfileImpressionLogging_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesTrayProfileImpressionLogging_bucket",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayProfileImpressionLogging",["CometRelay","StoriesActorContext","StoriesLoggerHelper","TopOfFeedLoggingContext","react","react-compiler-runtime","requireDeferred","useImpressionLogger","useStoriesTrayProfileImpressionLogging_bucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useContext,k=e.useRef,l=c("requireDeferred")("StoryProfileImpressionFalcoEvent").__setRef("useStoriesTrayProfileImpressionLogging"),m=h!==void 0?h:h=b("useStoriesTrayProfileImpressionLogging_bucket.graphql");function a(a,b,e,f){var g,h,i,n,o=d("react-compiler-runtime").c(14),p=k(!1),q=d("CometRelay").useFragment(m,a);a=j(c("StoriesActorContext"));a=a.actorID;var r=j(c("TopOfFeedLoggingContext")),s=r.tofuSessionID;r=q==null||(g=q.story_bucket_owner)==null?void 0:g.__typename;var t=q==null||(h=q.story_bucket_owner)==null?void 0:h.id,u=(q==null||(i=q.story_bucket_owner)==null?void 0:i.is_viewer_friend)||!1,v;o[0]!==a||o[1]!==u||o[2]!==t||o[3]!==r?(v=d("StoriesLoggerHelper").getOwnerType(a,r,t,u),o[0]=a,o[1]=u,o[2]=t,o[3]=r,o[4]=v):v=o[4];var w=v,x=q==null||(n=q.thumbnail_story_to_show)==null||(n=n.attachments)==null||(n=n[0])==null||(n=n.media)==null?void 0:n.id;o[5]!==q||o[6]!==x||o[7]!==t||o[8]!==w||o[9]!==b||o[10]!==f||o[11]!==s||o[12]!==e?(a=function(a){if(p.current||q==null)return;p.current=!0;a.log(function(){return{has_new_content:q.is_bucket_seen_by_viewer||!1,has_new_views:q.is_bucket_seen_by_viewer||!1,media_id:x,preview_type:"rectangle",source:b,story_index:f,story_owner:t,story_owner_type:w,tofu_tray_session_id:s,tracking_string:q==null?void 0:q.ranking_tracking_string,tray_session_id:e}})},o[5]=q,o[6]=x,o[7]=t,o[8]=w,o[9]=b,o[10]=f,o[11]=s,o[12]=e,o[13]=a):a=o[13];u=a;return c("useImpressionLogger")(l,u)}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchImageURI_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePrefetchImageURI_story",selections:[{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},a],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},a,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchImageURI",["CometRelay","react-compiler-runtime","useStoriesTrayTilePrefetchImageURI_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e,f,g=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchImageURI_story.graphql"),a);var i=a==null||(c=a.attachments)==null||(c=c[0])==null?void 0:c.media,j=i==null||(e=i.image)==null?void 0:e.uri,k=a==null||(f=a.backdrop)==null||(f=f.media)==null||(f=f.image)==null?void 0:f.uri;g[0]!==k||g[1]!==j?(i=j==null&&k==null?null:function(){if(j!=null){var a=new Image();a.src=j;if(k!=null){a=new Image();a.src=k}}},g[0]=k,g[1]=j,g[2]=i):i=g[2];return i}g["default"]=a}),98);
__d("useStoriesTrayTilePressable_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePressable_story",selections:[{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchImageURI_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("useStoriesTrayTilePressable",["CometRelay","QPLUserFlow","StoriesLoggingConstants","qpl","react-compiler-runtime","useStoriesTrayTilePrefetchImageURI","useStoriesTrayTilePressable_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=d("react-compiler-runtime").c(3);e===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:e;e=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePressable_story.graphql"),a);var g=c("useStoriesTrayTilePrefetchImageURI")(e);if(f[0]===Symbol["for"]("react.memo_cache_sentinel")){var i=c("qpl")._(741087294,"2028");a=function(){c("QPLUserFlow").start(i)};f[0]=a}else a=f[0];f[1]!==g?(e={onPress:a,onPressIn:function(a){g&&g()}},f[1]=g,f[2]=e):e=f[2];return e}g["default"]=a}),98);
__d("StoriesTrayTile.react",["fbt","CometImage.react","CometRelay","GraphQLGender","StoriesEnums","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","StoriesTrayTile_LWRAnimations.graphql","StoriesTrayTile_bucket.graphql","StoriesTrayUtils","XPlatReactEnvironment","isStringNullOrEmpty","react","react-compiler-runtime","react-strict-dom","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["animations","bucketCount","bucketLength","bucketNode","gender","hasSelfBucket","isFirstVideoTile","isOnBizKit","traySessionID","source","storiesTrayType","index","trayBucketIDs","hasReactionIcon","onPress","onPressIn"],j,k,l,m=l||d("react"),n={profileImagePlaceholder:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(a){var e,f,g,l,p,q,r,s,t=d("react-compiler-runtime").c(80),u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;t[0]!==a?(u=a.animations,v=a.bucketCount,w=a.bucketLength,x=a.bucketNode,D=a.gender,y=a.hasSelfBucket,E=a.isFirstVideoTile,F=a.isOnBizKit,K=a.traySessionID,G=a.source,H=a.storiesTrayType,z=a.index,J=a.trayBucketIDs,I=a.hasReactionIcon,B=a.onPress,A=a.onPressIn,C=babelHelpers.objectWithoutPropertiesLoose(a,i),t[0]=a,t[1]=u,t[2]=v,t[3]=w,t[4]=x,t[5]=y,t[6]=z,t[7]=A,t[8]=B,t[9]=C,t[10]=D,t[11]=E,t[12]=F,t[13]=G,t[14]=H,t[15]=I,t[16]=J,t[17]=K):(u=t[1],v=t[2],w=t[3],x=t[4],y=t[5],z=t[6],A=t[7],B=t[8],C=t[9],D=t[10],E=t[11],F=t[12],G=t[13],H=t[14],I=t[15],J=t[16],K=t[17]);a=D===void 0?"UNKNOWN":D;D=E===void 0?!1:E;E=F===void 0?!1:F;F=G===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.UNKNOWN:G;G=H===void 0?"TOP_OF_FEED_TRAY":H;H=I===void 0?!1:I;I=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayTile_bucket.graphql"),x);x=I==null?void 0:I.id;z=c("useStoriesTrayProfileImpressionLogging")(I,F,K,z);var L=c("useStoriesTrayTilePressable")(I==null?void 0:I.first_story_to_show,F),M=L.onPress,N=L.onPressIn;L=d("CometRelay").useFragment(k!==void 0?k:k=b("StoriesTrayTile_LWRAnimations.graphql"),u);if(I==null||x==null)return null;u=I.story_bucket_owner;var O=I.first_story_to_show,P=I.thumbnail_story_to_show,Q=I.ranking_tracking_string;e=(e=I.should_show_close_friend_badge)!=null?e:!1;var R=I.story_bucket_type,S=P==null?void 0:P.story_card_info;f=(f=O==null||(g=O.story_card_info)==null?void 0:g.can_viewer_reply)!=null?f:!1;l=(l=(l=S==null||(p=S.story_thumbnail)==null?void 0:p.uri)!=null?l:u==null||(q=u.coverImage)==null?void 0:q.uri)!=null?l:"";var T=S==null||(r=S.background_color_info)==null||(r=r.color_info)==null?void 0:r[0];T=T==null?void 0:T.dominant_color;var U=u==null||(s=u.profile_picture)==null?void 0:s.uri;if(t[18]!==(u==null?void 0:u.name)){var V;V=(V=u==null?void 0:u.name)!=null?V:h._(/*BTDS*/"Story poster");t[18]=u==null?void 0:u.name;t[19]=V}else V=t[19];V=V;var W=I.is_bucket_seen_by_viewer===!1;I=(I=I==null?void 0:I.is_bucket_live)!=null?I:!1;u=(u=u==null?void 0:u.availability)!=null?u:null;u=u==="ACTIVE";var X;t[20]!==V||t[21]!==U?(X=U!=null?m.jsx(c("CometImage.react"),{alt:V,height:40,src:U,width:40}):m.jsx(d("react-strict-dom").html.div,{style:n.profileImagePlaceholder}),t[20]=V,t[21]=U,t[22]=X):X=t[22];U=X;t[23]!==U||t[24]!==W||t[25]!==I||t[26]!==u||t[27]!==e?(X=m.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:W,isLiveStreaming:I,isOnline:u,isOpaqueBackground:!1,shouldShowCloseFriendsBadge:e,children:U}),t[23]=U,t[24]=W,t[25]=I,t[26]=u,t[27]=e,t[28]=X):X=t[28];U=X;t[29]!==v||t[30]!==x||t[31]!==E||t[32]!==(O==null?void 0:O.id)||t[33]!==F?(I=E||!d("XPlatReactEnvironment").isWeb()?null:d("StoriesTrayUtils").getBucketURL({bucketCount:v,bucketID:x,cardID:O==null?void 0:O.id,source:F}),t[29]=v,t[30]=x,t[31]=E,t[32]=O==null?void 0:O.id,t[33]=F,t[34]=I):I=t[34];u=I;t[35]!==a?(e=new(c("GraphQLGender"))(a).toIntlVariationsEnum(),t[35]=a,t[36]=e):e=t[36];X=e;t[37]!==X||t[38]!==V?(v=h._(/*BTDS*/"_j{\"*\":\"{Story owner's name (possesive)}'s story\"}",[h._name("Story owner's name (possesive)",V,X)]),t[37]=X,t[38]=V,t[39]=v):v=t[39];x=v;E=c("isStringNullOrEmpty")(T)?null:"#"+T;if(t[40]!==(P==null?void 0:P.attachments)){var Y;I=P==null||(Y=P.attachments)==null||(Y=Y.find(o))==null||(Y=Y.media)==null||(Y=Y.cix_screen)==null?void 0:Y.view_model;t[40]=P==null?void 0:P.attachments;t[41]=I}else I=t[41];a=I;t[42]!==M||t[43]!==B?(e=function(a){M&&M(a),B&&B()},t[42]=M,t[43]=B,t[44]=e):e=t[44];t[45]!==N||t[46]!==A?(X=function(a){N&&N(a),A&&A()},t[45]=N,t[46]=A,t[47]=X):X=t[47];t[48]!==w||t[49]!==y||t[50]!==F||t[51]!==G||t[52]!==Q||t[53]!==J||t[54]!==K?(v={bucketLength:w,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER,hasSelfBucket:y,source:F,storiesTrayType:G,trackingString:Q,trayBucketIDs:J,traySessionID:K},t[48]=w,t[49]=y,t[50]=F,t[51]=G,t[52]=Q,t[53]=J,t[54]=K,t[55]=v):v=t[55];T=O==null?void 0:O.id;t[56]!==L||t[57]!==U||t[58]!==E||t[59]!==R||t[60]!==u||t[61]!==f||t[62]!==l||t[63]!==W||t[64]!==H||t[65]!==D||t[66]!==x||t[67]!==V||t[68]!==S||t[69]!==C||t[70]!==e||t[71]!==X||t[72]!==v||t[73]!==T||t[74]!==P||t[75]!==a?(I=m.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({animations:L,avatar:U,backgroundColor:E,bucketType:R,bucketUrl:u,canViewerReply:f,coverImage:l,hasNew:W,hasReactionIcon:H,isFirstVideoTile:D,label:x,onPress:e,onPressIn:X,passthroughProps:v,story:P,storyCardInfo:S,storyId:T},C,{text:V,warningScreenNode:a})),t[56]=L,t[57]=U,t[58]=E,t[59]=R,t[60]=u,t[61]=f,t[62]=l,t[63]=W,t[64]=H,t[65]=D,t[66]=x,t[67]=V,t[68]=S,t[69]=C,t[70]=e,t[71]=X,t[72]=v,t[73]=T,t[74]=P,t[75]=a,t[76]=I):I=t[76];t[77]!==z||t[78]!==I?(w=m.jsx(d("react-strict-dom").html.div,{ref:z,children:I}),t[77]=z,t[78]=I,t[79]=w):w=t[79];return w}function o(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}g["default"]=a}),226);
__d("StoriesTrayTileSelf_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{kind:"Literal",name:"height",value:277},b,{kind:"Literal",name:"width",value:156}];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileSelf_bucket",selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[b,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null},{alias:"coverImage",args:d,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:d,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_story"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayTileSelf.react",["fbt","CometImage.react","CometRelay","StoriesConstants","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileSelf_bucket.graphql","StoriesTrayTileView.react","StoriesTrayUtils","WebStorage","react","react-compiler-runtime","requireDeferred","useOnBeforeUnload","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["bucketCount","bucketNode","bucketLength","hasSelfBucket","traySessionID","source","storiesTrayType","index","isUploading","optimisticStoryURI","onPressIn"],j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useState,o=c("requireDeferred")("ODS").__setRef("StoriesTrayTileSelf.react");function a(a){var e,f,g,l,o,r,s=d("react-compiler-runtime").c(94),t,u,v,w,x,y,z,A,B,C,D,E;s[0]!==a?(t=a.bucketCount,v=a.bucketNode,u=a.bucketLength,w=a.hasSelfBucket,E=a.traySessionID,C=a.source,D=a.storiesTrayType,x=a.index,y=a.isUploading,A=a.optimisticStoryURI,z=a.onPressIn,B=babelHelpers.objectWithoutPropertiesLoose(a,i),s[0]=a,s[1]=t,s[2]=u,s[3]=v,s[4]=w,s[5]=x,s[6]=y,s[7]=z,s[8]=A,s[9]=B,s[10]=C,s[11]=D,s[12]=E):(t=s[1],u=s[2],v=s[3],w=s[4],x=s[5],y=s[6],z=s[7],A=s[8],B=s[9],C=s[10],D=s[11],E=s[12]);a=C===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:C;C=D===void 0?"TOP_OF_FEED_TRAY":D;D=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayTileSelf_bucket.graphql"),v);v=D==null?void 0:D.id;x=c("useStoriesTrayProfileImpressionLogging")(D,a,E,x);var F=n(A),G=F[0];F=F[1];var H=c("useStoriesTrayTilePressable")(D==null?void 0:D.first_story_to_show,a),I=H.onPress,J=H.onPressIn,K=q;s[13]!==y?(H=function(a){if(y===!0&&a==null)return{warnMessage:h._(/*BTDS*/"Story is uploading, leave this page will cancel the story")}},s[13]=y,s[14]=H):H=s[14];c("useOnBeforeUnload")(H);if(D==null||v==null)return null;H=D.story_bucket_owner;e=(e=D.should_show_close_friend_badge)!=null?e:!1;var L=D.first_story_to_show,M=D.thumbnail_story_to_show,N=D.ranking_tracking_string,O=(M==null||(f=M.story_card_info)==null||(f=f.story_thumbnail)==null?void 0:f.uri)||(H==null||(g=H.coverImage)==null?void 0:g.uri),P=D.is_bucket_seen_by_viewer===!1;D=(D=D==null?void 0:D.is_bucket_live)!=null?D:!1;var Q;s[15]!==O||s[16]!==P?(Q={coverImage:O,hasNew:P},s[15]=O,s[16]=P,s[17]=Q):Q=s[17];O=Q;Q=(M==null||(l=M.story_card_info)==null?void 0:l.story_thumbnail)!=null;var R;s[18]===Symbol["for"]("react.memo_cache_sentinel")?(R=h._(/*BTDS*/"Your story"),s[18]=R):R=s[18];R=R;var S;s[19]===Symbol["for"]("react.memo_cache_sentinel")?(S=h._(/*BTDS*/"View your story"),s[19]=S):S=s[19];S=S;var T;s[20]!==t||s[21]!==v||s[22]!==(L==null?void 0:L.id)||s[23]!==a?(T=d("StoriesTrayUtils").getBucketURL({bucketCount:t,bucketID:v,cardID:L==null?void 0:L.id,source:a}),s[20]=t,s[21]=v,s[22]=L==null?void 0:L.id,s[23]=a,s[24]=T):T=s[24];t=T;v=H==null||(o=H.profile_picture)==null?void 0:o.uri;if(s[25]!==(H==null?void 0:H.name)){T=(L=H==null?void 0:H.name)!=null?L:h._(/*BTDS*/"Story poster");s[25]=H==null?void 0:H.name;s[26]=T}else T=s[26];L=T;s[27]!==L||s[28]!==v?(H=v!=null?m.jsx(c("CometImage.react"),{alt:L,height:40,src:v,width:40}):m.jsx("div",{className:"x1vqgdyp x100vrsf"}),s[27]=L,s[28]=v,s[29]=H):H=s[29];T=H;if(s[30]!==(M==null?void 0:M.attachments)){var U;L=M==null||(U=M.attachments)==null||(U=U.find(p))==null||(U=U.media)==null||(U=U.cix_screen)==null?void 0:U.view_model;s[30]=M==null?void 0:M.attachments;s[31]=L}else L=s[31];v=L;H=M==null||(r=M.attachments)==null||(r=r[0])==null?void 0:r.media;L=(H==null?void 0:H.__typename)==="Video"&&(H==null?void 0:H.video_status_type)!=="OK";var V;s[32]!==T||s[33]!==P||s[34]!==D||s[35]!==y||s[36]!==e?(V=m.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:P,isLiveStreaming:D,isOpaqueBackground:!1,isUploading:y,shouldShowCloseFriendsBadge:e,children:T}),s[32]=T,s[33]=P,s[34]=D,s[35]=y,s[36]=e,s[37]=V):V=s[37];T=V;if(y===!0&&d("StoriesGating").shouldEnableOptimisticImprovements()||L){if(A!=null&&(G===null||G!==A))F(A);else if(G==null&&L){P=H==null?void 0:H.id;D=(k||(k=c("WebStorage"))).getSessionStorage();V=JSON.parse((e=D==null?void 0:D.getItem(d("StoriesConstants").CACHED_STORY_THUMBNAIL_URI_SESSION_STORAGE_KEY))!=null?e:"{}");V[P]!=null&&F(V[P])}s[38]!==G?(A={coverImage:G},s[38]=G,s[39]=A):A=s[39];L=A;s[40]!==J||s[41]!==z?(H=function(a){J&&J(a),z&&z(),K()},s[40]=J,s[41]=z,s[42]=H):H=s[42];s[43]!==a||s[44]!==C||s[45]!==N||s[46]!==E?(D={source:a,storiesTrayType:C,trackingString:N,traySessionID:E},s[43]=a,s[44]=C,s[45]=N,s[46]=E,s[47]=D):D=s[47];s[48]!==T||s[49]!==t||s[50]!==y||s[51]!==I||s[52]!==L||s[53]!==B||s[54]!==H||s[55]!==D||s[56]!==M||s[57]!==v?(e=m.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:T,bucketUrl:t,isUploading:y,label:S,onPress:I,onPressIn:H,passthroughProps:D,story:M,text:R,warningScreenNode:v},L,B)),s[48]=T,s[49]=t,s[50]=y,s[51]=I,s[52]=L,s[53]=B,s[54]=H,s[55]=D,s[56]=M,s[57]=v,s[58]=e):e=s[58];s[59]!==x||s[60]!==e?(F=m.jsx("div",{"data-testid":void 0,ref:x,children:e}),s[59]=x,s[60]=e,s[61]=F):F=s[61];return F}else if(Q){s[62]!==J||s[63]!==z?(V=function(a){J&&J(a),z&&z(),K()},s[62]=J,s[63]=z,s[64]=V):V=s[64];s[65]!==u||s[66]!==w||s[67]!==a||s[68]!==C||s[69]!==N||s[70]!==E?(P={bucketLength:u,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF,hasSelfBucket:w,source:a,storiesTrayType:C,trackingString:N,traySessionID:E},s[65]=u,s[66]=w,s[67]=a,s[68]=C,s[69]=N,s[70]=E,s[71]=P):P=s[71];s[72]!==T||s[73]!==t||s[74]!==B||s[75]!==V||s[76]!==P||s[77]!==M||s[78]!==O||s[79]!==v?(G=m.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:T,bucketUrl:t,label:S,onPressIn:V,passthroughProps:P,story:M,text:R,warningScreenNode:v},O,B)),s[72]=T,s[73]=t,s[74]=B,s[75]=V,s[76]=P,s[77]=M,s[78]=O,s[79]=v,s[80]=G):G=s[80];s[81]!==x||s[82]!==G?(A=m.jsx("div",{"data-testid":void 0,ref:x,children:G}),s[81]=x,s[82]=G,s[83]=A):A=s[83];return A}else if(y===!0){s[84]!==C?(I={storiesTrayType:C},s[84]=C,s[85]=I):I=s[85];s[86]!==T||s[87]!==I||s[88]!==M||s[89]!==v?(L=m.jsx(c("StoriesTrayTileView.react"),{avatar:T,isUploading:!0,label:S,passthroughProps:I,story:M,text:R,warningScreenNode:v}),s[86]=T,s[87]=I,s[88]=M,s[89]=v,s[90]=L):L=s[90];s[91]!==x||s[92]!==L?(H=m.jsx("div",{ref:x,children:L}),s[91]=x,s[92]=L,s[93]=H):H=s[93];return H}else return null}function p(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}function q(){o.onReady(r)}function r(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray.self_story_tile",1)}g["default"]=a}),226);
__d("useStoriesBucketsIndexer_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"isFbNotesIncluded"}],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsIndexer_buckets",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesIsBucketEmpty_buckets"},a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:"unified_stories_with_notes",args:[{kind:"Variable",name:"include_fb_note",variableName:"isFbNotesIncluded"}],concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesBucketsIndexer",["CometRelay","Env","StoriesActorContext","StoriesEnums","XPlatReactEnvironment","react","useStoriesBucketsIndexer_buckets.graphql","useStoriesIsBucketEmpty","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useContext,m=e.useEffect;function n(a){a=(a=a.unified_stories_with_notes)==null?void 0:a.nodes;return a!=null?a.some(function(a){return((a=a.story_card_info)==null?void 0:a.story_card_type)==="LIVE_STORY"}):!1}function o(a,b){var c;return a.can_viewer_post===!0&&((c=a.story_bucket_owner)==null?void 0:c.id)===b&&(a.story_bucket_type==="STORY"||a.story_bucket_type==="PROFILE_PLUS_STORY"||a.story_bucket_type==="ADMINED_ADDITIONAL_PROFILE_STORY")}function p(a,b){return o(a,b)?d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER}function q(a,b,c){return o(a,c)?!0:!b&&!n(a)}function a(a){var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(!0),f=l(c("StoriesActorContext")),g=f.actorID;f=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesBucketsIndexer_buckets.graphql"),a);m(function(){e.current=!1},void 0);var k=c("useStoriesIsBucketEmpty")(f);return f!=null?f.map(function(a){var b,f=k(a==null?void 0:a.id,(e.current&&d("XPlatReactEnvironment").isWeb()?(j||(j=c("Env"))).start:Date.now())/1e3);return a!=null?{gender:(b=(b=a.story_bucket_owner)==null?void 0:b.gender)!=null?b:"UNKNOWN",isEmpty:f,isSeen:(b=a.is_bucket_seen_by_viewer)!=null?b:!1,shouldShow:q(a,f,g),type:p(a,g)}:null}):null}g["default"]=a}),98);
__d("useStoriesBucketsLogger_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"isFbNotesIncluded"}],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsLogger_buckets",selections:[{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},a],type:"User",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:[{kind:"Variable",name:"include_fb_note",variableName:"isFbNotesIncluded"}],concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:b,storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesBucketsLogger",["CometRelay","StoriesActorContext","react","react-compiler-runtime","requireDeferred","useStoriesBucketsLogger_buckets.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useContext,k=c("requireDeferred")("StoriesTrayLogger").__setRef("useStoriesBucketsLogger"),l=h!==void 0?h:h=b("useStoriesBucketsLogger_buckets.graphql");function a(a,b){var e=d("react-compiler-runtime").c(4),f=d("CometRelay").useFragment(l,b);b=j(c("StoriesActorContext"));var g=b.actorID;e[0]!==g||e[1]!==f||e[2]!==a?(b=function(b,c){k.onReady(function(d){d.logStoryTrayLoad({actorID:g,buckets:f,feedUnitTrackingString:c,sessionID:b,source:a})})},e[0]=g,e[1]=f,e[2]=a,e[3]=b):b=e[3];return b}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchProfileURI_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b={kind:"Literal",name:"width",value:40},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{alias:"profilePic",args:[a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{plural:!0},name:"useStoriesTrayTilePrefetchProfileURI_profile",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:d,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:[{kind:"Literal",name:"height",value:40},a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:d,type:"User",abstractKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchProfileURI",["CometRelay","react-compiler-runtime","useStoriesTrayTilePrefetchProfileURI_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchProfileURI_profile.graphql"),a);var e;c[0]!==a?(e=a!=null?a.map(j):[],c[0]=a,c[1]=e):e=c[1];var f=e;c[2]!==f?(a=f.length===0?null:function(){f.map(i)},c[2]=f,c[3]=a):a=c[3];return a}function i(a){if(a!=null){var b=new Image();b.src=a}}function j(a){var b;return a==null||(b=a.story_bucket_owner)==null||(b=b.profilePic)==null?void 0:b.uri}g["default"]=a}),98);
__d("StoriesTrayRectangularBuckets.react",["fbt","CometRelay","CometScreenReaderHeading.react","CometVisualCompletionAttributes","StoriesConstants","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayCreateCard.react","StoriesTrayCreateTile.react","StoriesTrayHScrollContainer.react","StoriesTrayRectangularBuckets_buckets.graphql","StoriesTrayRectangularBuckets_createTileUris.graphql","StoriesTrayTile.react","StoriesTrayTileSelf.react","gkx","react","requireDeferred","usePrevious","useStoriesBucketsIndexer","useStoriesBucketsLogger","useStoriesIsUploading","useStoriesTrayTilePrefetchProfileURI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useState,q=e.useTransition,r=c("requireDeferred")("ODS").__setRef("StoriesTrayRectangularBuckets.react"),s=d("StoriesGating").shouldEnableSmallerStoriesTiles()?d("StoriesConstants").STORIES_TRAY_TILE_HEIGHT_MIN:d("StoriesConstants").STORIES_TRAY_TILE_HEIGHT_DEFAULT,t=c("gkx")("22999");function u(a,b){return b==null?[]:b.reduce(function(b,c){var d=c.id;if(d==null)return b;var e=a.find(function(a){return a.id===d});if(e==null)return b.concat(d);c=(c=(c=c.unified_stories)==null||(c=c.nodes)==null?void 0:c.map(function(a){return a.id}))!=null?c:[];e=(e=(e=e.unified_stories)==null||(e=e.nodes)==null?void 0:e.map(function(a){return a.id}))!=null?e:[];if(c.length!==e.length)return b.concat(d);for(var f=0;f<e.length;f++)if(e[f]!==c[f])return b.concat(d);return b},[])}function v(a,b,e,f,g,h,i,j,k){var m=g==null?void 0:g.type;if(m==null)return null;m=(m=a.id)!=null?m:i;return l.jsx(c("StoriesTrayTile.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:b,bucketNode:a,gender:g.gender,hasSelfBucket:f,index:i,isFirstVideoTile:e,onPressIn:function(){j&&j(),w(i)},source:c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,storiesTrayType:k,traySessionID:h},m)}v.displayName=v.name+" [from "+f.id+"]";function w(a){r.onReady(function(b){b.bumpEntityKey(4329,"fb_stories_web","stories_tray.pog_index_"+a,1)})}var x=i!==void 0?i:i=b("StoriesTrayRectangularBuckets_createTileUris.graphql");function a(a){var e=a.createTileRef,f=a.edges,g=a.hasNext,i=a.isLoadingNext,k=a.loadNext,r=a.refetch,w=a.storiesTrayType,y=a.traySessionID,z=d("CometRelay").useRelayEnvironment();a=q();var A=a[0],B=a[1],C=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayRectangularBuckets_buckets.graphql"),f),D=c("useStoriesTrayTilePrefetchProfileURI")(C),E=d("CometRelay").useFragment(x,e);a=p(!1);var F=a[0],G=a[1];f=m(function(){!F&&!A&&(G(!0),B(function(){r(function(){G(!1)})}))},[A,F,r,B]);e=c("useStoriesIsUploading")(f);var H=e||F||A,I=o(function(){var a=C||[],b=[];for(var c=0;c<a.length;c++)a[c]!=null&&b.push(a[c]);return b},[C]),J=c("usePrevious")(I),K=o(function(){var a=I.find(function(a){var b;b=(b=a.first_story_to_show)==null?void 0:b.story_card_info;return(b==null?void 0:b.story_video_thumbnail)!=null&&!((b=(a=(b=a.first_story_to_show)==null?void 0:b.story_overlays)!=null?a:[])!=null&&b.some(function(a){return a.__typename===d("StoriesEnums").STORY_OVERLAY_TYPES.LIVE_VIDEO}))});return a==null?void 0:a.id},[I]);n(function(){var a=u(I,J);a.length!==0&&a.forEach(function(a){z.commitUpdate(function(b){b=b.get(a);b!=null&&b.invalidateRecord()})})},[z,J,I]);var L=c("useStoriesBucketsIndexer")(I),M=o(function(){return L!=null?L:[]},[L]),N=c("usePrevious")(y),O=c("useStoriesBucketsLogger")(c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,I),P=(a=M==null?void 0:M.length)!=null?a:0,Q=!1;if(M!=null&&P>0){f=M[0];a=(e=M[0])==null?void 0:e.type;f=(e=f==null?void 0:f.isEmpty)!=null?e:!0;a===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF&&!f&&(Q=!0)}var R=5;e=o(function(){var a=!0,b=[],e={entryPoint:"add_to_story_first_pog",sourceSurface:"newsfeed"};for(var f=0;f<I.length;f++){var g=M[f];if((g==null?void 0:g.shouldShow)===!0){var h=g==null?void 0:g.type;if(h===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF){var i;h=I[f];i=(i=g==null?void 0:g.isEmpty)!=null?i:!0;b.splice(0,0,l.jsx(c("StoriesTrayCreateTile.react"),{fragmentProp:E,passthroughProps:e},f));(!i||H)&&(b.splice(1,0,l.jsx(c("StoriesTrayTileSelf.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:P,bucketNode:h,hasSelfBucket:Q,index:f,isUploading:H,onPressIn:D,storiesTrayType:w,traySessionID:y},h.id)),a=!1)}else{i=I[f];h=i.id===K;i=v(i,P,h,Q,g,y,f,D,w);i!=null&&(b.push(i),(g==null?void 0:g.isEmpty)===!1&&(a=!1))}}}h=R-b.length;return{placeHoldersCount:h,shouldShowCreateCard:a,tiles:b}},[P,E,K,Q,H,M,D,I,y]);a=e.placeHoldersCount;f=e.shouldShowCreateCard;e=e.tiles;n(function(){if(N===y)return;O(y)},[y,O,N]);var S=h._(/*BTDS*/"Stories");if(f)if(c("StoriesTrayCreateCard.react")!=null)return l.jsx(c("StoriesTrayCreateCard.react"),{});else return null;else{f={type:"fixed",width:s*d("StoriesConstants").DEFAULT_ASPECT_RATIO};return l.jsxs("div",babelHelpers["extends"]({"aria-label":S,className:{0:"x1n2onr6 xwya9rg x1y1aw1k xwib8y2",1:"x1n2onr6 xwya9rg x1y1aw1k xwib8y2 x4vbgl9"}[!!t<<0]},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{role:"region",style:{minHeight:s},children:[l.jsx(c("CometScreenReaderHeading.react"),{children:S}),l.jsx(c("StoriesTrayHScrollContainer.react"),{cardWidth:f,children:e,hasNext:g,hideArrows:a>0,isLoadingNext:i,loadNext:k,peek:!0})]}))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayRectangularQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="31173158458999185"}),null);
__d("StoriesTrayRectangularQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","StoriesTrayRectangularQuery_facebookRelayOperation","StoriesShouldIncludeFbNotes.relayprovider","StoriesShouldEnableVideoAutoplay.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"blur"},c={defaultValue:null,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:null,kind:"LocalArgument",name:"cursor"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"isFbNotesIncluded"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"trayType"},i=[{kind:"Variable",name:"id",variableName:"id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"bucketsToFetch"},{kind:"Variable",name:"set_stories_tray_type",variableName:"trayType"}],m=[{kind:"Variable",name:"include_fb_note",variableName:"isFbNotesIncluded"}],n=[k],o={kind:"Variable",name:"scale",variableName:"scale"},p=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],q={kind:"InlineFragment",selections:n,type:"Node",abstractKey:"__isNode"},r={kind:"InlineFragment",selections:n,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},s={kind:"InlineFragment",selections:n,type:"GenericAttachmentMedia",abstractKey:null},t={kind:"InlineFragment",selections:n,type:"MontageImage",abstractKey:null},u={kind:"InlineFragment",selections:n,type:"MontageVideo",abstractKey:null},v={kind:"Literal",name:"width",value:40},w=[o,v],x={alias:"profilePic",args:w,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};w={alias:null,args:w,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null};var z=[{kind:"Literal",name:"height",value:277},o,{kind:"Literal",name:"width",value:156}],A={alias:"coverImage",args:z,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},B=[x,y,w,A];v=[{kind:"Literal",name:"height",value:40},o,v];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"StoriesTrayRectangular_me"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,f,g,h,e,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider"}],kind:"Operation",name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,k,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},k,{alias:null,args:m,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:[j],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:[j,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null},k,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},o],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null}],type:"Photo",abstractKey:null},q,r,s,t,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},o,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null}],type:"Photo",abstractKey:null},q,r,s,t,u],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[j,{kind:"InlineFragment",selections:B,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:v,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},y,{alias:null,args:v,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},A],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:B,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[x,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},y,w,A,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:"unified_stories_with_notes",args:m,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[k,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[j,q,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},q],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null},r,s,t,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:z,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},k],storageKey:null},{condition:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{args:[{kind:"Literal",name:"VideoPlayerRelay_video$playerSuborigin",value:"stories_video_preview"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},k],storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:[j,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileOverlays_story",fragmentName:"StoriesTrayTileNotesOverlay_overlay",fragmentPropName:"overlay",kind:"ModuleImport"}],type:"StoryOverlayFBNotesSticker",abstractKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:l,filters:["set_stories_tray_type"],handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("StoriesTrayRectangularQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:b("StoriesShouldIncludeFbNotes.relayprovider"),__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider:b("StoriesShouldEnableVideoAutoplay.relayprovider")}}}}();e.exports=a}),null);
__d("StoriesTrayRectangular_me.graphql",["StoriesTrayRectangularQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["unified_stories_buckets"];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"bucketsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"isFbNotesIncluded"},{kind:"RootArgument",name:"scale"},{kind:"RootArgument",name:"trayType"}],kind:"Fragment",metadata:{connection:[{count:"bucketsToFetch",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"bucketsToFetch",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("StoriesTrayRectangularQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"StoriesTrayRectangular_me",selections:[{alias:"unified_stories_buckets",args:[{kind:"Variable",name:"set_stories_tray_type",variableName:"trayType"}],concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"__StoriesTrayRectangular_unified_stories_buckets_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_buckets"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("StoriesTrayRectangular.react",["CometRelay","FBLogger","StoriesTrayRectangularBuckets.react","StoriesTrayRectangular_me.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;e.useMemo;var k=h!==void 0?h:h=b("StoriesTrayRectangular_me.graphql");function a(a){var b,e,f=d("react-compiler-runtime").c(13),g=a.storiesData,h=a.storiesTrayType;a=a.traySessionID;if(!g.me)throw c("FBLogger")("fb_stories_web").mustfixThrow("Expected current actor for StoriesRoot to be available");g=g.me;var i=d("CometRelay").usePaginationFragment(k,g),m=i.data,n=i.hasNext,o=i.isLoadingNext,p=i.loadNext,q=i.refetch;i=m;f[0]!==q?(m=function(a){q({},{fetchPolicy:"store-and-network",onComplete:a})},f[0]=q,f[1]=m):m=f[1];m=m;i==null||(b=i.unified_stories_buckets)==null||b.edges;var r;if(f[2]!==(i==null||(e=i.unified_stories_buckets)==null?void 0:e.edges)){var s,t;r=((i==null||(s=i.unified_stories_buckets)==null?void 0:s.edges)||[]).map(l).filter(Boolean);f[2]=i==null||(t=i.unified_stories_buckets)==null?void 0:t.edges;f[3]=r}else r=f[3];i=r;r=i;f[4]!==n||f[5]!==o||f[6]!==p||f[7]!==g||f[8]!==r||f[9]!==m||f[10]!==h||f[11]!==a?(i=j.jsx(c("StoriesTrayRectangularBuckets.react"),{createTileRef:g,edges:r,hasNext:n,isLoadingNext:o,loadNext:p,refetch:m,storiesTrayType:h,traySessionID:a}),f[4]=n,f[5]=o,f[6]=p,f[7]=g,f[8]=r,f[9]=m,f[10]=h,f[11]=a,f[12]=i):i=f[12];return i}function l(a){return a==null?void 0:a.node}g["default"]=a}),98);
__d("StoriesTrayRectangularRootQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","StoriesTrayRectangularRootQuery_facebookRelayOperation","StoriesShouldIncludeFbNotes.relayprovider","StoriesShouldEnableVideoAutoplay.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:10,kind:"LocalArgument",name:"blur"},c={defaultValue:8,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:!1,kind:"LocalArgument",name:"isFbNotesIncluded"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"trayType"},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[g],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[{kind:"Variable",name:"first",variableName:"bucketsToFetch"},{kind:"Variable",name:"set_stories_tray_type",variableName:"trayType"}],k=[{kind:"Variable",name:"include_fb_note",variableName:"isFbNotesIncluded"}],l=[i,g],m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],o={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"},p={kind:"InlineFragment",selections:h,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},q={kind:"InlineFragment",selections:h,type:"GenericAttachmentMedia",abstractKey:null},r={kind:"InlineFragment",selections:h,type:"MontageImage",abstractKey:null},s={kind:"InlineFragment",selections:h,type:"MontageVideo",abstractKey:null},t={kind:"Literal",name:"width",value:40},u=[m,t],v={alias:"profilePic",args:u,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};u={alias:null,args:u,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null};var x=[{kind:"Literal",name:"height",value:277},m,{kind:"Literal",name:"width",value:156}],y={alias:"coverImage",args:x,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},z=[v,w,u,y];t=[{kind:"Literal",name:"height",value:40},m,t];return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangular_me"},{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_createTileUris"}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:h,storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayRefresh_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,a,f,d,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider"}],kind:"Operation",name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[i,g,{kind:"InlineFragment",selections:[{alias:null,args:j,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},g,{alias:null,args:k,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},m],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null}],type:"Photo",abstractKey:null},o,p,q,r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},m,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null}],type:"Photo",abstractKey:null},o,p,q,r,s],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[i,{kind:"InlineFragment",selections:z,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:t,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},w,{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},y],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:z,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},w,u,y,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:"unified_stories_with_notes",args:k,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,o,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},o],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null},p,q,r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:x,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},g],storageKey:null},{condition:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{args:[{kind:"Literal",name:"VideoPlayerRelay_video$playerSuborigin",value:"stories_video_preview"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},g],storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileOverlays_story",fragmentName:"StoriesTrayTileNotesOverlay_overlay",fragmentPropName:"overlay",kind:"ModuleImport"}],type:"StoryOverlayFBNotesSticker",abstractKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:j,filters:["set_stories_tray_type"],handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"},{alias:"profilePicture",args:[{kind:"Literal",name:"height",value:150},m,{kind:"Literal",name:"width",value:150}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:l,storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_refresh_stories_tray",storageKey:null}]}],storageKey:null}]},params:{id:b("StoriesTrayRectangularRootQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularRootQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:b("StoriesShouldIncludeFbNotes.relayprovider"),__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider:b("StoriesShouldEnableVideoAutoplay.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useStoriesTrayRefresh_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesTrayRefresh_viewer",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_refresh_stories_tray",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useStoriesTrayRefresh",["CometOnRefresh","CometRelay","react","react-compiler-runtime","useStoriesTrayRefresh_viewer.graphql","useStoriesTraySetShouldRefresh","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect,k=e.useRef,l=e.useTransition,m=1*60*1e3;function a(a,e){var f=d("react-compiler-runtime").c(15);e=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayRefresh_viewer.graphql"),e);var g=k(!1),i=l(),n=i[0],o=i[1];f[0]!==a?(i=function(){if(g.current===!0)return;g.current=!0;window.setTimeout(function(){o(function(){a()})},0)},f[0]=a,f[1]=i):i=f[1];var p=i,q;f[2]!==n?(i=function(){g.current=n},q=[n],f[2]=n,f[3]=i,f[4]=q):(i=f[3],q=f[4]);j(i,q);var r=e==null?void 0:e.should_refresh_stories_tray,s=c("useStoriesTraySetShouldRefresh")();f[5]!==p||f[6]!==s||f[7]!==r?(i=function(){r===!0&&(p(),s(!1))},q=[p,s,r],f[5]=p,f[6]=s,f[7]=r,f[8]=i,f[9]=q):(i=f[8],q=f[9]);j(i,q);d("CometOnRefresh").useOnRefresh(p);var t=k(!1),u=k(null);f[10]!==p?(e=function(){t.current&&p(),t.current=!1},f[10]=p,f[11]=e):e=f[11];i=e;f[12]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){window.clearTimeout(u.current),u.current=window.setTimeout(function(){t.current=!0},m)},f[12]=q):q=f[12];e=q;f[13]!==i?(q={onHidden:e,onVisible:i},f[13]=i,f[14]=q):q=f[14];e=c("useVisibilityObserver")(q);return e}g["default"]=a}),98);
__d("StoriesTrayRectangularRoot.react",["CometErrorBoundary.react","CometHideableComponentExperiment.react","CometPlaceholder.react","CometRelay","FBUnifiedStoriesTrayTypeUtils.facebook","StoriesActorProvider.react","StoriesTrayErrorCardLazyLoaded.react","StoriesTrayRectangular.react","StoriesTrayRectangularRootQuery$Parameters","StoriesTrayRectangularRootQuery.graphql","WebPixelRatio","getCometNotesGating","justknobx","react","react-compiler-runtime","useRefetchablePreloadedQuery","useStoriesTrayRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=h!==void 0?h:h=b("StoriesTrayRectangularRootQuery.graphql");function m(a){var b,e=d("react-compiler-runtime").c(15);a=a.queries;var g=k(o);g=g[0];var h=c("useRefetchablePreloadedQuery")(c("StoriesTrayRectangularRootQuery$Parameters"),a.storiesTrayQueryReference),i=h[0];h=h[1];h=d("CometRelay").usePreloadedQuery(l,h);var m=a.storiesTrayQueryReference.variables.trayType;e[0]!==m?(a=m!=null?d("FBUnifiedStoriesTrayTypeUtils.facebook").toJSEnum(m):null,e[0]=m,e[1]=a):a=e[1];a=a;var p;e[2]!==i||e[3]!==m?(p=function(){var a=d("WebPixelRatio").get(),b=c("justknobx")._("4943")?a*10:void 0;i({blur:b,bucketsToFetch:6,isFbNotesIncluded:d("getCometNotesGating").getIsNotesCreationDialogEnabled(),scale:a,trayType:m})},e[2]=i,e[3]=m,e[4]=p):p=e[4];p=p;p=c("useStoriesTrayRefresh")(p,h==null?void 0:h.viewer);var q=h==null||(b=h.viewer)==null||(b=b.actor)==null?void 0:b.id,r;e[5]!==h||e[6]!==a||e[7]!==g?(r=j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"comet_tofu_stories_container",children:j.jsx(c("StoriesTrayRectangular.react"),{storiesData:h,storiesTrayType:a,traySessionID:g})}),e[5]=h,e[6]=a,e[7]=g,e[8]=r):r=e[8];e[9]!==q||e[10]!==r?(h=j.jsx(c("CometErrorBoundary.react"),{fallback:n,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(c("StoriesActorProvider.react"),{actorID:q,children:r})})}),e[9]=q,e[10]=r,e[11]=h):h=e[11];e[12]!==h||e[13]!==p?(a=j.jsx("div",{ref:p,children:h}),e[12]=h,e[13]=p,e[14]=a):a=e[14];return a}function n(){return j.jsx(c("StoriesTrayErrorCardLazyLoaded.react"),{})}n.displayName=n.name+" [from "+f.id+"]";function o(){return c("uuidv4")()}function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=j.jsx(m,babelHelpers["extends"]({},a)),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BlobStorageWorkerClient",["BlobStorageWorkerResource","MAWQplProxy","Random","WACryptoUtils","WATagsLogger","WorkerBundleResource","WorkerClient","WorkerMessagePort","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("WATagsLogger").TAGS(["WebMediaStorageWorkerClient"]);e=d("WorkerBundleResource").createDedicatedWebWorker(c("BlobStorageWorkerResource"));var n=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(e,"BlobStorageWorker");d("WorkerClient").init(n);m.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initiated."])));var o=0;async function a(a){var b=a.blob;a=a.fileName;var e=o++;m.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["writing to storage with request id: ",""])),e);var f=d("Random").uint32();f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(521482747,"3166"),{int:{blob_size:b.byteLength},string:{storage_type:"opfs"}},{providedInstanceKey:f});f.addPoint("port_connection_start");var g=await n.fullyConnected;f.addPoint("port_connection_end");var h=g.onMessageOnce("writeBlobToOpfsResponse",function(a){return a.requestId===e});g.postMessage({blob:b,fileName:a,requestId:e,type:"writeBlobToOpfsRequest"});f.addPoint("write_start");g=await h;g.output.success?(f.addPoint("write_end"),f.endSuccess()):(f.addAnnotations({string:{error_message:g.output.error}}),f.endFail("write_fail"));b=g.output.success?g.output.value:g.output.error;m.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["received response from worker, requestId: ",", write result: ",""])),e,b)}async function b(a){var b=a.fileName;a=a.idbBlob;var e=o++;m.DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["reading from storage with request id: ",""])),e);var f=d("Random").uint32();f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(521474002,"3167"),{int:{idb_blob_size:a==null?void 0:a.size},string:{storage_type:"opfs"}},{providedInstanceKey:f});f.addPoint("port_connection_start");var g=await n.fullyConnected;f.addPoint("port_connection_end");var h=g.onMessageOnce("readBlobFromOpfsResponse",function(a){return a.requestId===e});g.postMessage({fileName:b,requestId:e,type:"readBlobFromOpfsRequest"},[]);f.addPoint("read_start");g=await Promise.all([h,a.arrayBuffer()]);b=g[0];h=g[1];g=(a=b.output)==null?void 0:a.value;a=g!=null?d("WACryptoUtils").arrayBuffersEqual(g,h):!1;f.addAnnotations({bool:{blob_matches:a}});m.DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["BlobStorageWorkerClient matches blob from storage: ",", hasBlob: "," for request id: ",""])),a,b.output!=null,e);b.output.success?(f.addPoint("read_end"),f.endSuccess()):(f.addAnnotations({string:{error_message:b.output.error}}),f.endFail("read_fail"));return(g=b.output)==null?void 0:g.value}g.writeBlobToStorage=a;g.readBlobfromStorage=b}),98);
__d("EBMainThreadListeners",["EBReenrollmentTriggerListener","LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;d("EBReenrollmentTriggerListener").initEBReenrollmentTriggerListener(a)}g.initEBListeners=a}),98);
__d("useFDSProgressRingSvg.react",["FDSProgressRingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef,k=2;function a(a){var b=d("react-compiler-runtime").c(50),c=a.color,e=a.isHidden;a=a.size;var f=j(null),g=j(null),h=j(null),l;b[0]!==c?(l=d("FDSProgressRingUtils").getRingColor(c),b[0]=c,b[1]=l):l=b[1];c=l;l=c.backgroundColor;c=c.foregroundColor;var m=(a-k)*Math.PI,n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},b[2]=n):n=b[2];var o="0 0 "+a+" "+a,p=a/2,q=a/2,r=(a-k)/2,s;b[3]!==l||b[4]!==p||b[5]!==q||b[6]!==r?(s=i.jsx("circle",{cx:p,cy:q,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:r,stroke:l,strokeLinecap:"round",strokeWidth:k}),b[3]=l,b[4]=p,b[5]=q,b[6]=r,b[7]=s):s=b[7];b[8]!==a||b[9]!==o||b[10]!==s?(l=i.jsx("svg",babelHelpers["extends"]({},n,{height:a,ref:f,viewBox:o,width:a,children:s})),b[8]=a,b[9]=o,b[10]=s,b[11]=l):l=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1ey2m1c xtijo5x xbudbmw x6ikm8r x10wlt62 x10l6tqk x13vifvy"},q={className:"x1ey2m1c x9f619 xtijo5x xyj9dbu x10l6tqk x13vifvy x1jpgh95"},b[12]=p,b[13]=q):(p=b[12],q=b[13]);r="0 0 "+a+" "+a;n=a/2;o=a/2;s=(a-k)/2;var t=m/2,u=3*m/4,v=e?"hidden":void 0,w;b[14]!==v?(w={visibility:v},b[14]=v,b[15]=w):w=b[15];b[16]!==c||b[17]!==n||b[18]!==o||b[19]!==s||b[20]!==t||b[21]!==u||b[22]!==w?(v=i.jsx("circle",{cx:n,cy:o,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:s,stroke:c,strokeDasharray:t,strokeDashoffset:u,strokeWidth:k,style:w}),b[16]=c,b[17]=n,b[18]=o,b[19]=s,b[20]=t,b[21]=u,b[22]=w,b[23]=v):v=b[23];b[24]!==a||b[25]!==r||b[26]!==v?(n=i.jsx("div",babelHelpers["extends"]({},p,{children:i.jsx("svg",babelHelpers["extends"]({},q,{height:a,ref:g,viewBox:r,width:a,children:v}))})),b[24]=a,b[25]=r,b[26]=v,b[27]=n):n=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1ey2m1c x1dkd41z x1o0tod x6ikm8r x10wlt62 x10l6tqk x13vifvy"},s={className:"x1ey2m1c x9f619 x1h4o2ik x1o0tod x10l6tqk x13vifvy x1jpgh95"},b[28]=o,b[29]=s):(o=b[28],s=b[29]);t="0 0 "+a+" "+a;u=a/2;w=a/2;p=(a-k)/2;q=m/2;r=m/4;v=e?"hidden":void 0;b[30]!==v?(m={visibility:v},b[30]=v,b[31]=m):m=b[31];b[32]!==c||b[33]!==u||b[34]!==w||b[35]!==p||b[36]!==q||b[37]!==r||b[38]!==m?(e=i.jsx("circle",{cx:u,cy:w,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:p,stroke:c,strokeDasharray:q,strokeDashoffset:r,strokeWidth:k,style:m}),b[32]=c,b[33]=u,b[34]=w,b[35]=p,b[36]=q,b[37]=r,b[38]=m,b[39]=e):e=b[39];b[40]!==a||b[41]!==t||b[42]!==e?(v=i.jsx("div",babelHelpers["extends"]({},o,{children:i.jsx("svg",babelHelpers["extends"]({},s,{height:a,ref:h,viewBox:t,width:a,children:e}))})),b[40]=a,b[41]=t,b[42]=e,b[43]=v):v=b[43];b[44]!==n||b[45]!==v||b[46]!==l?(c=i.jsxs(i.Fragment,{children:[l,n,v]}),b[44]=n,b[45]=v,b[46]=l,b[47]=c):c=b[47];u=c;w=u;b[48]!==w?(p={backgroundRef:f,leftCircleRef:h,progressRing:w,rightCircleRef:g},b[48]=w,b[49]=p):p=b[49];return p}g["default"]=a}),98);
__d("FDSProgressRingDeterminate.react",["BaseLoadingStateElement.react","react","useFDSProgressRingSvg.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(a){return[{height:a!=null?"x16ye13r":a,width:a!=null?"x5lhr3w":a,$$css:!0},{"--x-height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a),"--x-width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=a.color,d=a.percentage,e=a.size,f=a["aria-label"];a=a["aria-labelledby"];b=c("useFDSProgressRingSvg.react")({color:b,isHidden:!1,size:e});var g=b.leftCircleRef,h=b.progressRing,l=b.rightCircleRef;j(function(){var a=l.current,b=g.current;if(a==null||b==null)return;if(!(a instanceof SVGSVGElement)||!(b instanceof SVGSVGElement))return;var c=Math.max(0,Math.min(100,d))/100*360;a.style.transform="rotate("+Math.min(c,180)+"deg)";b.style.transform="rotate("+Math.max(c-180,0)+"deg)"},[g,d,l]);return i.jsx(c("BaseLoadingStateElement.react"),{"aria-label":f,"aria-labelledby":a,progress:d,xstyle:[k.rootDiv,k.rootSizing(e)],children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;a=async function(a,b,e){b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e)));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))};a.__nop_name__="LSGetThreadDataFromTam";g.default=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxScheduleOccamThreadsIntegrityCheckerStoredProcedure";a.__tables__=["sync_group_threads_ranges","threads"];e.exports=a}),null);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSScheduleOccamThreadsIntegrityChecker"),e.delayMs,e.maxThreadCount);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null||a.addEventListener==null||a.addEventListener(c,e)})["finally"](function(){a==null||a.removeEventListener==null||a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["FBLogger","MessengerWaitForEvent","Promise","QPLUserFlow","emptyFunction","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(c("emptyFunction"))]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("MAWBridgeGetMinosEpochDataForUser",["LSDatabaseSingleton","ReQL","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(){if(c("qex")._("208")!==!0)return Promise.resolve();var a=await (h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();a=await a.runInTransaction(function(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_epochs))},"readonly",void 0,void 0,f.id+":26");return a}g.getMinosEpochDataForUser=a}),98);
__d("MAWBridgeRunMediaStorageShadowTestHandler",["Promise","WAErrorMessage","WAMediaWasmWorkerClient","WAResultOrError","cr:17340"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return b("cr:17340")!=null?d("WAMediaWasmWorkerClient").runMediaStorageShadowTestWasmWorker(a.file_bytes,a.storage_type).then(function(a){if(a.success)return a;else return d("WAResultOrError").makeError({errorMessage:a.error.errorMessage,errorName:a.error.errorName})})["catch"](function(a){return d("WAResultOrError").makeError({errorMessage:d("WAErrorMessage").maybeGetMessageFromError(a),errorName:"runtime-error"})}):(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError({errorName:"gk-inconsistency"}))}g.fetchMediaStorageResults=a}),98);
__d("MAWBridgeUIEventHandlerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWBridgeUIEventHandler").__setRef("MAWBridgeUIEventHandlerDeferred");a=function(a,b){void h.load().then(function(c){c.handleEvents(a,b)})};b=function(a,b,c){return h.load().then(function(d){return d.handleShimEvent(a,b,c)})};g.handleEvents=a;g.handleShimEvent=b}),98);
__d("MAWBridgeWriteMediaStorageHandler",["BlobStorageWorkerClient","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.blob;a=a.fileName;return c("gkx")("6236")?d("BlobStorageWorkerClient").writeBlobToStorage({blob:e,fileName:a}):(h||(h=b("Promise"))).resolve()}g.writeToMediaStorage=a}),98);
__d("MAWCommonBackendSetup",["EBIsEbEnabled","FBLogger","MAWAppMutex","MAWInitError","MAWLocalStorage","MAWLoggerUtils","MAWSetupWorker","MAWVaultMaterialsStorage","MAWWorkerReboot","getErrorSafe","gkx","requireDeferredForDisplay","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup"),i=function(a,b){if(b)return Promise.resolve(!0);else return a.measurePerformance("acquire_mutex",function(){return d("MAWAppMutex").use().init()})};async function a(a,b,e,f,g,j){await a.measurePerformance("prepare_logger",async function(){var a=h.load();(await a).setupMainWaLogger()});d("MAWLoggerUtils").initMessengerWebLogging();var k=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();k||await a.measurePerformance("detection_support",function(){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return Promise.resolve()});var l=a.measurePerformance("setup_vault_materials",function(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()});k=await i(a,k);if(!k){a.logPoint("maw_appmutex_no_permission");throw new(d("MAWInitError").MAWInitError)("maw_appmutex_no_permission")}var m=await l,n;if(c("gkx")("1458"))try{n=await d("EBIsEbEnabled").isEBEnabled()}catch(b){k=c("getErrorSafe")(b).message;a.addStringAnnotation("eb_state_fetch_error",k);c("FBLogger")("wmi_eb").mustfix("Failed to get EB state: %s",k);n=void 0}else n=void 0;await a.measurePerformance("setup_worker",function(){return d("MAWSetupWorker").getOrSetupWorker(m,b,e,f,g,j,n).catch(function(c){a.logPoint("reboot_worker_on_backend_setup_failure");a.addStringAnnotation("backend_setup_failure_reason",c.message);return d("MAWWorkerReboot").rebootWorker(m,b,e,f,"backend_setup_failure",j).catch(function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})})}g.getMutexPermission=i;g.setupArmadilloBackend=a}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIdsDEPRECATED").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=d("react-compiler-runtime").c(4),e=c("useAsyncReStore")(),f,g;b[0]!==e||b[1]!==a?(f=function(){var b,d=!1;j.onReadyImmediately(function(f){c("promiseDone")(e,function(c){d||(b=f.subscribeToEncryptedBackupsRow(c,a))})});return function(){d=!0,b==null||b()}},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);i(f,g)}g["default"]=a}),98);
__d("MAWCommonSetup",["EBMainThreadEBDBApiDeferred","EBMainThreadListeners","ExecutionEnvironment","MAWBridgeFireAndForget","MAWCacheServiceDB","MAWCommonBackendSetup","MAWEncryptedBackupsStateManager","MAWInit","MAWInitError","MAWIsIDBOperational","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWLoggerUtils","MAWMIC","MAWStateContext.react","MAWUIJob","MAWWaitForBackendSetup","WABridge","WADynamicRouterSync","WAJobOrchestratorTypes","WALogger","cr:13007","cr:7327","cr:8498","getErrorSafe","gkx","justknobx","performance","promiseDone","react","react-compiler-runtime","requireDeferred","shouldDisableWorkerOnAppsSubdomain","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useContext,m=e.useEffect,n=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),o=b("cr:7327")||b("cr:8498"),p=b("cr:13007")==null?void 0:b("cr:13007").MAWInitialiseMAWDbInUI;c("requireDeferred")("MAWTimedJob").__setRef("MAWCommonSetup");var q=!1,r=function(){return(i||(i=c("performance"))).now()},s=function(a){c("gkx")("12414")||(d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a}))};function t(){d("MAWBridgeFireAndForget").fireAndForget("backend","resendEBLSInWorkerEbEnabledState")}function u(){d("MAWBridgeFireAndForget").fireAndForget("backend","resendWorkerStateManagerValuesToMainThread")}function v(){t(),u()}function a(a){var b=d("react-compiler-runtime").c(8);d("MAWLoggerUtils").initMessengerWebLogging();var e=l(d("MAWStateContext.react").MAWDispatchContext),f=d("MAWIsIDBOperational").useIsIDBOperational(),g,h;b[0]!==e||b[1]!==f||b[2]!==a?(g=function(){f&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(w(e,a))},h=[a,e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g,b[4]=h):(g=b[3],h=b[4]);m(g,h);b[5]!==f?(g=function(){f&&c("promiseDone")(d("EBMainThreadListeners").initEBListeners())},h=[f],b[5]=f,b[6]=g,b[7]=h):(g=b[6],h=b[7]);m(g,h);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(s);c("justknobx")._("4966")===!1&&v()}async function w(a,b){var e=b.logout,f=b.reregisterDevice,g=b.rotateCryptoAuthToken,i=b.setupBridge;if(q){void n.load().then(function(a){a("messenger_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"])));return}q=!0;d("MAWMIC").startMAWMICFlow();d("MAWInit").MAWInit.start();(j||(j=c("ExecutionEnvironment"))).isInBrowser&&await d("MAWCacheServiceDB").getOrSetupMAWCacheDB();p!=null&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(p(a),function(){},function(a){return n.load().then(function(b){return b("messenger_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})});d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),await d("MAWCommonBackendSetup").setupArmadilloBackend(d("MAWInit").MAWInit,function(b){return i({dispatch:a,logout:e,reregisterDevice:f,rotateCryptoAuthToken:g,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1}),c("justknobx")._("4966")===!0&&v(),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1})},"mawInit",function(a){}),d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW})),d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",r()),d("MAWInit").MAWInit.endSuccess()}catch(a){var k,l=c("getErrorSafe")(a);b=l instanceof d("MAWInitError").MAWInitError?l.message:"maw_init_failure";l.message=(k=l.message)!=null?k:"Unknown";k=l.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";k?d("MAWInit").MAWInit.cancel(b,l):(d("MAWWaitForBackendSetup").rejectBackendSetup(l),d("MAWInit").MAWInit.fail(b,l));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,l.message);l&&void n.load().then(function(a){a("messenger_web").catching(l).mustfix("MAW backend setup failed -- %s",l.message)});throw l}void d("EBMainThreadEBDBApiDeferred").startListeningDeviceRegistrations();o!=null&&void o.initializeMinosDb()}g.useArmadillo=a}),98);
__d("MAWDBUsageMetrics",["FBLogger","WebStorageEstimator","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WebStorageManagerEstimatesFalcoEvent").__setRef("MAWDBUsageMetrics");async function a(){try{var a=await d("WebStorageEstimator").estimateStorage();h.onReady(function(b){c("FBLogger")("messenger_web").debug("Sending storage manager estimates falco event, quota: %s, usage: %s, usage_details: %s",a==null?void 0:a.quota,a==null?void 0:a.usage,JSON.stringify(a==null?void 0:a.usageDetails)),b.log(function(){var b,c,d,e;return{quota:String((b=a==null?void 0:a.quota)!=null?b:0),usage:String((b=a==null?void 0:a.usage)!=null?b:0),usage_details:{caches:String((b=a==null||(c=a.usageDetails)==null?void 0:c.caches)!=null?b:0),indexedDB:String((b=a==null||(d=a.usageDetails)==null?void 0:d.indexedDB)!=null?b:0),serviceWorkerRegistrations:String((b=a==null||(e=a.usageDetails)==null?void 0:e.serviceWorkerRegistrations)!=null?b:0)}}})})}catch(a){c("FBLogger")("messenger_web").warn("Error while getting the storage manager estimate: %s",a);return}}g.logMAWDBUsageMetrics=a}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");async function k(a){var b=await j.load();b=await b();var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.contacts).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function b(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=b}),98);
__d("MWXProgressRing.react",["cr:4145","cr:6783","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(8),e=a.color,f=a.percentage;a=a.size;if(b("cr:4145")!=null){var g=e!=null?e:"light",h=f!=null?f:0,j=a!=null?a:16,k;c[0]!==g||c[1]!==h||c[2]!==j?(k=i.jsx(b("cr:4145"),{color:g,percentage:h,size:j}),c[0]=g,c[1]=h,c[2]=j,c[3]=k):k=c[3];return k}if(b("cr:6783")!=null){c[4]!==e||c[5]!==f||c[6]!==a?(g=i.jsx(b("cr:6783"),{color:e,percentage:f,size:a}),c[4]=e,c[5]=f,c[6]=a,c[7]=g):g=c[7];return g}return null}g["default"]=a}),98);
__d("mwReplaceToast",["BaseToasterStateManager","MWXToast.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance();function a(a){var b=a.body,d=a.icon,e=a.startAddOn;e=e===void 0?null:e;var f=a.supressCloseButton;f=f===void 0?!1:f;var g=a.title,h=a.toastId;if(h==null){c("err")("toastId or toasterStateManager is not provided");return}j.replace(h,i.jsx(c("MWXToast.react"),{body:b,icon:d,onDismiss:function(){return j.expire(h)},startAddOn:e,supressCloseButton:f,title:g}))}g.mwReplaceToast=a}),98);
__d("MAWLoadingSpinner.react",["BaseToasterStateManager","MWXIconCheckmarkCircle","MWXIconStrict.react","MWXProgressRing.react","MWXSpinner.react","mwPushToast","mwReplaceToast","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=c("BaseToasterStateManager").getInstance();function n(a,b,d,e){e===void 0&&(e=0);if(a==="spinner")return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d};else if(a==="progressRing")return{icon:{comet:i.jsx(c("MWXProgressRing.react"),{color:b?"light":"dark",size:24})},startAddOn:{source:e,type:"progressRing"},title:d};else return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d}}function o(a,b){d("mwReplaceToast").mwReplaceToast({icon:{comet:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconCheckmarkCircle"),size:24}),mds:c("MWXIconCheckmarkCircle").component},title:b,toastId:a})}function a(a,b,e,f,g,h){var i=d("react-compiler-runtime").c(10),p=l(),q,r;i[0]!==f||i[1]!==b||i[2]!==h||i[3]!==e||i[4]!==g||i[5]!==a?(q=function(){if(g)p.current==null?p.current=d("mwPushToast").mwPushToast(n(a,b,e,h),Number.MAX_SAFE_INTEGER):d("mwReplaceToast").mwReplaceToast(babelHelpers["extends"]({},n(a,b,e,h),{toastId:p.current}));else if(p.current!=null){var i=p.current;o(i,f);c("setTimeout")(function(){m.expire(i),p.current=void 0},2750)}},r=[g,b,a,e,h,f],i[0]=f,i[1]=b,i[2]=h,i[3]=e,i[4]=g,i[5]=a,i[6]=q,i[7]=r):(q=i[6],r=i[7]);k(q,r);i[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){return function(){p.current!=null&&m.expire(p.current)}},r=[],i[8]=q,i[9]=r):(q=i[8],r=i[9]);j(q,r)}g.useMAWLoadingSpinner=a}),98);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;if(a!=null&&Object.keys(b).length>0){return b[a]!=null&&((b=b[a])==null?void 0:b.snippetStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingOfflineQueueSelector=a}),98);
__d("MAWLoadingStateSpinnerUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=function(a){return h._(/*BTDS*/"{restoredPercentage}\u0025 of chats loaded...",[h._param("restoredPercentage",a.toFixed(0).toString())])};c=h._(/*BTDS*/"All chats loaded.");function a(a,b,c){if(c===0)return 100;a=50*(a/c);b=50*(b/c);return Math.min(100,b+a)}g.getProgressMessage=b;g.completedMessage=c;g.getPercentage=a}),226);
__d("MAWLoadingStateToastSelectors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.offlineQueueCount};b=function(a){return a.offlineQueueProgressDownloaded};c=function(a){return a.offlineQueueProgressProcessed};f.offlineQueueCountSelector=a;f.offlineQueueProgressCountSelector=b;f.offlineQueueConsumerProgressCountSelector=c}),66);
__d("useMAWOfflineQueueLoadingIndicator",["Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","react-compiler-runtime","useCometRouterState","useMAWOfflineQueueLoadingIndicatorThreadJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(4);a=a===void 0?!1:a;var g=e===void 0?d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector:e,h=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b==null?void 0:b.threadKey,b==null?void 0:b.threadType);e=c("useCometRouterState")();var i;f[0]!==g||f[1]!==h?(b=function(){return g(h)},i=[g,h],f[0]=g,f[1]=h,f[2]=b,f[3]=i):(b=f[2],i=f[3]);f=d("Int64Hooks").useMemoInt64(b,i);b=d("MAWStateContext.react").useMAWSelector(f);i=e==null?void 0:e.main.route.tabKey;return b&&(i==="messenger"||!a)}g["default"]=a}),98);
__d("MAWLoadingStateSpinner.react",["CometDarkModeContext","MAWLoadingSpinner.react","MAWLoadingStateSpinnerUtils","MAWLoadingStateToastSelectors","MAWStateContext.react","cr:19625","react","react-compiler-runtime","useMAWOfflineQueueLoadingIndicator"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.memo;var j=e.useContext;function k(){var a=d("react-compiler-runtime").c(5),b=j(c("CometDarkModeContext")).currentSetting==="ENABLED",e=c("useMAWOfflineQueueLoadingIndicator")(!0),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueCountSelector),g=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueProgressCountSelector),h=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueConsumerProgressCountSelector),i,k;a[0]!==g||a[1]!==f||a[2]!==h?(i=d("MAWLoadingStateSpinnerUtils").getPercentage(g,h,f),k=d("MAWLoadingStateSpinnerUtils").getProgressMessage(i),a[0]=g,a[1]=f,a[2]=h,a[3]=i,a[4]=k):(i=a[3],k=a[4]);g=k;d("MAWLoadingSpinner.react").useMAWLoadingSpinner("progressRing",b,g,d("MAWLoadingStateSpinnerUtils").completedMessage,e,i);return null}function a(){var a=d("react-compiler-runtime").c(1),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=b("cr:19625")!=null?i.jsx(b("cr:19625"),{}):i.jsx(k,{}),a[0]=c):c=a[0];return c}e=f(a);g["default"]=e}),98);
__d("MAWLoadingStateSpinnerWithQueueState",["CometDarkModeContext","MAWLoadingSpinner.react","MAWLoadingStateSpinnerUtils","MAWSharedProtocolQueueConst","react","react-compiler-runtime","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(a){var b=d("react-compiler-runtime").c(5);a=a.shouldDisplayLoadingIndicatorOnMessengerRoute;var e=j(c("CometDarkModeContext")).currentSetting==="ENABLED",f=d("useMAWOfflineQueueState").useMAWOfflineQueueState(),g=f.offlineQueueCount,h=f.offlineQueueProgressDownloaded,i=f.offlineQueueProgressProcessed;f=g>0&&f.offlineQueueSyncState!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete;f=f&&a;var k;b[0]!==h||b[1]!==g||b[2]!==i?(a=d("MAWLoadingStateSpinnerUtils").getPercentage(h,i,g),k=d("MAWLoadingStateSpinnerUtils").getProgressMessage(a),b[0]=h,b[1]=g,b[2]=i,b[3]=a,b[4]=k):(a=b[3],k=b[4]);h=k;d("MAWLoadingSpinner.react").useMAWLoadingSpinner("progressRing",e,h,d("MAWLoadingStateSpinnerUtils").completedMessage,f,a);return null}function a(){var a=d("react-compiler-runtime").c(2),b=c("useMAWOfflineQueueLoadingIndicatorShown")(!0),e;a[0]!==b?(e=b?i.jsx(k,{shouldDisplayLoadingIndicatorOnMessengerRoute:b}):null,a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("getMAWIdentityKeys",["MAWBridgeSendAndReceive"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWBridgeSendAndReceive").sendAndReceive("waapi","getIdentityKeys",void 0,{timeoutMs:6e4})}g["default"]=a}),98);
__d("MAWMainThreadEBDeps",["EBDeps","EBMainThreadEBDBApiDeferred","LSDatabaseSingleton","MAWWaitForBackendSetup","getMAWIdentityKeys","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EBSMMainthreadAPI").__setRef("MAWMainThreadEBDeps");function a(){d("EBDeps").setDeps({getEBSMAPI:function(){return i.load()},getLSDB:function(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton},getMAWIdentityKeys:c("getMAWIdentityKeys"),isBackendSetupSuccessful:function(){return d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},trackAddingNewDevice:d("EBMainThreadEBDBApiDeferred").addNewDevice,trackOverprompting:d("EBMainThreadEBDBApiDeferred").trackOverprompting},"MAW MainThread")}g.initEBDeps=a}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(c!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(k||(k=d("LSIntEnum"))).ofNumber(c.groupId)}));else return(i||(i=b("Promise"))).resolve()}function m(a){return a.network_requests.put({epochId:void 0,failureCount:(j||(j=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:j.zero,lastSyncRequestTimestampMs:j.zero,networkTaskIdentifier:void 0,syncDatabaseId:(k||(k=d("LSIntEnum"))).ofNumber(95),taskQueueName:""})}function a(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]))),c("promiseDone")(a.runInTransaction(function(a){return(i||(i=b("Promise"))).all([l(a),m(a)])},"readwrite",void 0,void 0,f.id+":53"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWPostOfflineQueueCompleteActions",["WAMediaWasmWorkerClient"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("mp4RepairMux"),d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode")}function a(){h()}g.runPostOfflineQueueCompleteActions=a}),98);
__d("MAWPreloadSecureMessagesDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWPreloadSecureMessages").__setRef("MAWPreloadSecureMessagesDeferred");a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return a.preloadSecureMessagesByThreadKey.apply(a,b)})};g.preloadSecureMessagesByThreadKey=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310984,"169");function a(a){var b=a!=null?{instanceKey:a}:void 0,e=!1,f=!1;function g(){if(f)return;f=!0;c("QPLUserFlow").start(j,babelHelpers.extends({cancelOnUnload:!0,onFlowTimeout:function(){e=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},b));void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(j,a)});s()}function k(a){if(!f||e)return;s();c("QPLUserFlow").addPoint(j,a,b)}function l(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{bool:(d={},d[a]=b,d)})}function m(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{string:(d={},d[a]=b,d)})}function n(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{string_array:(d={},d[a]=b,d)})}function o(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{int:(d={},d[a]=b,d)})}function p(a){s(),e=!0,c("QPLUserFlow").addAnnotations(j,{string:{failReason:a}},b),c("QPLUserFlow").endFailure(j,"maw_init_fail",b),r=!1}function q(a){s(),e=!0,r=!1,c("QPLUserFlow").addAnnotations(j,{string:{dropReason:a}},b),(i||(i=c("QuickPerformanceLogger"))).markerDrop(j)}var r=!1;function s(){if(r)return;r=!0;c("QPLUserFlow").addAnnotations(j,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function t(a){s(),e=!0,c("QPLUserFlow").addAnnotations(j,{string:{cancelReason:a}},b),c("QPLUserFlow").endCancel(j,b),r=!1}function u(){s(),e=!0,c("QPLUserFlow").endSuccess(j,b),r=!1}async function v(a,b){var c=a+"_start";a=a+"_end";k(c);c=await b();k(a);return c}return{addBoolAnnotation:l,addIntAnnotation:o,addStringAnnotation:m,addStringArrayAnnotation:n,cancel:t,drop:q,endSuccess:u,fail:p,logPoint:k,measurePerformance:v,start:g}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.allTablesPersisted,c=a.db,e=a.dispatch,f=a.dispatchClearEphemeralSettings,g=a.instanceKey,h=a.logout,i=a.reregisterDevice,j=a.rotateCryptoAuthToken,k=a.setupBridge;a=a.workerCreateReason;g=d("MAWReinit").getMAWReinit(g);g.start();var l=function(){e({tag:"InitOfflineQueueSyncComplete",value:void 0})};await d("MAWCommonBackendSetup").setupArmadilloBackend(g,function(a){a=k({dispatch:e,logout:h,reregisterDevice:i,rotateCryptoAuthToken:j,worker:a});b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(c);return a},l,l,a,function(a){});g.endSuccess();f()}g.default=a}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWPostOfflineQueueCompleteActions","MAWSharedProtocolQueueConst","MWChatInteraction","MWFBLogger","interaction-tracing","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("MWFBLogger").MWLogger().tags(["ServerRPC","OfflineConsumer"]),m="has_pending_or_inprogress_oq_threads";async function n(a){await a;d("MAWPostOfflineQueueCompleteActions").runPostOfflineQueueCompleteActions();return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function q(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_start","AppTiming"),a.addAnnotationBoolean(m,!0)})}function r(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_end","AppTiming"),a.addAnnotationBoolean(m,!1)})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,m=e.timestamp,s=e.totalExpectedCount,t=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:q();l.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""])),s);o(s);b({tag:"InitOfflineQueueSyncStart",value:s});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").addPoint("process_offline_queue_start",m);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""])),s,t);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:t}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""])),s,t);e.startTime!=null&&p(e.startTime,m);r();b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").addPoint("process_offline_queue_end",m);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.DEBUG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""])),s,t);d("MAWMIC").addPoint("process_offline_queue_failed",m);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g.default=a}),98);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","MWFBLogger","WAOfflineUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("MWFBLogger").MWLogger().tags(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return async function(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""])),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").addPoint("download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""])),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""])),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").addPoint("download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.DEBUG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"])));d("MAWMIC").addPoint("download_offline_queue_failed",b);return}}};b=a;g.default=b}),98);
__d("MWWorkerOwnedDbKeychain",["Deferred","MAWCryptoConsts","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;c={accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION};var i=babelHelpers["extends"]({},c),j="uninitialized",k=d("MWFBLogger").MWLogger().tags(["MWWorkerOwnedDbKeychain"]);function a(){return i}function b(a){k.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleEARKeyChange"]))),j="initialized",i=a}function e(){return j==="initialized"}function f(){return i.latestVersion}g.getEARKey=a;g.handleEARKeyChange=b;g.isInitialised=e;g.getLatestVersion=f}),98);
__d("MAWSetupBridge",["DTSG","EBDBMetricsConsistencyOperationEnum","EBMainThreadEBDBApiDeferred","LSDatabaseSingleton","LSGetLatestThreadIds.nop","LSInitSyncCompleteSubscription","LSPlatformGraphQLLightspeedRequest","MAWAbPropsClient","MAWBridgeGetMinosEpochDataForUser","MAWBridgeReceivedChatStateHandler","MAWBridgeRunMediaStorageShadowTestHandler","MAWBridgeUIEventHandlerDeferred","MAWBridgeUpdateClientMediaStatusHandler","MAWBridgeWriteMediaStorageHandler","MAWCommonSetupBridge","MAWEBFrontendQPLLogger","MAWEBLSInWorkerSwitch","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeOfflineConsumer","MAWSetupBridgeOfflineSnapshot","MAWStateManagerSyncToMainThread","MAWUnrecoverableDbErrors","MWWorkerOwnedDbKeychain","Run","Visibility","WAExceededStorageQuota","cr:3411","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),j=c("requireDeferred")("MAWBridgeUpdateDYIStatusV2").__setRef("MAWSetupBridge"),k=c("requireDeferred")("MAWBridgeUploadMessageByBatchGQLHandler").__setRef("MAWSetupBridge"),l=(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),m=function(a){i.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var e=a.dispatch,g=a.logout,i=a.reregisterDevice,n=a.rotateCryptoAuthToken,o=a.worker;function p(){o.postMessage({type:"force-flush-data"})}d("Run").onUnload(p);d("Run").onBeforeUnload(p,!1);c("Visibility").addListener(c("Visibility").HIDDEN,function(){o.postMessage({type:"force-flush-logs-only"})});return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earKeyChange:function(a){d("MWWorkerOwnedDbKeychain").handleEARKeyChange(a)},executeGraphQLLightSpeedRequest:function(a){a=a.args;return c("LSPlatformGraphQLLightspeedRequest").apply(void 0,a)},getDTSGToken:function(){return Promise.resolve(d("DTSG").getToken())},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBLatestThreadIds:async function(a){var b=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return b.runInTransaction(function(b){return c("LSGetLatestThreadIds.nop")(b,0,"",a.numThreads,a.miActMappingFilteredThreads)},"readonly",void 0,void 0,f.id+":126")},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},getMediaStorageResult:function(a){return d("MAWBridgeRunMediaStorageShadowTestHandler").fetchMediaStorageResults(a)},getMinosEpochDataForUser:function(){return d("MAWBridgeGetMinosEpochDataForUser").getMinosEpochDataForUser()},isDbMigrating:function(a){e({tag:"IsDbMigrating",value:!1})},logCutoverEvent:m,logout:g,offlineConsumerProgress:function(){return c("MAWSetupBridgeOfflineConsumer")(l,e).apply(void 0,arguments)},offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:async function(a){var b=await l;await b.runInTransaction(function(b){return d("MAWBridgeReceivedChatStateHandler").call(b,a)},"readwrite",void 0,void 0,f.id+":161")},reregisterDevice:i,resignCdnUrl:function(){return Promise.resolve()},rotateCryptoAuthToken:n,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},trackEbConsistency:function(a){void d("EBMainThreadEBDBApiDeferred").trackConsistency(d("EBDBMetricsConsistencyOperationEnum").EBConsistencyOperation.Upload,a.workerDeviceId)},uiUpdate:function(a){a=a.events;e&&a.forEach(function(a){return e(a)});b("cr:3411")==null||b("cr:3411").recordBridgeUIEvent(a);d("MAWBridgeUIEventHandlerDeferred").handleEvents(l,a)},unrecoverableDbError:function(a){a=a.error;d("MAWUnrecoverableDbErrors").setError(a)},updateDYIStatus:function(a){var b=a.qplEvent,d=a.qplInstanceKeyE2E,e=a.status;c("promiseDone")(j.load().then(function(a){return a.call({qplEvent:b,qplInstanceKeyE2E:d,status:e})}))},updateEBLSInWokerStateInMainThread:function(a){c("MAWEBLSInWorkerSwitch").set(a.ebEnabled)},updateMediaStatus:async function(a){var b=await l;return d("MAWBridgeUpdateClientMediaStatusHandler").call(b,a)},updateStateManagerStateInMainThread:function(a){d("MAWStateManagerSyncToMainThread").updateStateManagerInMainThreadFromBridgeCall(a.stateManagerKey,a.value)},uploadMessagesToBackupV2:async function(a){d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"bridge_entry");var b=await l;d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"load_gql_handler_module_start");var c=await k.load();d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"load_gql_handler_module_end");return c.call(b,a)},uploadOpenMessages:function(){return Promise.reject("this bridge should not be used for msgr")},writeToMediaStorage:function(a){return d("MAWBridgeWriteMediaStorageHandler").writeToMediaStorage(a)}},worker:o})}g.setupBridge=a}),98);
__d("MAWSetupMutex",["LocalStorageMutex","MAWAppMutex","MAWBridge","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWMIC","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MWFBLogger","QPLUserFlow","Run","isInstamadillo","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=d("MWFBLogger").MWLogger().tags(["MAWInit"]),n=!1,o=0;async function p(a){if(document.visibilityState!=="visible")return!1;var b=window.indexedDB!=null,c=d("MAWLocalStorage").isLocalStorageAvailable();if(a){m.debug("AppMutex - Shouldn't reinitialize, worker already exists");return!1}return!b||!c?!1:!0}function a(a,b){var e=a.logout,f=a.reregisterDevice,g=a.rotateCryptoAuthToken,i=a.setupBridge,q=l(function(){return d("MAWAppMutex").use()},[]),r=(h||(h=c("useReStore")))(),s=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),t=r.persistenceTypes.includes("indexeddb"),u=j(async function(a){var b=q.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!t&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});await d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");q.onMutexDeath()},[q,t]),v=j(function(){q.onMutexDeath(),c("promiseDone")(d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleUnload"))},[q]),w=j(async function(){var a=await d("MAWWebWorkerSingleton").doesWorkerExist();a=await p(a);if(!a||n)return;n=!0;o++;try{await c("MAWReinitWorker")({allTablesPersisted:t,db:r,dispatch:b,dispatchClearEphemeralSettings:s,instanceKey:o,logout:e,reregisterDevice:f,rotateCryptoAuthToken:g,setupBridge:i,workerCreateReason:"mawReinitSetupMutex"}),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){m.catching(a).mustfix("AppMutex - failed to reinitialize worker"),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:o})}finally{n=!1}},[t,r,b,s,e,f,g,i]);k(function(){window.addEventListener("storage",u);var a=d("Run").onBeforeUnload(v,!1),b=d("Run").onUnload(v);window.addEventListener("visibilitychange",w);return function(){window.removeEventListener("storage",u),a.remove(),b.remove(),window.removeEventListener("visibilitychange",w)}},[u,v,w])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",[],(function(a,b,c,d,e,f){"use strict";async function a(a){return{}}async function b(a,b){return 0}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=b}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];k(m,b)}function m(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,n)},3e4);return function(){var b;(b=a)==null||b.remove()}}function n(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(o))}function o(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(p)}function p(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","MWChatFetchThreadMessageCounts","QuickPerformanceLogger","WebStorage","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}async function l(a){try{var b=new TextEncoder();b=b.encode(a).buffer;a=await c("globalCryptoSubtle").digest("SHA-256",b);return k(a)}catch(a){return a}}async function m(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=await l(a);b!=null?((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),i.markerEnd(g,2)):((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),i.markerEnd(g,2))}else b!=null?((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),i.markerEnd(g,2)):((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_msg_count:d,prev_msg_count:f}}),i.markerEnd(g,2))}function n(a){var b=a.currentMsgCnt,c=a.logThreadId,d=a.prevMsgCnt,e=a.qplEvent;a=a.threadId;return m({currentMsgCnt:b,logThreadId:c,prevMsgCnt:d,qplEvent:e,threadId:a})}async function a(a,b){try{a=await d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b);var e=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(h||(h=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}}function b(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var b=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(b==null)return Promise.resolve(null);b=JSON.parse(b);return Promise.resolve({current:a,previous:b})}).then(function(a){if(a==null)return Promise.resolve();var b=a.current;a=a.previous;return o(a,b)}).catch(function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}async function o(a,b){var d=[];for(var e in a)Object.prototype.hasOwnProperty.call(b,e)&&d.push(e);e=[];for(var f=0;f<d.length;f++){var g=d[f],h={currentMsgCnt:b[g],prevMsgCnt:a[g],threadId:g};a[g]>0&&b[g]===0?(e.push(n(babelHelpers.extends({},h,{qplEvent:c("qpl")._(717553665,"1183")}))),e.push(n(babelHelpers.extends({},h,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(e.push(n(babelHelpers.extends({},h,{qplEvent:c("qpl")._(717553666,"1184")}))),e.push(n(babelHelpers.extends({},h,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}await Promise.all(e)}function e(a){var b=function(b){c("promiseDone")(l(b).then(function(d){(i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),i.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),i.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=n;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=b;g.logThreadCompleteDataLoss=o;g.logLocalStatistics=e}),98);
__d("useOnMawSetupComplete.react",["emptyFunction","promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=c("emptyFunction")),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","gkx","justknobx","promiseDone","react-compiler-runtime","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(2);d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener();var b,c;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=l(),c=[],a[0]=b,a[1]=c):(b=a[0],c=a[1]);d("useOnMawSetupComplete.react").useOnMawSetupComplete(j,b,c)}function j(){c("promiseDone")(k()),l()}async function k(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)}function l(){try{var a=c("gkx")("24061"),b=c("justknobx")._("1683");a&&b&&c("promiseDone")(async function(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly",void 0,void 0,f.id+":61")}())}catch(a){c("FBLogger")("wmi_eb").warn("Error running thread integrity checker",a)}}g.default=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(k,void 0)}function k(){var a=c("setTimeout")(l,j);return function(){return c("clearTimeout")(a)}}function l(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["FBLogger","LSPersistedDbGating","MAWEBSwitch","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","MWEncryptedBackupsInitializeRestoreDeferred","ODS","WAOdsEnums","WMIWABridgeApi","emptyFunction","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useCallback,l=b.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,c("promiseDone")(d("MAWSetupWorker").terminateWorkerPermanently(),function(){(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),j.bumpEntityKey(3185,d("WAOdsEnums").Entity.WA_REREGISTRATION,"reregister_fail_logout"),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)})}function a(a){var b=a.rotateCryptoAuthToken,e=a.setupBridge,f=c("useAsyncReStore")(),g=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),i=l(d("MAWStateContext.react").MAWDispatchContext);return k(async function(){if(m)return;(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);await c("WMIWABridgeApi").removeCurrentDevice();await d("MAWSetupWorker").terminateWorker("useMAWReregisterDeviceOnError");d("MAWWaitForBackendSetup").resetBackendSetup();try{var a=await f;(j||(j=d("ODS"))).bumpEntityKey(3185,d("WAOdsEnums").Entity.WA_REREGISTRATION,"reinit_worker");await c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:i,dispatchClearEphemeralSettings:g,logout:o,reregisterDevice:o,rotateCryptoAuthToken:b,setupBridge:e,workerCreateReason:"mawReinitReregDevice"});c("MAWEBSwitch").isEnabled()&&((j||(j=d("ODS"))).bumpEntityKey(3185,d("WAOdsEnums").Entity.WA_REREGISTRATION,"eb_initial_restore"),await d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:a,onFailure:c("emptyFunction"),onSuccess:c("emptyFunction")}))}catch(b){d("MAWWaitForBackendSetup").rejectBackendSetup(b);a=b.description||b.message||b;c("FBLogger")("wmi_wa").tags([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).catching(b).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker: ",""])),a);(j||(j=d("ODS"))).bumpEntityKey(3185,d("WAOdsEnums").Entity.WA_REREGISTRATION,"reinit_worker_fail.${message}");d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}},[f,i,g,b,e])}g.default=a}),98);
__d("useStorageUsageMetricsLogger",["cr:20551","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];i(j,b)}function j(){b("cr:20551")==null||b("cr:20551").logMAWDBUsageMetrics()}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWStateContext.react","cr:6159","cr:6160","cr:8800","promiseDone","react","react-compiler-runtime","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.useContext;e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b=d("react-compiler-runtime").c(24),e=a.children,f=a.fbid,g=a.logout;a=a.setupBridge;var h=j(d("MAWStateContext.react").MAWDispatchContext),k=d("CometRelay").useRelayEnvironment(),l;b[0]!==k?(l=function(){return d("MAWCryptoAuthToken").fetchFreshCAT(k)},b[0]=k,b[1]=l):l=b[1];l=l;var m;b[2]!==l||b[3]!==a?(m={rotateCryptoAuthToken:l,setupBridge:a},b[2]=l,b[3]=a,b[4]=m):m=b[4];var n=c("useMAWReregisterDeviceOnError")(m);b[5]!==g||b[6]!==n?(m=g!=null?g:function(){return c("promiseDone")(n())},b[5]=g,b[6]=n,b[7]=m):m=b[7];b[8]!==n?(g=function(){return c("promiseDone")(n())},b[8]=n,b[9]=g):g=b[9];var o;b[10]!==l||b[11]!==a||b[12]!==m||b[13]!==g?(o={logout:m,reregisterDevice:g,rotateCryptoAuthToken:l,setupBridge:a},b[10]=l,b[11]=a,b[12]=m,b[13]=g,b[14]=o):o=b[14];l=o;a=l;d("MAWCommonSetup").useArmadillo(a);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();m=j(c("BaseHeadingContext"));g=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();o=m+1;b[15]!==h||b[16]!==k||b[17]!==f||b[18]!==a?(l=g?i.jsx(c("MAWSetupMutex.react"),{dispatch:h,environment:k,fbId:f,platformSetupUtils:a}):null,b[15]=h,b[16]=k,b[17]=f,b[18]=a,b[19]=l):l=b[19];b[20]!==e||b[21]!==o||b[22]!==l?(m=i.jsxs(c("BaseHeadingContext").Provider,{value:o,children:[e,l]}),b[20]=e,b[21]=o,b[22]=l,b[23]=m):m=b[23];return m}g["default"]=a}),98);
__d("MAWSetup.react",["CometPlaceholder.react","CometRelay","CurrentUser","MAWMainThreadEBDeps","MAWOembedIframeContainer.react","MAWSetupBridge","MAWSetupImpl.react","cr:6809","cr:8510","deferredLoadComponent","isGroupInvitesEnabled","promiseDone","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=b("cr:6809")!=null?b("cr:6809").CometLogoutProvider:function(a){a=a.children;return i.jsx(i.Fragment,{children:a})},l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWLoadingStateSpinner.react").__setRef("MAWSetup.react"));c("isGroupInvitesEnabled")();function a(a){var e=d("react-compiler-runtime").c(10);a=a.children;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];j(m,f);var g=d("CometRelay").useRelayEnvironment(),h;e[1]!==g?(f=function(){b("cr:8510")&&c("promiseDone")(b("cr:8510").initOhaiWebClient(g))},h=[g],e[1]=g,e[2]=f,e[3]=h):(f=e[2],h=e[3]);j(f,h);d("MAWMainThreadEBDeps").initEBDeps();e[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("CurrentUser").getID(),e[4]=f):f=e[4];e[5]!==a?(h=i.jsx(c("MAWSetupImpl.react"),{fbid:f,logout:void 0,setupBridge:d("MAWSetupBridge").setupBridge,children:a}),e[5]=a,e[6]=h):h=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSetup.LoadingState",children:i.jsx(l,{})}),e[7]=f):f=e[7];e[8]!==h?(a=i.jsxs(k,{children:[h,f]}),e[8]=h,e[9]=a):a=e[9];return a}function m(){var a=d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();return function(){a==null||a.stopListening()}}g["default"]=a}),98);
__d("QPLE2ESessionMarkers",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NONE:"none",START:"start",END:"end"});c=a;f["default"]=c}),66);
__d("QPLE2E",["QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logPointDeprecated=function(a,b,d,e){var f,g;e===void 0&&(e={});f=(f=e.timestamp)!=null?f:(h||(h=c("QuickPerformanceLogger"))).currentTimestamp();var i=babelHelpers["extends"]({},e.pointData);g=(g=e.action)!=null?g:12524;e.secondaryOrder!=void 0&&(i.string||(i.string={}),i.string.qpl_e2e__secondary_order=e.secondaryOrder);if(e.sessionMarker&&e.sessionMarker!=="none"){var j;i.bool||(i.bool={});i.bool=babelHelpers["extends"]({},i.bool,(j={},j.qpl_e2e__session_marker_start_point=e.sessionMarker==="start",j.qpl_e2e__session_marker_end_point=e.sessionMarker==="end",j))}(h||(h=c("QuickPerformanceLogger"))).markerStart(a,void 0,f,{samplingBasis:d});h.markerPoint(a,b,{data:i,timestamp:f*2});e.annotations&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(a,e.annotations);h.markerAnnotate(a,{string:(j={},j.join_id=d,j.qpl__source="client",j),bool:(b={},b.qpl_e2e__align_points=!0,b)});h.markerEnd(a,g,void 0,f)};return a}();b=new a();g["default"]=b}),98);
__d("MWCMChatTabNotificationsQPLLoggingUtils",["QPLE2E","QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25298296,"1725"),i=c("qpl")._(25304846,"1726");function a(){var a=d("Random").uint32();return{logCancel:function(b){c("QPLUserFlow").endCancel(i,{annotations:{string:{cancelReason:b}},instanceKey:a})},logEventStreamReceived:function(b){b!=null&&c("QPLE2E").logPointDeprecated(h,"client:receive_event_stream",b,{action:2}),c("QPLUserFlow").start(i,{instanceKey:a})},logOpenChatTab:function(){c("QPLUserFlow").addPoint(i,"open_chat_tab",{instanceKey:a})},logOpenChatTabSuccess:function(){c("QPLUserFlow").endSuccess(i,{instanceKey:a})},logThreadLoaded:function(){c("QPLUserFlow").addPoint(i,"thread_loaded",{instanceKey:a})}}}g.createChatTabQPLLogger=a}),98);
__d("MWChatBadgeCountUpdater.react",["CometRelay","FBLogger","LSIntEnum","MWChatBadgeCountUpdates.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("CometRelay").useRelayEnvironment(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(0),a[0]=e):e=a[0];var f=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(e),g=f==null,h;a[1]!==f||a[2]!==b||a[3]!==g?(e=function(){var a={suppress_xac_groups:!1};b.commitUpdate(function(b){b=b.getRoot();if(b==null){c("FBLogger")("messenger_web_entrypoints").mustfix("A store root must be present to move forward.");return}b=b.getOrCreateLinkedRecord("viewer","Viewer");b=b.getOrCreateLinkedRecord("message_threads","ViewerMessageThreadsConnection");if(f!=null){var d=b.getValue("unseen_count",a);(d===null||d!==f)&&b.setValue(f,"unseen_count",a)}d=b.getValue("is_loading_client_threads");(d==null||d!==g)&&b.setValue(g,"is_loading_client_threads")})},h=[b,f,g],a[1]=f,a[2]=b,a[3]=g,a[4]=e,a[5]=h):(e=a[4],h=a[5]);j(e,h);return null}g["default"]=a}),98);
__d("MWChatConfig",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273041")):c("bx").getURL(c("bx")("273022"));b=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273042")):c("bx").getURL(c("bx")("273023"));g.soundNotifMp3Url=a;g.soundNotifOggUrl=b}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsHandleRestoreWrapper.react").__setRef("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"));function a(a){return i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"EncryptedBackupsHandleRestoreWrapper",children:i.jsx(j,babelHelpers["extends"]({},a))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2IsComposeTab",["MWChatStateV2Types"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.tabType;return a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab}g.isComposeTab=a}),98);
__d("MWChatStateV2HeadGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsComposeTab","MWChatStateV2IsMinimized"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c=Array.from(c.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);return c===0?d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b):c});b=b.filter(function(a){return!d("MWChatStateV2IsComposeTab").isComposeTab(a)}).concat(c);return[b.slice(0,e),b.slice(e,b.length)]}g.getHeadGroups=a}),98);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23885219097739619"}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql",["MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsNotificationSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_notification_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qpl_join_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c},params:{id:b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_chat_tabs_notification_subscribe"},name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatTabsNotificationSubscription",["CometRelay","MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql");function a(a,b){return d("CometRelay").requestSubscription(a,{onNext:b,subscription:i,variables:{input:{}}})}g.subscribe=a}),98);
__d("MWChatThreadPingCounter",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);return a!=null?a:0}function a(a){g.set(a,h(a)+1)}function b(){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b}),66);
__d("MWFallbackWithTimeout.react",["FBLogger","react","react-compiler-runtime","useTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.message;a=c("useTimeout")(1e4);var g=a.pending,h;b[0]!==f||b[1]!==g?(a=function(){g||c("FBLogger")("messenger_web_entrypoints","fallback_timeout").warn(f)},h=[f,g],b[0]=f,b[1]=g,b[2]=a,b[3]=h):(a=b[2],h=b[3]);i(a,h);return e}g["default"]=a}),98);
__d("MWGetCurrentThreadIDForLSThread",["FBLogger","I64","LSIntEnum","mwCMIsAnyCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){if(e)return{NAME:"Page",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(16)))return{NAME:"UserSecret",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(201)))return{NAME:"User",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("mwCMIsAnyCMThread")(b)||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(26)))return{NAME:"Group",VAL:(h||(h=d("I64"))).to_string(a)};throw c("FBLogger")("messenger_web_messaging").mustfixThrow("Unsupported MWMessagingThreadType %s",(h||(h=d("I64"))).to_string(b))}g.get=a}),98);
__d("MWNotificationRenderer.react",["fbt","I64","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,c,e,f){if((i||(i=d("I64"))).equal(a.senderId,b))return h._(/*BTDS*/"New message");f=(b=(a=f.nickname)!=null?a:e.firstName)!=null?b:e.name;a=c.threadName;if(a!=null)return h._(/*BTDS*/"{senderName} messaged {groupName}",[h._param("senderName",f),h._param("groupName",a)]);else if((i||(i=d("I64"))).equal(c.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"{name} messaged your group",[h._param("name",f)]);else return h._(/*BTDS*/"{name} messaged you",[h._param("name",f)])}g.renderDocumentTitle=a}),226);
__d("MWLSChatPopperCommon",["CometSetBlinkingTitleMessageContext","CurrentEnvironment","CurrentUser","I64","MWChatConfig","MWChatSettingsQuery","MWNotificationRenderer.react","MWPIsThreadUnread","MessengerWebEventsFalcoEvent","ReQL","gkx","react","requireDeferred","useCometRouterState","useMWShowOpenInMessengerToast","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=c("requireDeferred")("Sound").__setRef("MWLSChatPopperCommon");function m(a){var b=(i||(i=d("I64"))).to_string(a.senderId)!==c("CurrentUser").getID();b&&l.onReady(function(b){b.play([d("MWChatConfig").soundNotifOggUrl,d("MWChatConfig").soundNotifMp3Url],(i||(i=d("I64"))).to_float(a.timestampMs),!1)})}function a(a,b,e){var f,g=k(c("CometSetBlinkingTitleMessageContext")),h=c("useMatchViewport")("max","width",320),l=c("useCometRouterState")();l=l==null||(f=l.main)==null?void 0:f.route;var m=(l==null?void 0:l.tabKey)==="messenger",n=c("useMWShowOpenInMessengerToast")();return j(function(f,j,k,l){k=d("MWNotificationRenderer.react").renderDocumentTitle(f,b,j,k,l);h&&c("CurrentEnvironment").facebookdotcom&&!m&&c("gkx")("15812")&&n((i||(i=d("I64"))).to_string(j.threadKey),k);e.contents!=null&&e.contents();e.contents=d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(j.threadKey).subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"){a=b.value;if(d("MWPIsThreadUnread").isThreadUnread(a))return;e.contents!=null&&e.contents();e.contents=void 0;g(null,(i||(i=d("I64"))).to_float(a.lastReadWatermarkTimestampMs))}});g(k,(i||(i=d("I64"))).to_float(f.timestampMs))},[b,h,m,e,a.tables.threads,g,n])}function b(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){if(b!=null&&b)return m(a);else c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message_sound"}})})}g.useUpdateDocumentTitle=a;g.playChatTabSound=b}),98);
__d("MWLSChatTabPolicy",["$InternalEnum","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","MWChatSettingsQuery","MWGenAIUtils","MessagingFolderTag","MessengerWebEventsFalcoEvent","emptyFunction","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({ALLOW:0,DENY:1});function k(a,b,c){if(c===j.ALLOW)return a(b)}var l=function(a){return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:a}}})},m=function(a){a(j.ALLOW)},n=function(a,b,c){(h||(h=d("I64"))).equal(b.senderId,c)?(l("message_outgoing"),a(j.DENY)):a(j.ALLOW)},o=function(a,b,e){if(c("gkx")("23433"))a(j.ALLOW);else{d("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){c!=null&&c?(l("turn_off_chat_tab"),b!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&e!=null&&e.logCancel("turn_off_chat_tab"),a(j.DENY)):a(j.ALLOW)});return}},p=function(a,b,c){var e=(h||(h=d("I64"))).to_float(b.muteExpireTimeMs);e>Date.now()||e<0?(l("mention_muted"),d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&c!=null&&c.logCancel("mention_muted"),a(j.DENY)):a(j.ALLOW)},q=function(a,b){b.isAdminMessage?(l("message_non_user_generated"),a(j.DENY)):a(j.ALLOW)},r=function(a,b){b.folderName===c("MessagingFolderTag").INBOX||(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-10))?a(j.ALLOW):(l("message_no_inbox"),a(j.DENY))},s=function(a,b){!(h||(h=d("I64"))).equal(b.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))?(l("message_blocked_participants"),a(j.DENY)):a(j.ALLOW)},t=function(a,b){d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)?(l("community_messaging_group_blocked"),a(j.DENY)):a(j.ALLOW)},u=function(a,b){b=b.mentionTypes;b!=null&&"s".includes(b)?a(j.DENY):a(j.ALLOW)},v=function(a,b){c("gkx")("23433")&&b?a(j.DENY):a(j.ALLOW)},w=function(a,b){d("MWGenAIUtils").isMetaAIThread(b.threadKey)&&c("qex")._("4970")===!0?a(j.DENY):a(j.ALLOW)},x=function(a,b){if(a.length===0)return function(a){return k(b,c("emptyFunction"),a)};var d=a[0],e=a.slice(1);return function(a){return k(d,x(e,b),a)}},y=function(a,b){var c=a[0];a=a.slice(1);c(x(a,b))};function a(a,b,c,d,e,f){return y([function(){return m.apply(void 0,arguments)},function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return n.apply(void 0,c.concat([a,d]))},function(){return o.apply(void 0,arguments)},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return p.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return q.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return r.apply(void 0,c.concat([b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return s.apply(void 0,b.concat([c]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return t.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return u.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return v.apply(void 0,b.concat([e]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return w.apply(void 0,c.concat([a]))}],f)}function e(a,b,c,d){return y([function(){return m.apply(void 0,arguments)},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return o.apply(void 0,d.concat([a,b]))},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return p.apply(void 0,d.concat([a,b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return v.apply(void 0,b.concat([c]))}],d)}g.shouldMessageBeAllowed=a;g.shouldCommunityChatThreadPopup=e}),98);
__d("useMWChatOpenTabFromNewMessage",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWPreloadSecureMessagesDeferred","MAWStateContext.react","MWChatInteraction","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2Types","MWChatThreadId","MessengerWebEventsFalcoEvent","ODS","dispatchOpenChatTabTraceLogging","gkx","justknobx","loadChatTabEntryPoint","react","setTimeout","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=h||d("react");var l=b.useCallback,m=b.useContext,n=new Set();function a(a,b){b=b.withChatTabTracing;var e=b===void 0?!1:b,f=c("useCometFeedNoRoutingNavigationEventLogger")(),g=d("MWChatStateV2.react").useDispatch(),h=c("useMWChatOpenTabTraceProvider")(),o=d("MWChatStateContext").useChatState(function(a){return a.tabs}),p=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),q=c("useCometRelayEntrypointContextualEnvironmentProvider")(),r=m(d("MAWStateContext.react").MAWDispatchContext),s=c("useAsyncReStore")();return l(function(b,l,m){f(Date.now(),"","messenger");(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_incoming");c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"open_chat_tab_from_new_message"}});d("LSThreadAttributionStore").setSource(d("MWChatThreadId").getFBID(b),a);var t=Date.now();if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType)){var u=c("gkx")("14315")?8:c("justknobx")._("2038");void s.then(function(a){return d("MAWPreloadSecureMessagesDeferred").preloadSecureMessagesByThreadKey(a,l.threadKey,r,u)})}var v=function(a){var b={clientThreadKey:void 0,threadKey:l.threadKey,threadType:l.threadType},e=c("loadChatTabEntryPoint")(q);c("dispatchOpenChatTabTraceLogging")(a,b,"useMWChatOpenTabFromNewMessage");g(d("MWChatStateActions").openTabOrFlyout(t,{shouldFocus:!1},{threadKeyDescriptor:b,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab},e),!c("gkx")("24037"))},w=l.threadKey;b=Array.from(o.values()).find(function(a){if(a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){a=a.tabType.threadKeyDescriptor.threadKey;return(j||(j=d("I64"))).equal(w,a)}});var x=b!=null?d("MWChatStateV2IsClosed").isClosed(b):!1,y=n.has((j||(j=d("I64"))).to_string(w));y=e&&(b==null&&!y||b!=null&&x)&&p();y?(n.add((j||(j=d("I64"))).to_string(w)),h({entrypoint:"notificationInThreadReply",threadKey:l.threadKey,threadType:(k||(k=d("LSIntEnum"))).unwrapIntEnum(l.threadType)},function(a,b){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(l.threadKey),a),b.onComplete(function(){n["delete"]((j||(j=d("I64"))).to_string(w))}),v(b)})):v();c("setTimeout")(function(){return g(d("MWChatStateActions").closeFlyout(t,l.threadKey))},3e3);return m()},[f,a,o,e,g,h,p])}g["default"]=a}),98);
__d("MWLSCommunityChatPopper",["CometRelay","GroupsCometChatsEngagementLogger","I64","MWCMChatTabNotificationsQPLLoggingUtils","MWChatTabsNotificationSubscription","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MercuryIDs","ReQL","promiseDone","react","react-compiler-runtime","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useEffect,l={contents:void 0};function m(a,b){var e=d("MWLSChatPopperCommon").useUpdateDocumentTitle(a,b,l),f=j(function(b){c("promiseDone")(window.Promise.all([a.tables.threads.get(b.threadKey),a.tables.contacts.get(b.senderId),a.tables.participants.get(b.threadKey,b.senderId)]),function(a){var f=a[0],g=a[1];a=a[2];if(g!=null&&a!=null){e(b,f,g,a);g=c("MercuryIDs").getThreadIDFromThreadFBID((i||(i=d("I64"))).to_string(f.threadKey));if(d("MWChatThreadPingCounter").getCount(g)<3){d("MWChatThreadPingCounter").incrementCount(g);d("MWLSChatPopperCommon").playChatTabSound(b);return}}})},[a,e]);return j(function(b,e,g){var h={contents:function(){}};h.contents=d("ReQL").fromTableAscending(a.tables.messages).getKeyRange((i||(i=d("I64"))).of_string(b),i.of_string(g),e).subscribe(function(a,b){if(b.operation==="add"){a=b.value;h.contents();f(a)}});c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages).getKeyRange(i.of_string(b),i.of_string(g),e)),function(a){a&&(h.contents(),f(a))})},[a,f])}function a(a){var b=d("react-compiler-runtime").c(9),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f);a=d("MWPActor.react").useActor();var h=c("CometRelay").useRelayEnvironment(),j=m(e,a);f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var l=f.familyCenterData;b[2]!==h||b[3]!==l.hasActiveMsgrFamilyCenterEnforcement||b[4]!==g||b[5]!==e||b[6]!==j?(a=function(){var a=d("MWChatTabsNotificationSubscription").subscribe(h,function(a){a=(a==null?void 0:a.messenger_chat_tabs_notification_subscribe)||{};var b=a.message_id,f=a.message_timestamp,h=a.qpl_join_id,k=a.thread_id;if(k==null||f==null||b==null)return;var m=d("MWCMChatTabNotificationsQPLLoggingUtils").createChatTabQPLLogger();m.logEventStreamReceived(h);c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(k))),function(a){a!=null&&(m.logThreadLoaded(),d("MWLSChatTabPolicy").shouldCommunityChatThreadPopup(a,m,l.hasActiveMsgrFamilyCenterEnforcement,function(){var c=d("MWGetCurrentThreadIDForLSThread").get(a.threadKey,a.threadType,!1);m.logOpenChatTab();g(c,a,function(){m.logOpenChatTabSuccess(),d("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_open_auto",source:"auto_open_chat_tabs",surface:"auto_open_chat_tabs_container",thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}),j(k,b,f)})}))})});return function(){a.dispose()}},f=[h,e,g,j,l.hasActiveMsgrFamilyCenterEnforcement],b[2]=h,b[3]=l.hasActiveMsgrFamilyCenterEnforcement,b[4]=g,b[5]=e,b[6]=j,b[7]=a,b[8]=f):(a=b[7],f=b[8]);k(a,f)}g.useOpenCommunityChatTabs=a}),98);
__d("MWV2ChatHeadsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x191j7n5 xdg88n9 x10l6tqk x1useyqa"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWV2ChatOptionsHead.react",["fbt","FDSDots3HorizontalFilled20Icon","MWXDeferredPopoverTrigger.react","MWXIcon_DEPRECATED.react","MWXPressable.react","MWXTooltip.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=c("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.react"),m={head:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"x1qeybcx",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",opacity:"xg01cxk",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"x14qfxbe",":hover_boxShadow":"x19xcq9t",$$css:!0},headVisible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}},n=h._(/*BTDS*/"Options");function a(a){var b=d("react-compiler-runtime").c(11),e=a.isVisible,f=a.openTabCount,g=a.style;a=k(!1);var h=a[0],i=a[1];a=k(!1);var o=a[0],p=a[1];a=k(!1);var q=a[0];a=a[1];f=f>0;var r;b[0]!==f?(r={hasOpenTabs:f},b[0]=f,b[1]=r):r=b[1];b[2]!==o||b[3]!==h||b[4]!==q||b[5]!==e||b[6]!==g?(f=function(a,b){return j.jsx("div",{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p xc9qbxq xrr41r3 x10l6tqk x14qfxbe",style:g,children:j.jsx("div",{className:"x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1kovpyh xhsvlbd x1dmp6jm","data-testid":void 0,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:j.jsx(c("MWXPressable.react"),{label:n,onFocusChange:function(a){return p(a)},onPress:b,ref:a,testid:void 0,xstyle:function(){return[m.head,e||h||o||q?m.headVisible:!1]},children:j.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:n,children:j.jsx(c("MWXIcon_DEPRECATED.react"),{icon:c("FDSDots3HorizontalFilled20Icon")})})})})})},b[2]=o,b[3]=h,b[4]=q,b[5]=e,b[6]=g,b[7]=f):f=b[7];b[8]!==r||b[9]!==f?(a=j.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:a,popoverProps:r,popoverResource:l,position:"above",children:f}),b[8]=r,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("useMWV2PreloadComposeTab",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWV2PreloadComposeTab");function a(){var a=d("react-compiler-runtime").c(3),b=k;b=c("useCometPreloader")("button",b,b);var e=b.onHoverInPreloader;b=b.onHoverOutPreloader;var f;a[0]!==e||a[1]!==b?(f=[e,b],a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function k(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function l(){j.preload()}g["default"]=a}),98);
__d("MWV2ComposeHead.react",["fbt","FDSComposeFilled20Icon","FDSIcon.react","LSThreadAttributionStore","MWChatInteraction","MWChatStateV2.react","MWChatStateV2Types","MWPBumpEntityKey","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWNewChatOpenTabTraceProvider","useMWV2PreloadComposeTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"x1qeybcx",display:"x3nfvp2",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",":hover_boxShadow":"x19xcq9t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.onFocusChange;a=a.onHoverChange;var f=d("MWChatStateV2.react").useDispatch(),g=c("MessengerWebUXLogger").useInteractionLogger(),i=c("useMWNewChatOpenTabTraceProvider")(),k;b[0]!==f||b[1]!==g||b[2]!==i?(k=function(){i(function(a){d("MWChatInteraction").set("open_new",a);g==null||g({eventName:"create_thread"});d("LSThreadAttributionStore").setSourceForNewThread("chatheadsNewMessage");d("MWPBumpEntityKey").bumpEntityKey("comet.sidebar","compose_head_click");var b=Date.now();a=function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,doNotBlockWithEBUpsell:!0,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType}};var c=function(a){var c=a.openWatermark<a.closeWatermark;if(c)return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType};else return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}};return f([{inserter:a,tabConfig:{shouldFocus:!0},tabType:{initialTokens:[],secureThreadToggleEnabled:!1,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:c}])},"chatheadsNewMessage")},b[0]=f,b[1]=g,b[2]=i,b[3]=k):k=b[3];k=k;var m=c("useMWV2PreloadComposeTab")(),n=m[0];m=m[1];var o,p,q,r,s;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"New message"),o=c("MWXTooltip.react"),q="middle",r="start",s=p.toString(),b[4]=o,b[5]=p,b[6]=q,b[7]=r,b[8]=s):(o=b[4],p=b[5],q=b[6],r=b[7],s=b[8]);var t;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=j.jsx(c("FDSIcon.react"),{color:"primary",icon:c("FDSComposeFilled20Icon"),size:20}),b[9]=t):t=b[9];b[10]!==n||b[11]!==m||b[12]!==e||b[13]!==a||b[14]!==k?(o=j.jsx(o,{align:q,position:r,tooltip:s,children:j.jsx(c("MWXPressable.react"),{"aria-label":p,onFocusChange:e,onHoverChange:a,onHoverIn:n,onHoverOut:m,onPress:k,role:"button",testid:void 0,xstyle:l,children:t})}),b[10]=n,b[11]=m,b[12]=e,b[13]=a,b[14]=k,b[15]=o):o=b[15];return o}function l(){return[k.button]}g["default"]=a}),226);
__d("useMWV2MaxChatHeadsCount",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h=5;function a(){var a=c("useCometRouterState")();if(a!=null){var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;if(a.route.tracePolicy==="comet.reels.unified.player")return 1}return h}g["default"]=a}),98);
__d("MWV2ChatHeads.react",["CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometPlaceholder.react","I64","JSResourceForInteraction","MWChatInteraction","MWChatStateContext","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPActor.react","MWV2ChatHeadsLayout.react","MWV2ChatOptionsHead.react","MWV2ComposeHead.react","WebUXLoggingEntryPointContextProvider","lazyLoadComponent","react","react-compiler-runtime","useMWChatStateV2MaxTabCount","useMWV2MaxChatHeadsCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useState,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatHead.react").__setRef("MWV2ChatHeads.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatOverflowHead.react").__setRef("MWV2ChatHeads.react"));function n(a){return{transform:"translateY(-"+Math.imul(a,58)+"px)"}}function o(a){return{transform:"translateY(-"+(Math.imul(a,58)-12)+"px"}}function a(a){var b=d("react-compiler-runtime").c(27);a=a.isMediaViewer;var e=c("useMWV2MaxChatHeadsCount")(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("MWPActor.react").isAPPlus(),b[0]=f):f=b[0];f=f;var g=d("MWChatStateContext").useChatState(r),h=g[0],s=g[1];g=g[2];var t=c("useMWChatStateV2MaxTabCount")(a);s=d("MWChatStateV2TabGroups").getTabGroups(g,h,s,t);t=s.openExcessTabs;s=s.openTabs;a=d("MWChatStateV2HeadGroups").getHeadGroups(a?g:void 0,t,h,e);g=a[0];t=a[1];h=s.length;e=g.length;var u=t.length>0?1:0;a=k(!1);s=a[0];var v=a[1],w;a=t[0];if(t.length===1&&a.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab){a=a.tabType.threadKeyDescriptor;var x=(i||(i=d("I64"))).to_string(a.threadKey),y;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(y=n(1),b[1]=y):y=b[1];w=j.jsx(c("CometErrorBoundary.react"),{fallback:q,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ExcessHeads",children:j.jsx(l,{onFocusChange:v,onHoverChange:v,style:y,tab:t[0],threadKeyDescriptor:a})})},x)}else if(t.length>1){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(y=n(1),b[2]=y):y=b[2];w=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatOverflowHead",children:j.jsx(m,{excessHeads:t,onActiveChange:v,style:y})})}a=d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider;x="chat_heads";t=c("CometHeroInteractionWithDiv.react");y="Comet initial load to chatheads VC";var z;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(z=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),b[3]=z):z=b[3];var A=c("MWV2ChatHeadsLayout.react"),B;b[4]!==e||b[5]!==s||b[6]!==h||b[7]!==u?(B=c("MWV2ChatOptionsHead.react")!=null&&h+e>=2?j.jsx(c("MWV2ChatOptionsHead.react"),{isVisible:s,openTabCount:h,style:o(e+u+1)}):null,b[4]=e,b[5]=s,b[6]=h,b[7]=u,b[8]=B):B=b[8];b[9]!==u||b[10]!==v?(e=function(a,b){var e=a.tabType;if(e.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;b=b+u+1;return j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatHead",children:j.jsx(l,{onFocusChange:v,onHoverChange:v,style:n(b),tab:a,threadKeyDescriptor:e.threadKeyDescriptor})})},(i||(i=d("I64"))).to_string(e.threadKeyDescriptor.threadKey))},b[9]=u,b[10]=v,b[11]=e):e=b[11];s=g.reverse().map(e);b[12]!==v?(h=!f&&j.jsx(c("MWV2ComposeHead.react"),{onFocusChange:v,onHoverChange:v}),b[12]=v,b[13]=h):h=b[13];b[14]!==A||b[15]!==w||b[16]!==B||b[17]!==s||b[18]!==h?(g=j.jsxs(A,{children:[B,s,w,h]}),b[14]=A,b[15]=w,b[16]=B,b[17]=s,b[18]=h,b[19]=g):g=b[19];b[20]!==t||b[21]!==z||b[22]!==g?(e=j.jsx(t,{interactionDesc:y,interactionUUID:z,children:g}),b[20]=t,b[21]=z,b[22]=g,b[23]=e):e=b[23];b[24]!==a||b[25]!==e?(f=j.jsx(a,{value:x,children:e}),b[24]=a,b[25]=e,b[26]=f):f=b[26];return f}function p(){return null}function q(){return null}function r(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g.MWV2ChatHeads=a}),98);
__d("MWV2ChatTabRootLoaderDeferred.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("MWV2ChatTabRootLoader.react").__setRef("MWV2ChatTabRootLoaderDeferred.react"));b=a;g["default"]=b}),98);
__d("MWV2ChatTabsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"xpqajaz x1ey2m1c x78zum5 x1jndppq xixxii4 x1vjfegm"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0,children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWV2ChatTabs.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","HeroInteractionIgnoreWithDiv.react","I64","JSResourceForInteraction","MAWEditMessageContext.react","MWChatInteraction","MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPReplyContext.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabRootLoaderDeferred.react","MWV2ChatTabsLayout.react","MWV2EnsureThatChatTabExists","MWV2IsTabFocusedContext.react","cr:7101","gkx","hero-tracing","lazyLoadComponent","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMWChatStateV2MaxTabCount","useMWV2MaxChatHeadsCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");e=b("cr:7101")||{};var k=e.MWComposerKeyCommandFocusManager,l=e.MWComposerKeyCommandFocusManagerTabIndex,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2ChatTabs.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWV2ChatTabs.react"));function o(a){var b=d("react-compiler-runtime").c(8),e=a.isMinimized,f=a.tab;a=a.threadKeyDescriptor;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(a.threadKey,a.threadType,a.clientThreadKey,"MWV2ChatTabs");var g=c("gkx")("16508");if(g===!0){b[0]!==e||b[1]!==f||b[2]!==a?(g=j.jsx(c("MWV2ChatTabRootLoaderDeferred.react"),{isMinimized:e,tab:f,threadKeyDescriptor:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}b[4]!==e||b[5]!==f||b[6]!==a?(g=j.jsx(n,{isMinimized:e,tab:f,threadKeyDescriptor:a}),b[4]=e,b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}function a(a){var b=d("react-compiler-runtime").c(4);a=a.isMediaViewer;var e=d("MWChatStateContext").useChatState(s),f=e[0],g=e[1];e=e[2];var h=c("useMWChatStateV2MaxTabCount")(a);h=d("MWChatStateV2TabGroups").getTabGroups(a?e:void 0,f,g,h);var i=h.minimizedTabs,n=h.openExcessTabs,u=h.openTabs;h=c("useMWV2MaxChatHeadsCount")();a=d("MWChatStateV2HeadGroups").getHeadGroups(a?e:void 0,n,f,h);var v=a[1],w=c("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);e=i.filter(function(a){return!v.includes(a)}).filter(r);f=[].concat(u,e,n).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened);h=f.map(function(a,b){var e=g===a.tabId,f=a.tabType,h,i=u.indexOf(a)===-1;f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?h=j.jsx(m,{initialTokens:f.initialTokens,tab:a},f.initialTokens.map(q).join()):h=j.jsx(o,{isMinimized:i,tab:a,threadKeyDescriptor:f.threadKeyDescriptor});f=j.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:e,children:j.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:j.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MWV2_CHAT_TAB",interactionUUID:t(a.tabType),pageletName:"ChatTab",ref:w,children:j.jsx(c("CometPlaceholder.react"),{fallback:i?null:j.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),name:"MWV2ChatTabs",children:h})})})})})});return j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:l==null?f:j.jsx(l,{value:b,children:f})},String(a.tabId))});b[0]!==h?(a=k==null?h:j.jsx(k,{children:h}),b[0]=h,b[1]=a):a=b[1];b[2]!==a?(i=j.jsx(c("MWV2ChatTabsLayout.react"),{children:a}),b[2]=a,b[3]=i):i=b[3];return i}function p(){return null}function q(a){return a.id}function r(a){return a.isPreloaded!==!0||a.openWatermark>0}function s(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}function t(a){if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;else{var b=(i||(i=d("I64"))).to_string(a.threadKeyDescriptor.threadKey),e=d("MWChatInteraction").get(b);e==null&&c("FBLogger")("messenger_web").warn("Could not find interaction UUID for thread key %s, client thread key %s",b,a.threadKeyDescriptor.clientThreadKey?(i||(i=d("I64"))).to_string(a.threadKeyDescriptor.clientThreadKey):"<empty>");return e}}g["default"]=a}),98);
__d("useMWLSChatPopperUpper",["FBLogger","I64","JSResourceForInteraction","LSContactType","LSIntEnum","MWChatMessagesOnChatTabLoadTracker","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MWXacGating","MercuryIDs","ReQL","ServerTime","VisibilityAPI","clearInterval","gkx","isMWXacGroupThread","isMessengerPWA","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","setInterval","useGlobalEventListener","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef,m=c("requireDeferred")("MWDesktopNotifications").__setRef("useMWLSChatPopperUpper"),n=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWLSChatPopperUpper"),o=c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWLSChatPopperUpper"),p={contents:void 0};function q(a,b,e,f,g,h,k,l,p,q,r){r===void 0&&(r=d("MWLSChatTabPolicy").shouldMessageBeAllowed);var s=d("MWGetCurrentThreadIDForLSThread").get(f.threadKey,f.threadType,(i||(i=d("I64"))).equal(g.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(i||(i=d("I64"))).equal(g.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)));return r(e,f,g,l,p,function(){var j=c("gkx")("16508");j===!0?c("promiseDone")(o.load()):c("promiseDone")(n.load());var l=d("MercuryIDs").getThreadIDFromThreadFBID((i||(i=d("I64"))).to_string(f.threadKey));d("MWChatMessagesOnChatTabLoadTracker").trackReceivedFor(f.threadKey);return a(s,f,function(){k(e,f,g,h);if(d("VisibilityAPI").isVisibilityHidden()===!0){var a=c("isMessengerPWA")()&&c("justknobx")._("1465");a&&c("promiseDone")(async function(){var a=await m.load();a=a.triggerLocalNotification;await a(b,e,q)}())}if(d("MWChatThreadPingCounter").getCount(l)<3){d("MWChatThreadPingCounter").incrementCount(l);d("MWLSChatPopperCommon").playChatTabSound(e);return}})})}function r(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k==null){c("FBLogger")("messenger_web_entrypoints").mustfix("Thread is null when receiving a new message");return}if(l!=null&&a!=null)return q(g,i,e,k,l,a,j,b,d,f,h)})}function s(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k!=null&&l!=null&&a!=null&&!c("isMWXacGroupThread")(k))return q(g,i,e,k,l,a,j,b,d,f,h)})}function t(a){var b=d("react-compiler-runtime").c(11),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f),h=d("MWPActor.react").useActor(),j=d("MWLSChatPopperCommon").useUpdateDocumentTitle(e,h,p);b[2]===Symbol.for("react.memo_cache_sentinel")?(a=d("ServerTime").getMillis(),b[2]=a):a=b[2];var m=l(a),n=c("useMWNavigation")();f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var o=f.familyCenterData;b[3]!==h||b[4]!==o.hasActiveMsgrFamilyCenterEnforcement||b[5]!==n||b[6]!==g||b[7]!==e||b[8]!==j?(a=function(){return d("ReQL").fromTableAscending(e.tables.messages).subscribe(function(a,b){if(b.operation==="add"){a=b.value;if((i||(i=d("I64"))).to_float(a.timestampMs)<=m.current)return;m.current=(i||(i=d("I64"))).to_float(a.timestampMs);b=d("MWXacGating").isGroupsEnabled()?r:s;return b({actor:h,hasActiveMsgrFamilyCenterEnforcement:o.hasActiveMsgrFamilyCenterEnforcement,message:a,navigationApi:n,openTabFromNewMessage:g,storage:e,updateDocumentTitle:j})}})},f=[h,n,o.hasActiveMsgrFamilyCenterEnforcement,g,e,j],b[3]=h,b[4]=o.hasActiveMsgrFamilyCenterEnforcement,b[5]=n,b[6]=g,b[7]=e,b[8]=j,b[9]=a,b[10]=f):(a=b[9],f=b[10]);k(a,f)}function a(a){var b=d("react-compiler-runtime").c(10),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==e||b[1]!==a?(f={storage:e,withChatTabTracing:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];t(f);var g=l();b[3]===Symbol.for("react.memo_cache_sentinel")?(e=function(){var a=g.current;if(a!=null){c("clearInterval")(a);return}},b[3]=e):e=b[3];var h=e;b[4]===Symbol.for("react.memo_cache_sentinel")?(a=function(){h(),g.current=c("setInterval")(u,6e5)},b[4]=a):a=b[4];f=a;b[5]===Symbol.for("react.memo_cache_sentinel")?(e=function(){d("MWChatThreadPingCounter").clear();return h()},b[5]=e):e=b[5];a=e;b[6]===Symbol.for("react.memo_cache_sentinel")?(e={},b[6]=e):e=b[6];c("useGlobalEventListener")("blur",f,e);b[7]===Symbol.for("react.memo_cache_sentinel")?(f={},b[7]=f):f=b[7];c("useGlobalEventListener")("focus",a,f);b[8]===Symbol.for("react.memo_cache_sentinel")?(e=function(){return function(){return h()}},a=[],b[8]=e,b[9]=a):(e=b[8],a=b[9]);k(e,a)}function u(){return d("MWChatThreadPingCounter").clear()}g.default=a}),98);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","react-compiler-runtime","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),l=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),m={contents:!1};function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){if(m.contents)return;m.contents=!0;var b=d("ReQL").fromTableAscending(e.tables.user_visible_errors).subscribe(function(b,d){switch(d.operation){case"add":var f=d.value;b=f.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;l.onReady(function(b){b.mwPushErrorToast({body:f.errorBodyText!=null?c("translatedServerString")(f.errorBodyText):void 0,onDismiss:function(){k.onReady(function(a){a.removeUserVisibleErrorFromTable(e,f.errorId)})},title:c("translatedServerString")(f.errorTitleText)},a)});return;case"put":case"delete":return}});return function(){m.contents=!1;return b()}},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return j(f,g)}g["default"]=a}),98);
__d("useMWChatInit",["MWLSCommunityChatPopper","MWPGetThreadTitle","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useMWLSChatPopperUpper","useReStore","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(12),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.community_folders||a[1]!==b.tables.contacts||a[2]!==b.tables.participants||a[3]!==b.tables.pinned_threads||a[4]!==b.tables.threads?(e=function(){var a;c("promiseDone")((a=d("ReQL")).toArrayAsync(a.fromTableAscending(b.tables.threads).map(function(a){return[a,d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.tables.participants,[]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).take(d("MWPGetThreadTitle").amountToFetchForTitle),f.id+":34")]}).take(30)));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.pinned_threads.index("pinnedTimestamp"))));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.community_folders)))},a[0]=b.tables.community_folders,a[1]=b.tables.contacts,a[2]=b.tables.participants,a[3]=b.tables.pinned_threads,a[4]=b.tables.threads,a[5]=e):e=a[5];var g;a[6]!==b?(g=[b],a[6]=b,a[7]=g):g=a[7];j(e,g);c("useSubscribeToErrorTableAndShowToast")();a[8]!==b?(e={storage:b,withChatTabTracing:!0},a[8]=b,a[9]=e):e=a[9];c("useMWLSChatPopperUpper")(e);a[10]!==b?(g={storage:b,withChatTabTracing:!0},a[10]=b,a[11]=g):g=a[11];d("MWLSCommunityChatPopper").useOpenCommunityChatTabs(g)}g["default"]=a}),98);
__d("useMWIsAPPlusChannelsInbox",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.messenger.applus.inbox"}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMessengerMediaViewer",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.sharedmediaviewer.media"}g["default"]=a}),98);
__d("useMWV2ChatUpdateMediaViewerOpenWatermark",["MWChatStateActions","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWChatStateV2.react").useDispatch(),c;a[0]!==b?(c=function(){var a=Date.now();b(d("MWChatStateActions").updateMediaViewerOpenWatermark(a))},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWV2CookieWriter",["DeferredCookie","FBLogger","I64","MWCMThreadTypes.react","MWChatStateV2Types","Promise","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){switch(Number((i||(i=d("I64"))).to_string(a))){case 2:return"g.";case 15:return"sc.";case 16:return"sg.";case 18:return"cg.";case 19:return"cgu.";case 23:return"cbj.";case 24:return"cbu.";case 21:return"cphj.";case 22:return"cphu.";case 150:return"dp.";case 151:return"dpu.";case 152:return"dpb.";case 153:return"dpbu.";case 154:return"dp2.";case 155:return"dp2u.";default:return"u."}}function a(a,e,f){var g=function(a){if(e==null)return!1;var b=e.tabType;if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;else return(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a)},k=function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.threads).getKeyRange(a))},l={contents:void 0};a=a.map(function(a){var c=a.isOpen,e=a.threadKey,f=a.threadType,m={o:c?1:0};return k(e).then(function(a){if(a!=null)if(g(e)){d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(l.contents=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve()}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(m.p=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve(m)}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);return(h||(h=b("Promise"))).resolve(m)}})});c("promiseDone")((h||(h=b("Promise"))).all(a).then(function(a){var f;if(e!=null){var g=e.tabType;if(g.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)f=void 0;else{g=g.threadKeyDescriptor;var k=g.threadKey;g=g.threadType;f=j(g)+(i||(i=d("I64"))).to_string(k)}}else f=void 0;g=a.filter(function(a){return a!=null});k=l.contents;a=k!=null?JSON.stringify({lm3:f,lm3p:k,t3:g,utc3:Date.now(),v:1}):JSON.stringify({lm3:f,t3:g,utc3:Date.now(),v:1});a!=null?c("DeferredCookie").addToQueue("presence","C"+a,0,"/",!1,!1,!0):c("FBLogger")("messenger_comet").mustfix("Failed to serialize cookie");return(h||(h=b("Promise"))).resolve()}))}g.write=a}),98);
__d("useMWV2CookieWriter",["MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2IsOpen","MWChatStateV2Types","MWPActor.react","MWV2CookieWriter","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateContext").useChatState(n),e=(h||(h=c("useReStore")))(),f,g;a[0]!==e||a[1]!==b?(f=function(){if(d("MWPActor.react").isAPPlus())return;var a=Array.from(b.values()).filter(m).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened)[0],c=[];Array.from(b.values()).filter(l).sort(k).forEach(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;c.push(babelHelpers["extends"]({},a.threadKeyDescriptor,{isOpen:!1}))});d("MWV2CookieWriter").write(c,a,e)},g=[e,b],a[0]=e,a[1]=b,a[2]=f,a[3]=g):(f=a[2],g=a[3]);j(f,g)}function k(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b);else return c}function l(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}function m(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}function n(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTabsRoot.react",["CometContextualLayerAnchorRoot.react","CometDOMOnlyBoundary.react","CometPlaceholder.react","FocusRegion.react","MWChatStateV2.react","MWChatVisibilityOverrideContext","MWDraftMessages.react","MWFallbackWithTimeout.react","MWLSThreadDisplayContext","MWV2ChatHeads.react","MWV2ChatTabs.react","WebUXLoggingEntryPointContextProvider","focusScopeQueries","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated","useMWChatInit","useMWIsAPPlusChannelsInbox","useMWIsTopLevelRouteMediaViewerExperiment","useMWIsTopLevelRouteMessengerMediaViewer","useMWV2ChatUpdateMediaViewerOpenWatermark","useMWV2CookieWriter","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;function k(a){var b=d("react-compiler-runtime").c(16);a=a.isMediaViewer;var e=d("MWChatStateV2.react").useChatState(m),f=c("useMWIsTopLevelRouteMessengerMediaViewer")();e=Array.from(e.values()).some(l);e=e;var g;b[0]!==f?(g={0:{className:"x1ey2m1c xtijo5x xixxii4 xamhafn x1vjfegm"},1:{className:"x1ey2m1c xtijo5x xixxii4 xamhafn x1vjfegm x1s85apg"}}[!!f<<0],b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xuk3077 x78zum5 xc8icb0"},b[2]=f):f=b[2];e=e?d("focusScopeQueries").tabbableScopeQuery:void 0;var h;b[3]!==a?(h=i.jsx(c("MWV2ChatTabs.react"),{isMediaViewer:a}),b[3]=a,b[4]=h):h=b[4];var j;b[5]!==a?(j=i.jsx(c("CometDOMOnlyBoundary.react"),{children:i.jsx(d("MWV2ChatHeads.react").MWV2ChatHeads,{isMediaViewer:a})}),b[5]=a,b[6]=j):j=b[6];b[7]!==h||b[8]!==j?(a=i.jsxs(i.Fragment,{children:[h,j]}),b[7]=h,b[8]=j,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(h=i.jsx(c("CometContextualLayerAnchorRoot.react"),{children:i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(d("FocusRegion.react").FocusRegion,{containFocusQuery:e,id:"MWV2ChatTabsRootChatTabsFocusRegion",children:a})}))}),b[10]=e,b[11]=a,b[12]=h):h=b[12];b[13]!==g||b[14]!==h?(j=i.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"popup_chat_box",children:i.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:i.jsx(d("MWDraftMessages.react").MWDraftProvider,{children:i.jsx("div",babelHelpers["extends"]({},g,{children:h}))})})}),b[13]=g,b[14]=h,b[15]=j):j=b[15];f=j;return f}function l(a){return a.openWatermark>a.closeWatermark}function m(a){return a.tabs}function n(a){a=a.children;c("useMWV2CookieWriter")();c("useMWChatInit")();return a}function a(){var a=d("react-compiler-runtime").c(10),b=c("useMWIsTopLevelRouteMediaViewerExperiment")(),e=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(b),f=c("useMWV2ChatUpdateMediaViewerOpenWatermark")(),g=c("useMWIsAPPlusChannelsInbox")();e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT_TABS_ROOT")&&e&&!g;var h;a[0]!==b||a[1]!==f?(g=function(){b&&f()},h=[b,f],a[0]=b,a[1]=f,a[2]=g,a[3]=h):(g=a[2],h=a[3]);j(g,h);c("useEnsureViewerContactExistAndUpdated")();a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTabsRoot suspense timeout"}),a[4]=g):g=a[4];a[5]!==b||a[6]!==e?(h=e?i.jsx(k,{isMediaViewer:b}):null,a[5]=b,a[6]=e,a[7]=h):h=a[7];a[8]!==h?(e=i.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWV2ChatTabsRoot",children:i.jsx(n,{children:h})}),a[8]=h,a[9]=e):e=a[9];g=e;return g}g["default"]=a}),98);
__d("MWV2ChatContainer.react",["MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react","MWV2ChatTabsRoot.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ChatTabsRoot.react"),{}),i.jsx(c("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"),{})]}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useMWJewelStartLoadingLogger",["CometBlendedInitialLoadTraceLog","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=c("qpl")._(30616158,"2565");function a(){var a=d("react-compiler-runtime").c(3),b=j(!1),e=k(),f=e[0],g=e[1],h=c("useCometInteractionTracing")(l,"slower","INTERACTION"),n;a[0]!==h?(e=function(){b.current||(b.current=!0,h(function(a){c("CometBlendedInitialLoadTraceLog").logStart("mwj_badge",a.getInstanceKey(),a.getTrace()),g(a.getTraceId()),a.onVcMetricsComplete(function(b,d){c("CometBlendedInitialLoadTraceLog").logVc("mwj_badge",a.getInstanceKey(),b,d)}),a.onLog(m)},0))},n=[h],a[0]=h,a[1]=e,a[2]=n):(e=a[1],n=a[2]);i(e,n);return f}function m(a,b){c("CometBlendedInitialLoadTraceLog").log("mwj_badge",b)}g["default"]=a}),98);