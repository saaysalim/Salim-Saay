;/*FB_PKG_DELIM*/

__d("CometClosedCaptionSubmenuContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useState,l=e({selectedLocale:null,setSelectedLocale:function(){}});function a(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.initialCaptionLocale;a=k(a);var e=a[0];a=a[1];b[0]!==e?(a={selectedLocale:e,setSelectedLocale:a},b[0]=e,b[1]=a):a=b[1];e=a;a=e;b[2]!==c||b[3]!==a?(e=i.jsx(l.Provider,{value:a,children:c}),b[2]=c,b[3]=a,b[4]=e):e=b[4];return e}function b(){return j(l)}g.CometClosedCaptionSubmenuContextProvider=a;g.useCometClosedCaptionSubmenuContext=b}),98);
__d("useCaptionsMetadataFromLocale",["FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(5);bb0:{if(f[0]!==a||f[1]!==b){var g;f[3]!==b?(g=function(a){return a.locale===b},f[3]=b,f[4]=g):g=f[4];g=a.find(g);f[0]=a;f[1]=b;f[2]=g}else g=f[2];f=g;if(f==null){if(a.length===0){c("FBLogger")(e).mustfix("No available caption locales found when trying to set currentLocaleMetadata");g=null;break bb0}g=a[0];break bb0}g=f}e=g;return e}g["default"]=a}),98);
__d("CometClosedCaptionLanguageMenu.react",["fbt","BaseMultiPageViewContext","CometClosedCaptionSubmenuContext.react","FDSMenuItem.react","FDSMenuItemRadio.react","FDSMenuItemWithSubmenu.react","react","react-compiler-runtime","useCaptionsMetadataFromLocale"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(33),e=a.availableCaptionsMetadatasSorted,f=a.captionLanguageSelectionMeta,g=a.captionLanguageSelectionTitle,i=a.controller,m=a.loggerNamespace,n=a.setSelectedLocale;b[0]!==f?(a=f===void 0?h._(/*BTDS*/"Some languages and locales may be unavailable."):f,b[0]=f,b[1]=a):a=b[1];f=a;b[2]!==g?(a=g===void 0?h._(/*BTDS*/"Captions language"):g,b[2]=g,b[3]=a):a=b[3];g=a;var o=k(c("BaseMultiPageViewContext"));a=d("CometClosedCaptionSubmenuContext.react").useCometClosedCaptionSubmenuContext();var p=a.selectedLocale,q=a.setSelectedLocale,r=c("useCaptionsMetadataFromLocale")(e,p,m);b[4]!==i||b[5]!==r?(a=function(){r!=null&&(i==null||i.setCaptionsUrl(r.captionsUrl))},m=[i,r],b[4]=i,b[5]=r,b[6]=a,b[7]=m):(a=b[6],m=b[7]);l(a,m);if(r==null){b[8]!==g?(a=j.jsx(c("FDSMenuItem.react"),{primaryText:g}),b[8]=g,b[9]=a):a=b[9];return a}b[10]!==e||b[11]!==o||b[12]!==i||b[13]!==n||b[14]!==q?(m=function(a){q==null||q(a);n==null||n(a);var b=e.find(function(b){return b.locale===a});o==null||o.popPage==null||o.popPage();b!=null&&(i==null||i.setCaptionsUrl(b.captionsUrl))},b[10]=e,b[11]=o,b[12]=i,b[13]=n,b[14]=q,b[15]=m):m=b[15];var s=m;a=r.localizedLanguage;b[16]!==f||b[17]!==g?(m={meta:f,title:g},b[16]=f,b[17]=g,b[18]=m):m=b[18];if(b[19]!==e||b[20]!==s||b[21]!==p){b[23]!==s||b[24]!==p?(f=function(a,b){return j.jsx(c("FDSMenuItemRadio.react"),{alignCenter:!0,isSelected:a.locale===p,onClick:function(){return s(a.locale)},preventClosingMenuOnSelect:!0,primaryText:a.localizedLanguage},"locale-"+a.locale+"-index-"+b)},b[23]=s,b[24]=p,b[25]=f):f=b[25];f=e.map(f);b[19]=e;b[20]=s;b[21]=p;b[22]=f}else f=b[22];var t;b[26]!==f||b[27]!==m?(t={header:m,items:f},b[26]=f,b[27]=m,b[28]=t):t=b[28];b[29]!==g||b[30]!==r.localizedLanguage||b[31]!==t?(f=j.jsx(c("FDSMenuItemWithSubmenu.react"),{primaryText:g,secondaryText:a,submenu:t}),b[29]=g,b[30]=r.localizedLanguage,b[31]=t,b[32]=f):f=b[32];return f}g["default"]=a}),226);
__d("CometClosedCaptionMenuItem_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometClosedCaptionMenuItem_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video_closed_caption"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometClosedCaptionToggle.react",["fbt","CometClosedCaptionSubmenuContext.react","FBLogger","FDSMenuItemCheckbox.react","react","react-compiler-runtime","useCaptionsMetadataFromLocale"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsMetadatasSorted,f=a.controller,g=a.isCaptionsVisible,i=a.loggerNamespace,l=a.primaryText,m=a.secondaryText,n=a.setIsCaptionsVisible;b[0]!==l?(a=l===void 0?h._(/*BTDS*/"Show captions"):l,b[0]=l,b[1]=a):a=b[1];l=a;b[2]!==m?(a=m===void 0?h._(/*BTDS*/"See auto-generated closed captions."):m,b[2]=m,b[3]=a):a=b[3];m=a;if(b[4]!==f||b[5]!==g){a=(a=g!=null?g:f==null?void 0:f.getCurrentState().captionsVisible)!=null?a:!1;b[4]=f;b[5]=g;b[6]=a}else a=b[6];g=k(a);var o=g[0],p=g[1];a=d("CometClosedCaptionSubmenuContext.react").useCometClosedCaptionSubmenuContext();g=a.selectedLocale;var q=(a=c("useCaptionsMetadataFromLocale")(e,g,i))==null?void 0:a.captionsUrl;b[7]!==f||b[8]!==o||b[9]!==i||b[10]!==q||b[11]!==n?(e=function(){var a=!o;p(a);f==null||f.setCaptionsVisible(a);q!=null?f==null||f.setCaptionsUrl(q):c("FBLogger")(i).mustfix("selectedCaptionUrl should not be null");n&&n(a)},b[7]=f,b[8]=o,b[9]=i,b[10]=q,b[11]=n,b[12]=e):e=b[12];g=e;b[13]!==g||b[14]!==o||b[15]!==l||b[16]!==m?(a=j.jsx(c("FDSMenuItemCheckbox.react"),{asSwitch:!0,isSelected:o,onClick:g,preventClosingMenuOnSelect:!0,primaryText:l,secondaryText:m}),b[13]=g,b[14]=o,b[15]=l,b[16]=m,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("FDSClosedCaptionOutline20Icon",["cr:13986"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13986")}),98);
__d("useInitialCaptionLocale",["IntlCurrentLocale","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a==null||a==="")return null;b=(b=b.find(function(b){return b.captionsUrl===a}))==null?void 0:b.locale;if(b!=null)return b}function i(a,b){return a==null||a===""?!1:b.some(function(b){return b.locale===a})}function a(a,b,e){var f=d("react-compiler-runtime").c(3);if(i(a,e))return a!=null?a:"";f[0]!==e||f[1]!==b?(a=h(b,e),f[0]=e,f[1]=b,f[2]=a):a=f[2];b=a;if(b!=null)return b;f=c("IntlCurrentLocale").code;return i(f,e)?f:(b=(a=e[0])==null?void 0:a.locale)!=null?b:""}g["default"]=a}),98);
__d("CometClosedCaptionMenuItem.react",["fbt","CometClosedCaptionLanguageMenu.react","CometClosedCaptionMenuItem_video.graphql","CometClosedCaptionSubmenuContext.react","CometClosedCaptionToggle.react","CometRelay","FBLogger","FDSClosedCaptionOutline20Icon","FDSMenuItem.react","FDSMenuItemWithSubmenu.react","isEmpty","react","react-compiler-runtime","useInitialCaptionLocale","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));k.useMemo;function a(a){var e=d("react-compiler-runtime").c(44),f=a.captionMenuTitle,g=a.controller,k=a.isCaptionsVisible,o=a.loggerNamespace,p=a.selectedLocale,q=a.setIsCaptionsVisible,r=a.setSelectedLocale,s=a.testid;a=a.video;var t;e[0]!==f?(t=f===void 0?h._(/*BTDS*/"Captions and translations"):f,e[0]=f,e[1]=t):t=e[1];f=t;t=d("CometRelay").useFragment(i!==void 0?i:i=b("CometClosedCaptionMenuItem_video.graphql"),a);a=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(t==null?void 0:t.video_closed_caption);if(e[2]!==a||e[3]!==o){var u;e[5]!==o?(u=function(a){if(a.captionsUrl==null){var b;c("FBLogger")(o).warn("Filtering out locale with null captionsUrl: "+((b=a.locale)!=null?b:"unknown locale"));return!1}if(a.localizedLanguage==null){c("FBLogger")(o).warn("Filtering out locale with null localizedLanguage: "+((b=a.locale)!=null?b:"unknown locale"));return!1}if(a.locale==null){c("FBLogger")(o).warn("Filtering out locale with null locale");return!1}return!0},e[5]=o,e[6]=u):u=e[6];u=(a!=null?a:[]).filter(u).map(n);u=u.slice().sort(m);e[2]=a;e[3]=o;e[4]=u}else u=e[4];a=u;u=a;var v=c("useInitialCaptionLocale")(p,t==null?void 0:t.captions_url,u);if(e[7]!==u||e[8]!==v){a=(t=(a=u.find(function(a){return a.locale===v}))==null?void 0:a.captionsUrl)!=null?t:"";e[7]=u;e[8]=v;e[9]=a}else a=e[9];var w=a;if(u.length===0||v===""){c("FBLogger")(o).mustfix("No available captions locales found for video");e[10]!==f?(t=l.jsx(c("FDSMenuItem.react"),{primaryText:f}),e[10]=f,e[11]=t):t=e[11];return t}a=u.find(function(a){return a.locale===v})!=null;e[12]!==v||e[13]!==w||e[14]!==p||e[15]!==r?(t=function(){(j||(j=c("isEmpty")))(p)&&!(j||(j=c("isEmpty")))(v)&&!(j||(j=c("isEmpty")))(w)&&(r==null||r(v))},e[12]=v,e[13]=w,e[14]=p,e[15]=r,e[16]=t):t=e[16];var x;e[17]!==f?(x={title:f},e[17]=f,e[18]=x):x=e[18];k=k===!0&&a;e[19]!==u||e[20]!==g||e[21]!==o||e[22]!==q||e[23]!==k?(a=l.jsx(c("CometClosedCaptionToggle.react"),{availableCaptionsMetadatasSorted:u,controller:g,isCaptionsVisible:k,loggerNamespace:o,setIsCaptionsVisible:q},"caption-toggle"),e[19]=u,e[20]=g,e[21]=o,e[22]=q,e[23]=k,e[24]=a):a=e[24];e[25]!==u||e[26]!==g||e[27]!==o||e[28]!==r?(q=l.jsx(c("CometClosedCaptionLanguageMenu.react"),{availableCaptionsMetadatasSorted:u,controller:g,loggerNamespace:o,setSelectedLocale:r},"caption-language-menu"),e[25]=u,e[26]=g,e[27]=o,e[28]=r,e[29]=q):q=e[29];e[30]!==q||e[31]!==a?(k=[a,q],e[30]=q,e[31]=a,e[32]=k):k=e[32];e[33]!==v||e[34]!==k?(u=[l.jsx(d("CometClosedCaptionSubmenuContext.react").CometClosedCaptionSubmenuContextProvider,{initialCaptionLocale:v,children:k},"caption-submenu-context")],e[33]=v,e[34]=k,e[35]=u):u=e[35];e[36]!==u||e[37]!==x?(g={header:x,items:u},e[36]=u,e[37]=x,e[38]=g):g=e[38];e[39]!==f||e[40]!==g||e[41]!==t||e[42]!==s?(q=l.jsx(c("FDSMenuItemWithSubmenu.react"),{icon:c("FDSClosedCaptionOutline20Icon"),onClick:t,primaryText:f,submenu:g,testid:void 0}),e[39]=f,e[40]=g,e[41]=t,e[42]=s,e[43]=q):q=e[43];return q}function m(a,b){return a.localizedLanguage>b.localizedLanguage?1:-1}function n(a){var b;return{captionsUrl:(b=a.captionsUrl)!=null?b:"",locale:(b=a.locale)!=null?b:"",localizedLanguage:(b=a.localizedLanguage)!=null?b:""}}g["default"]=a}),226);
__d("FBUnifiedVideoClosedCaptionMenuItem_caption.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FBUnifiedVideoClosedCaptionMenuItem_caption",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometClosedCaptionMenuItem_video"}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video"}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("FBUnifiedVideoClosedCaptionMenuItem.react",["CometClosedCaptionMenuItem.react","CometRelay","FBUnifiedVideoClosedCaptionContextProvider","FBUnifiedVideoClosedCaptionMenuItem_caption.graphql","FBUnifiedVideoPlayerControllerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e,f=d("react-compiler-runtime").c(7);a=a.caption;a=d("CometRelay").useFragment(h!==void 0?h:h=b("FBUnifiedVideoClosedCaptionMenuItem_caption.graphql"),a);var g=k(c("FBUnifiedVideoPlayerControllerContext"));g=g.controller;var i=d("FBUnifiedVideoClosedCaptionContextProvider").useFBUnifiedVideoClosedCaptionContext(),l=i.isCaptionsVisible,m=i.selectedLocale,n=i.setIsCaptionsVisible;i=i.setSelectedLocale;a=a==null||(e=a.attachments)==null||(e=e[0])==null||(e=e.media)==null?void 0:e.video;var o;f[0]!==g||f[1]!==l||f[2]!==m||f[3]!==n||f[4]!==i||f[5]!==a?(o=j.jsx(c("CometClosedCaptionMenuItem.react"),{controller:g,isCaptionsVisible:l,loggerNamespace:"fb_reels_web",selectedLocale:m,setIsCaptionsVisible:n,setSelectedLocale:i,testid:void 0,video:a}),f[0]=g,f[1]=l,f[2]=m,f[3]=n,f[4]=i,f[5]=a,f[6]=o):o=f[6];return o}g["default"]=a}),98);
__d("FDSClosedCaptionOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("662655"),20);b=a;g["default"]=b}),98);
__d("StoriesClosedCaptionMenuItem_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesClosedCaptionMenuItem_video",selections:[{args:null,kind:"FragmentSpread",name:"CometClosedCaptionMenuItem_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useStoriesVideoPlayerControllerFromContext",["StoriesVideoPlayerControllerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("StoriesVideoPlayerControllerContext")).controller}g["default"]=a}),98);
__d("StoriesClosedCaptionMenuItem.react",["CometClosedCaptionMenuItem.react","CometRelay","StoriesClosedCaptionContextProvider.react","StoriesClosedCaptionMenuItem_video.graphql","react","react-compiler-runtime","useStoriesVideoPlayerControllerFromContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7);a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("StoriesClosedCaptionMenuItem_video.graphql"),a);var f=c("useStoriesVideoPlayerControllerFromContext")(),g=d("StoriesClosedCaptionContextProvider.react").useStoriesClosedCaptionContext(),i=g.isCaptionsVisible,k=g.selectedLocale,l=g.setIsCaptionsVisible;g=g.setSelectedLocale;var m;e[0]!==f||e[1]!==i||e[2]!==k||e[3]!==l||e[4]!==g||e[5]!==a?(m=j.jsx(c("CometClosedCaptionMenuItem.react"),{controller:f,isCaptionsVisible:i,loggerNamespace:"stories",selectedLocale:k,setIsCaptionsVisible:l,setSelectedLocale:g,testid:void 0,video:a}),e[0]=f,e[1]=i,e[2]=k,e[3]=l,e[4]=g,e[5]=a,e[6]=m):m=e[6];return m}g["default"]=a}),98);